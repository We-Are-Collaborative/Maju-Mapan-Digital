"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const u=require("./index-ByRfqzMr.cjs"),s=require("react/jsx-runtime"),m=require("react"),b=require("./ActionMenuButton-BCgqJsST.cjs"),d=require("./RichTextEditor-DWlLqTl9.cjs"),x=u.Node.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,u.mergeAttributes(this.options.HTMLAttributes,t),0]},addCommands(){return{setHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.setNode(this.name,e):!1,toggleHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.toggleNode(this.name,"paragraph",e):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>u.textblockTypeInputRule({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}});function M(e){var l;const t=m.useMemo(()=>{var a;const n=(a=e==null?void 0:e.items)==null?void 0:a.find(o=>o.isActive());return n&&!n.default?{...n}:{title:e.tooltip,level:0,isActive:()=>!1}},[e]);return s.jsxs(d.DropdownMenu,{children:[s.jsx(d.DropdownMenuTrigger,{asChild:!0,disabled:e==null?void 0:e.disabled,children:s.jsx(b.ActionMenuButton,{disabled:e==null?void 0:e.disabled,icon:"MenuDown",title:t==null?void 0:t.title,tooltip:e==null?void 0:e.tooltip,tooltipOptions:e==null?void 0:e.tooltipOptions})}),s.jsx(d.DropdownMenuContent,{className:"richtext-w-full",children:(l=e==null?void 0:e.items)==null?void 0:l.map((n,c)=>{var a,o;return s.jsxs(m.Fragment,{children:[s.jsxs(d.DropdownMenuCheckboxItem,{checked:(t==null?void 0:t.title)===n.title,onClick:n.action,children:[s.jsx("div",{className:`heading- richtext-ml-1 richtext-h-full${n.level}`,children:n.title}),!!((a=n==null?void 0:n.shortcutKeys)!=null&&a.length)&&s.jsx(d.DropdownMenuShortcut,{className:"richtext-pl-4",children:(o=n==null?void 0:n.shortcutKeys)==null?void 0:o.map(r=>d.getShortcutKey(r)).join(" ")})]}),n.level===0&&s.jsx(d.DropdownMenuSeparator,{})]},`heading-k-${c}`)})})]})}const A=x.extend({addOptions(){var e;return{...(e=this.parent)==null?void 0:e.call(this),levels:[1,2,3,4,5,6],button({editor:t,extension:l,t:n}){var h,g;const{extensions:c=[]}=t.extensionManager??[],a=((h=l.options)==null?void 0:h.levels)||[],o=c.find(i=>i.name==="base-kit"),r=a.map(i=>{var f;return{action:()=>t.commands.toggleHeading({level:i}),isActive:()=>t.isActive("heading",{level:i})||!1,disabled:!t.can().toggleHeading({level:i}),title:n(`editor.heading.h${i}.tooltip`),level:i,shortcutKeys:((f=l.options.shortcutKeys)==null?void 0:f[i])??["alt","mod",`${i}`]}});o&&o.options.paragraph!==!1&&r.unshift({action:()=>t.commands.setParagraph(),isActive:()=>t.isActive("paragraph")||!1,disabled:!t.can().setParagraph(),level:0,title:n("editor.paragraph.tooltip"),shortcutKeys:((g=l.options.shortcutKeys)==null?void 0:g[0])??["alt","mod","0"]});const v=r.filter(i=>i.disabled).length===r.length;return{component:M,componentProps:{tooltip:n("editor.heading.tooltip"),disabled:v,items:r,editor:t}}}}}});exports.Heading=A;
