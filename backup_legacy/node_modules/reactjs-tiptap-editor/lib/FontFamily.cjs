"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});require("./index-DclQSrIx.cjs");const y=require("./index-ByRfqzMr.cjs"),m=require("./index-D_A0TBRA.cjs"),o=require("react/jsx-runtime"),F=require("react"),h=require("./ActionMenuButton-BCgqJsST.cjs"),u=require("./RichTextEditor-DWlLqTl9.cjs"),x=y.Extension.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:t=>t.style.fontFamily,renderHTML:t=>t.fontFamily?{style:`font-family: ${t.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:t=>({chain:i})=>i().setMark("textStyle",{fontFamily:t}).run(),unsetFontFamily:()=>({chain:t})=>t().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}});function M(t){var f,c,d;const{t:i,lang:s}=m.useLocale(),n=F.useMemo(()=>{var a;const e=(a=t==null?void 0:t.items)==null?void 0:a.find(l=>l.isActive());return e&&!e.default?{...e}:{title:t.tooltip,font:i("editor.fontFamily.default.tooltip"),isActive:()=>!1,disabled:!1,action:()=>t.editor.chain().focus().unsetFontFamily().run()}},[i,s,t]);return o.jsxs(u.DropdownMenu,{children:[o.jsx(u.DropdownMenuTrigger,{asChild:!0,disabled:t==null?void 0:t.disabled,children:o.jsx(h.ActionMenuButton,{disabled:t==null?void 0:t.disabled,icon:"MenuDown",title:((f=n==null?void 0:n.font)==null?void 0:f.length)>7?`${(c=n==null?void 0:n.font)==null?void 0:c.slice(0,6)}...`:n==null?void 0:n.font,tooltip:t==null?void 0:t.tooltip,tooltipOptions:t==null?void 0:t.tooltipOptions})}),o.jsx(u.DropdownMenuContent,{className:"richtext-w-full",children:(d=t==null?void 0:t.items)==null?void 0:d.map((e,r)=>{const a=e.font===i("editor.fontFamily.default.tooltip")?{}:{fontFamily:e.font};return o.jsxs(F.Fragment,{children:[o.jsx(u.DropdownMenuCheckboxItem,{checked:(n==null?void 0:n.font)===e.font,onClick:e.action,children:o.jsx("div",{className:"richtext-ml-1 richtext-h-full",style:a,children:e.font})}),e.font===i("editor.fontFamily.default.tooltip")&&o.jsx(u.DropdownMenuSeparator,{})]},`font-family-${r}`)})})]})}const b=x.extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),fontFamilyList:m.DEFAULT_FONT_FAMILY_LIST,button({editor:i,extension:s,t:n}){var a;const{extensions:f=[]}=i.extensionManager??[],c=u.ensureNameValueOptions(((a=s==null?void 0:s.options)==null?void 0:a.fontFamilyList)||[]),d=f.find(l=>l.name==="base-kit"),e=c.map(l=>({action:()=>{i.chain().focus().setFontFamily(l.value).run()},isActive:()=>i.isActive("textStyle",{fontFamily:l.value})||!1,disabled:!i.can().setFontFamily(l.value),title:l.name,font:l.value}));d&&d.options.textStyle!==!1&&e.unshift({action:()=>i.chain().focus().unsetFontFamily().run(),isActive:()=>!1,disabled:!1,font:n("editor.fontFamily.default.tooltip"),title:n("editor.fontFamily.tooltip")});const r=e.filter(l=>l.disabled).length===e.length;return{component:M,componentProps:{tooltip:n("editor.fontFamily.tooltip"),disabled:r,items:e,editor:i}}}}}});exports.DEFAULT_FONT_FAMILY_LIST=m.DEFAULT_FONT_FAMILY_LIST;exports.FontFamily=b;
