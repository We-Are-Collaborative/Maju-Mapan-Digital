"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const v=require("./index-ByRfqzMr.cjs"),l=require("react/jsx-runtime"),M=require("react"),s=require("./RichTextEditor-DWlLqTl9.cjs"),S=v.Extension.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(n=>e.updateAttributes(n,{textAlign:t})).every(n=>n):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).every(e=>e),toggleTextAlign:t=>({editor:e,commands:n})=>this.options.alignments.includes(t)?e.isActive({textAlign:t})?n.unsetTextAlign():n.setTextAlign(t):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}});function C(t){var n;const e=M.useMemo(()=>{var o;const i=(o=t==null?void 0:t.items)==null?void 0:o.find(a=>a.isActive());return i&&!i.default?{...i,icon:i.icon?i.icon:t.icon}:{title:t==null?void 0:t.tooltip,icon:t.icon,isActive:()=>!1}},[t]);return l.jsxs(s.Popover,{modal:!0,children:[l.jsx(s.PopoverTrigger,{asChild:!0,disabled:t==null?void 0:t.disabled,children:l.jsx(s.ActionButton,{customClass:"!richtext-w-12 richtext-h-12",disabled:t==null?void 0:t.disabled,icon:t==null?void 0:t.icon,tooltip:t==null?void 0:t.tooltip,tooltipOptions:t==null?void 0:t.tooltipOptions,children:l.jsx(s.IconComponent,{className:"richtext-ml-1 richtext-size-3 richtext-text-zinc-500",name:"MenuDown"})})}),l.jsx(s.PopoverContent,{align:"start",className:"richtext-flex richtext-w-full richtext-min-w-4 richtext-flex-row richtext-gap-1 !richtext-p-[4px]",side:"bottom",children:(n=t==null?void 0:t.items)==null?void 0:n.map((i,h)=>{var o,a;return l.jsxs(s.Tooltip,{children:[l.jsx(s.TooltipTrigger,{asChild:!0,children:l.jsx(s.Toggle,{className:"richtext-size-7 richtext-p-1","data-state":e.title===i.title?"on":"off",onClick:i==null?void 0:i.action,pressed:e.title===i.title,size:"sm",children:(i==null?void 0:i.icon)&&l.jsx(s.IconComponent,{name:i.icon})})}),l.jsxs(s.TooltipContent,{className:"richtext-flex richtext-flex-col richtext-items-center",children:[l.jsx("span",{children:i.title}),!!((o=i.shortcutKeys)!=null&&o.length)&&l.jsx("span",{children:(a=i.shortcutKeys)==null?void 0:a.map(r=>s.getShortcutKey(r)).join(" ")})]})]},`text-align-${h}`)})})]})}const K=S.extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),types:["heading","paragraph","list_item","title"],button({editor:e,extension:n,t:i}){var g,x,f,A,m;const h=((g=n.options)==null?void 0:g.alignments)||[],o={left:((x=n.options.shortcutKeys)==null?void 0:x[0])??["mod","Shift","L"],center:((f=n.options.shortcutKeys)==null?void 0:f[1])??["mod","Shift","E"],right:((A=n.options.shortcutKeys)==null?void 0:A[2])??["mod","Shift","R"],justify:((m=n.options.shortcutKeys)==null?void 0:m[3])??["mod","Shift","J"]},a={left:"AlignLeft",center:"AlignCenter",right:"AlignRight",justify:"AlignJustify"},r=h.map(c=>{var y,u,T;return{title:i(`editor.textalign.${c}.tooltip`),icon:a[c],shortcutKeys:o[c],isActive:()=>e.isActive({textAlign:c})||!1,action:()=>{var d,j;return(j=(d=e.commands)==null?void 0:d.setTextAlign)==null?void 0:j.call(d,c)},disabled:!((T=(u=(y=e==null?void 0:e.can)==null?void 0:y.call(e))==null?void 0:u.setTextAlign)!=null&&T.call(u,c))}}),b=r.filter(c=>c.disabled).length===r.length;return{component:C,componentProps:{icon:"AlignJustify",tooltip:i("editor.textalign.tooltip"),disabled:b,items:r}}}}}});exports.TextAlign=K;
