/*
 *             Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import{ContextPlugin as _0x3b5331,Editor as _0x364427}from'@ckeditor/ckeditor5-core/dist/index.js';import{CKEditorError as _0x5d9ff8,Collection as _0x7d96e3,uid as _0x160b12,first as _0x248ed4,FocusTracker as _0x4dec20,KeystrokeHandler as _0x35cbb5}from'@ckeditor/ckeditor5-utils/dist/index.js';import{View as _0x18ee56,IconView as _0x193d54,ButtonView as _0x1ef7db,DropdownButtonView as _0x4e6b0a,FocusCycler as _0x2c3bc5,isViewWithFocusCycler as _0x22bc56}from'@ckeditor/ckeditor5-ui/dist/index.js';import{IconNotification as _0x523ede,IconCheck as _0x9a62e7,IconCancel as _0x55709e}from'@ckeditor/ckeditor5-icons/dist/index.js';import{DateTime as _0x2ddb6c}from'luxon';class n extends _0x3b5331{static get['pluginName'](){return'Permissions';}static get['isOfficialPlugin'](){return!0x0;}static get['isPremiumPlugin'](){return!0x0;}['setPermissions'](_0x513533,_0x399802){let _0x1d5fd9;if(_0x399802||(_0x399802=this['context']['config']['get']('collaboration.channelId')),this['context']['config']['get']('collaboration.channelId')==_0x399802?_0x1d5fd9=this['context']:'editors'in this['context']&&this['context']['editors']&&(_0x1d5fd9=this['context']['editors']['find'](_0x4108f9=>_0x4108f9['config']['get']('collaboration.channelId')==_0x399802)),!_0x1d5fd9)throw new _0x5d9ff8('permissions-set-permissions-invalid-channel-id',null);const _0x44e1a9=_0x1d5fd9['plugins'],_0xff685b=_0x44e1a9['has']('CommentsRepository')?_0x44e1a9['get']('CommentsRepository'):void 0x0,_0x132211=_0x44e1a9['has']('CommentsOnly')&&_0x44e1a9['get']('CommentsOnly'),_0x3845f4=_0x513533['includes']('document:write'),_0x470bc1=_0x513533['includes']('comment:modify_all'),_0xac3a41=_0x513533['includes']('comment:admin'),_0x4259b6=_0x513533['includes']('comment:write'),_0x47f982=_0x4259b6||_0xac3a41,_0xa0b115=_0x47f982||_0x470bc1,_0xc7f12b=_0x3845f4||_0x47f982;(_0x132211&&(_0x132211['isEnabled']=!_0x3845f4&&_0xa0b115),_0x1d5fd9 instanceof _0x364427)&&(!(_0x3845f4||_0xa0b115&&_0xff685b)?_0x1d5fd9['enableReadOnlyMode']('no-permissions'):_0x1d5fd9['disableReadOnlyMode']('no-permissions'));if(_0xff685b){_0xff685b['setPermissions']({'admin':_0xac3a41,'modifyAll':_0x470bc1,'write':_0x4259b6,'resolve':_0xc7f12b},_0x399802);const _0x1b8699=_0x1d5fd9 instanceof _0x364427&&_0x1d5fd9['commands']['get']('addCommentThread');_0x1b8699&&(_0x47f982?_0x1b8699['clearForceDisabled']('noPermissions'):_0x1b8699['forceDisabled']('noPermissions'));}}}function o(_0x2a0eb8,_0x464b28){const t=_0x2a0eb8['t'];switch(_0x464b28){case'Anonymous':return t('Anonymous');case'Yes':return t('Yes');case'No':return t('No');case'Are\x20you\x20sure?':return t('Are\x20you\x20sure?');case'Today':return t('Today');case'Yesterday':return t('Yesterday');case'Last':return t('Last');case'Monday':return t('Monday');case'Tuesday':return t('Tuesday');case'Wednesday':return t('Wednesday');case'Thursday':return t('Thursday');case'Friday':return t('Friday');case'Saturday':return t('Saturday');case'Sunday':return t('Sunday');default:return'';}}class u extends _0x3b5331{['users'];['_lastColor'];['_myId'];['_locale'];static get['pluginName'](){return'Users';}static get['isOfficialPlugin'](){return!0x0;}static get['isPremiumPlugin'](){return!0x0;}static get['requires'](){return[n];}constructor(_0xeba560){super(_0xeba560),this['context']['config']['define']('users.anonymousUserId','anonymous-user'),this['context']['config']['define']('users.colorsCount',0x8),this['users']=new _0x7d96e3(),this['_locale']=_0xeba560['locale'],this['_lastColor']=0x0,this['_myId']=null,this['decorate']('getOperationAuthor');}['init'](){this['_addAnonymousUser']();}get['me'](){return null==this['_myId']?null:this['getUser'](this['_myId']);}['addUser']({id:_0xd03e94,name:_0x90a2fc,..._0x38c78f}){if(!_0xd03e94||'string'!=typeof _0xd03e94)throw new _0x5d9ff8('users-add-invalid-id');if(this['users']['has'](_0xd03e94))throw new _0x5d9ff8('users-add-duplicated-id',null,{'id':_0xd03e94});const _0x1f0466=this['context']['config']['get']('users.getInitialsCallback'),_0x11f12e={..._0x38c78f,'id':_0xd03e94,'name':h(this['_locale'],_0x90a2fc),'color':this['_getNextColor']()};_0x11f12e['name']=h(this['_locale'],_0x11f12e['name']);const _0x32ee92=new P(_0x11f12e,_0x1f0466);return this['users']['add'](_0x32ee92),_0x32ee92;}['getUser'](_0x5f52db){return this['users']['get'](_0x5f52db);}['useAnonymousUser'](){const _0x40714f=this['context']['config']['get']('users.anonymousUserId');this['_myId']||this['defineMe'](_0x40714f);}['defineMe'](_0x1c394c){if(this['_myId'])throw new _0x5d9ff8('users-me-already-defined',null);const _0x5ca2df=this['getUser'](_0x1c394c);if(!_0x5ca2df)throw new _0x5d9ff8('users-me-missing-user',null);this['_myId']=_0x1c394c,_0x5ca2df['_isMe']=!0x0;}['getOperationAuthor'](){return this['me'];}['_getNextColor'](){const _0x487360=this['context']['config']['get']('users.colorsCount');return this['_lastColor']>=_0x487360&&(this['_lastColor']=0x0),new l(this['_lastColor']++);}['_addAnonymousUser'](){const _0x68b382=this['context']['config']['get']('users.anonymousUserId');this['addUser']({'id':_0x68b382,'name':o(this['_locale'],'Anonymous')})['_isAnonymous']=!0x0;}}class P{['id'];['color'];['name'];['initials'];['avatar'];['_isMe'];['_isAnonymous'];constructor(_0x55246e,_0x407d83){this['id']=_0x55246e['id'],this['color']=_0x55246e['color'],this['name']=_0x55246e['name'],this['initials']=_0x407d83?_0x407d83(this['name']):this['_computeInitials'](),this['avatar']=_0x55246e['avatar'],this['_isAnonymous']=!0x1,this['_isMe']=!0x1;}get['isAnonymous'](){return this['_isAnonymous'];}get['isMe'](){return this['_isMe'];}['_computeInitials'](){const _0xda5026=this['name']['split']('\x20')['filter'](_0x402125=>/^[\p{Letter}]/u['test'](_0x402125));return 0x1===_0xda5026['length']?this['_getInitial'](_0xda5026[0x0]):0x0===_0xda5026['length']?this['_getInitial'](this['name']):this['_getInitial'](_0xda5026[0x0])+this['_getInitial'](_0xda5026[_0xda5026['length']-0x1]);}['_getInitial'](_0x201cf5){return String['fromCodePoint'](_0x201cf5['codePointAt'](0x0))['toUpperCase']();}}function h(_0x441c39,_0x4099c2=''){return''==(_0x4099c2=_0x4099c2['trim']())?o(_0x441c39,'Anonymous'):_0x4099c2;}class l{['_id'];constructor(_0x1af370){this['_id']=_0x1af370;}['getBackgroundColorClass'](){return'ck-user__bg-color--'+this['_id'];}['getSelectionClass'](){return'ck-user__selection--'+this['_id'];}['getMarkerClass'](){return'ck-user__marker--'+this['_id'];}}class I extends _0x18ee56{['name'];['notificationView'];constructor(_0x23042d,_0x2bd64b,_0x2e4401){super(_0x23042d),this['name']=_0x2bd64b['name'],this['notificationView']=null;const _0x9ec492=['ck','ck-user'],_0x5d081b=['ck','ck-user__img'];if(_0x2bd64b['isAnonymous']&&_0x5d081b['push']('ck-user__anonymous'),!_0x2bd64b['isAnonymous']&&_0x2bd64b['isMe']&&_0x9ec492['push']('ck-user_me'),_0x2bd64b['avatar']&&_0x5d081b['push']('ck-user__avatar'),_0x2e4401){const _0x100a0d=new _0x193d54();_0x100a0d['extendTemplate']({'attributes':{'class':['ck-user__icon']}}),_0x100a0d['content']=_0x523ede,this['notificationView']={'tag':'div','attributes':{'class':['ck','ck-user__notification'],'data-cke-tooltip-position':'n','data-cke-tooltip-text':_0x2e4401},'children':[_0x100a0d]};}const _0x1c4f17=[{'tag':'div','attributes':{'class':_0x5d081b,'style':{'background-image':_0x2bd64b['avatar']?'url(\x27'+_0x2bd64b['avatar']+'\x27)':''}}},{'tag':'div','attributes':{'class':_0x2bd64b['avatar']?'ck\x20ck-user__name\x20ck-user__name--hidden':'ck\x20ck-user__name','aria-label':_0x2bd64b['name']},'children':[{'text':_0x2bd64b['initials']}]}];this['notificationView']&&_0x1c4f17['push'](this['notificationView']),this['setTemplate']({'tag':'div','attributes':{'class':_0x9ec492,'data-user-id':_0x2bd64b['id']},'children':_0x1c4f17});}}class F extends _0x18ee56{['id'];constructor(_0x16b69d,_0x1057e1){super(_0x16b69d),this['id']='ck-aria-description-'+_0x160b12(),this['setTemplate']({'tag':'span','attributes':{'class':['ck','ck-aria-description'],'id':this['id']},'children':[{'text':_0x1057e1}]});}}class U extends _0x1ef7db{['render'](){super['render'](),V(this);}}class Y extends _0x4e6b0a{['render'](){super['render'](),V(this);}}function V(_0xb677f9){_0xb677f9['listenTo'](_0xb677f9['element'],'mousedown',(_0x266840,_0x506ee6)=>{_0x506ee6['stopPropagation'](),_0x506ee6['preventDefault']();}),_0xb677f9['listenTo'](_0xb677f9['element'],'mouseup',()=>{_0xb677f9['element']['focus']();});}function E(_0x25e24b={},_0x3bc018){if(void 0x0!==_0x25e24b['dateTimeFormat']&&'function'!=typeof _0x25e24b['dateTimeFormat'])throw new _0x5d9ff8('invalid-date-time-format');return _0x49c04b=>{const _0x3bffc0='string'==typeof _0x49c04b?_0x2ddb6c['fromISO'](_0x49c04b):_0x2ddb6c['fromJSDate'](_0x49c04b),_0x520564=_0x2ddb6c['now'](),_0x18084a=Math['floor'](_0x520564['diff'](_0x3bffc0,'days')['days']);return _0x25e24b['dateTimeFormat']?_0x25e24b['dateTimeFormat'](_0x3bffc0['toJSDate'](),_0x3bc018&&_0x3bc018['t']?_0x3bc018['t']:void 0x0):0x0===_0x18084a?_0x3bc018?o(_0x3bc018,'Today')+'\x20'+_0x3bffc0['toFormat']('hh:mma'):_0x3bffc0['toFormat']('\x27Today\x27\x20hh:mma'):0x1===_0x18084a?_0x3bc018?o(_0x3bc018,'Yesterday')+'\x20'+_0x3bffc0['toFormat']('hh:mma'):_0x3bffc0['toFormat']('\x27Yesterday\x27\x20hh:mma'):_0x18084a<0x7?_0x3bc018?o(_0x3bc018,'Last')+'\x20'+o(_0x3bc018,_0x3bffc0['toFormat']('EEEE'))+'\x20'+_0x3bffc0['toFormat']('hh:mma'):_0x3bffc0['toFormat']('\x27Last\x27\x20EEEE\x20hh:mma'):_0x3bffc0['toFormat']('LL-dd-yyyy\x20hh:mma');};}function A(_0x1b6161,_0x346c5f){const _0x76ce62=_0x1b6161['mapper']['markerNameToElements'](_0x346c5f['name']);if(!_0x76ce62)return null;const _0x2252a4=_0x248ed4(_0x76ce62['values']());return _0x1b6161['view']['domConverter']['mapViewToDom'](_0x2252a4)||null;}function R(_0x400809,_0x3c7385){if(0x0===_0x3c7385['length'])return null;const _0x5e2f27=[],_0xc8c8bc=_0x400809['view']['domConverter'];for(const _0x44fd68 of _0x3c7385){const _0x44b200=_0x400809['mapper']['markerNameToElements'](_0x44fd68['name']);if(!_0x44b200)continue;const _0x5448b1=Array['from'](_0x44b200)['map'](_0x3450f6=>_0xc8c8bc['mapViewToDom'](_0x3450f6))['filter'](_0x5b72d2=>!!_0x5b72d2);_0x5e2f27['push'](..._0x5448b1);}if(0x0===_0x5e2f27['length'])return null;const _0x398559=[];for(const _0x236fcb of _0x5e2f27){const _0xf94e1=_0x236fcb['getClientRects']()['item'](0x0);_0xf94e1&&_0x398559['push']({'x':_0xf94e1['x'],'y':_0xf94e1['y'],'domElement':_0x236fcb});}return 0x0===_0x398559['length']?null:(_0x398559['sort']((_0x4300d6,_0x27acfb)=>_0x4300d6['y']-_0x27acfb['y']||_0x4300d6['x']-_0x27acfb['x']),_0x398559['map'](_0x134d98=>_0x134d98['domElement']));}function Z(_0x345244,{limit:_0x29e209,suffix:_0x473eeb='...'}){const _0x1ffe16=[];let _0x2fe700=0x0;const _0x22f376=_0x345244['replace'](/</g,'\x0a<')['replace'](/>/g,'>\x0a')['replace'](/^\n/g,'')['replace'](/\n$/g,'')['split']('\x0a');for(let _0x5f5be7=0x0;_0x5f5be7<_0x22f376['length'];_0x5f5be7++){let _0x11d397=_0x22f376[_0x5f5be7];const _0x6e2df3=$(_0x11d397);if(_0x11d397['startsWith']('<')){if(_0x2fe700>=_0x29e209){const _0x228e60=_0x11d397['match'](/[a-zA-Z]+/);if(!_0x228e60){_0x22f376[_0x5f5be7]='';continue;}const _0x4963dc=_0x228e60[0x0];_0x11d397['startsWith']('</')?(_0x1ffe16['length']&&(_0x11d397=''),_0x1ffe16['pop']()):(_0x1ffe16['push'](_0x4963dc),_0x11d397='');}}else{if(_0x2fe700>=_0x29e209)_0x11d397='';else{if(_0x2fe700+_0x6e2df3['length']>=_0x29e209){let _0x57672c=_0x29e209-_0x2fe700;if('\x20'===_0x6e2df3[_0x57672c-0x1])_0x57672c--;else{const _0x2a40b5=_0x6e2df3['slice'](_0x57672c)['indexOf']('\x20');-0x1!==_0x2a40b5?_0x57672c+=_0x2a40b5:_0x57672c=_0x11d397['length'];}_0x11d397=_0x6e2df3['slice'](0x0,_0x57672c)['join']('')+_0x473eeb,_0x2fe700=_0x29e209;}else _0x2fe700+=_0x6e2df3['length'];}}_0x22f376[_0x5f5be7]=_0x11d397;}return _0x22f376['join']('\x0a')['replace'](/\n/g,'');}function $(_0x35ab9e){const _0x31ca57=[];for(let _0x3f6376=0x0;_0x3f6376<_0x35ab9e['length'];_0x3f6376++){const _0x1d7d6c=_0x35ab9e['substring'](_0x3f6376)['match'](/^&[a-z0-9#]+;/);if(_0x1d7d6c){const _0xef275d=_0x1d7d6c[0x0];_0x31ca57['push'](_0xef275d),_0x3f6376+=_0xef275d['length']-0x1;}else _0x31ca57['push'](_0x35ab9e[_0x3f6376]);}return _0x31ca57;}class m extends _0x18ee56{['submitView'];['cancelView'];['focusTracker'];['keystrokes'];['focusCycler'];['focusables'];constructor(_0x2b3234){super(_0x2b3234);const _0x14401a=this['bindTemplate'];this['set']('message',o(_0x2b3234,'Are\x20you\x20sure?')),this['submitView']=this['_createButtonView'](_0x2b3234,o(_0x2b3234,'Yes'),_0x9a62e7,'submit'),this['cancelView']=this['_createButtonView'](_0x2b3234,o(_0x2b3234,'No'),_0x55709e,'cancel'),this['focusables']=this['createCollection']([this['submitView'],this['cancelView']]),this['focusTracker']=new _0x4dec20(),this['keystrokes']=new _0x35cbb5(),this['focusCycler']=new _0x2c3bc5({'focusables':this['focusables'],'focusTracker':this['focusTracker'],'keystrokeHandler':this['keystrokes'],'actions':{'focusPrevious':'shift+tab','focusNext':'tab'}}),this['setTemplate']({'tag':'div','attributes':{'class':['ck','ck-thread__remove-confirm'],'tabindex':-0x1,'role':'alertdialog'},'children':[{'tag':'div','attributes':{'class':'ck-thread__remove-confirm-inner','role':'presentation'},'children':[{'tag':'p','children':[{'text':_0x14401a['to']('message')}]},{'tag':'div','attributes':{'class':'ck-thread__remove-confirm-actions'},'children':[this['submitView'],this['cancelView']]}]}]});}['render'](){super['render'](),this['_setupKeyboardNavigation']();}['focus'](){this['cancelView']['element']['focus']({'preventScroll':!0x0});}['_createButtonView'](_0x2f7868,_0x1cfcfb,_0x44f9d7,_0xcf7946){const _0x5f076b=new _0x1ef7db(_0x2f7868);return _0x5f076b['label']=_0x1cfcfb,_0x5f076b['icon']=_0x44f9d7,_0x5f076b['extendTemplate']({'attributes':{'class':'ck-thread__remove-confirm-'+_0xcf7946}}),_0x5f076b['on']('execute',()=>this['fire'](_0xcf7946)),_0x5f076b;}['_setupKeyboardNavigation'](){this['focusables']['forEach'](_0x3503a8=>{this['keystrokes']['listenTo'](_0x3503a8['element']),this['focusTracker']['add'](_0x3503a8['element']);}),this['keystrokes']['set']('esc',(_0x9ad444,_0x1ca4c9)=>{this['fire']('cancel'),_0x1ca4c9();});}}function c(_0x3459f3){return class extends _0x3459f3{['showConfirm'](_0x918aa4,_0x10443c){return this['confirmView']=new m(this['locale']),this['confirmView']['render'](),this['confirmView']['message']=_0x918aa4,this['confirmView']['once']('cancel',()=>{this['_removeConfirm']();}),this['confirmView']['once']('submit',()=>{this['_removeConfirm']();}),_0x10443c['appendChild'](this['confirmView']['element']),this['registerChild'](this['confirmView']),this['confirmView']['focus'](),this['set']('isConfirm',!0x0),new Promise(_0xc344ff=>this['confirmView']['on']('submit',_0xc344ff));}['cancelConfirm'](){this['isConfirm']&&this['confirmView']['fire']('cancel');}['_removeConfirm'](){this['element']&&this['confirmView']&&this['confirmView']['element']&&(this['element']['focus'](),this['confirmView']['element']['remove'](),this['deregisterChild'](this['confirmView']),this['isConfirm']=!0x1,this['fire']('removeConfirm'),this['confirmView']['destroy'](),this['confirmView']=void 0x0);}};}function j(_0x1a96e8){let _0x5c5714=0x0,_0x345bfe=0x0;for(const _0xd412c2 of M(_0x1a96e8))_0x5c5714=(_0x5c5714<<0x5)-_0x5c5714+_0xd412c2,_0x5c5714&=_0x5c5714,[_0x5c5714,_0x345bfe]=[_0x345bfe,_0x5c5714];return w(_0x5c5714)+w(_0x345bfe);}function*g(_0x20b725){null==_0x20b725||null==_0x20b725?yield 0x12b9b0a1:0x0===_0x20b725||!0x1===_0x20b725?yield 0x0:0x1===_0x20b725||0x1==_0x20b725?yield 0x1:Array['isArray'](_0x20b725)?yield*function*(_0xa262ac){for(const _0x41a905 of _0xa262ac)yield*g(_0x41a905);}(_0x20b725):'object'==typeof _0x20b725?yield*M(_0x20b725):'string'==typeof _0x20b725?yield*O(_0x20b725):'number'==typeof _0x20b725&&(yield _0x20b725);}function*M(_0xcca448){if(yield q('{'),_0xcca448){const _0x6097a7=Object['keys'](_0xcca448)['sort']();for(const _0xc0da9e of _0x6097a7){yield*O(_0xc0da9e),yield q(':');const _0x2e25db=_0xcca448[_0xc0da9e];yield*g(_0x2e25db);}}yield q('}');}function*O(_0x30027c){yield q('\x22');for(const _0x4cf946 of _0x30027c)yield q(_0x4cf946);yield q('\x22');}function q(_0x55f52c){return _0x55f52c['charCodeAt'](0x0);}function w(_0x15e1a5){return(_0x15e1a5*=Math['sign'](_0x15e1a5))['toString'](0x24);}const W=['initialData','context','toolbar','rootsAttributes'],D=['WebSocketGateway','RevisionTracker','Autosave','WordCount','DocumentOutline','WProofreader'];function S(_0x34595d,_0x5d5bf1,_0x14ec47,_0x4b9c4d=[]){const _0x2ff69c='string'==typeof _0x34595d?_0x14ec47['get'](_0x34595d)['constructor']:_0x34595d['prototype']['constructor'];if(_0x5d5bf1['has'](_0x2ff69c))return _0x5d5bf1['get'](_0x2ff69c);_0x5d5bf1['set'](_0x2ff69c,!0x0);const _0x520120=[...D,..._0x4b9c4d]['map'](_0x5e5ee4=>{if(_0x14ec47['has'](_0x5e5ee4))return _0x14ec47['get'](_0x5e5ee4)['constructor'];})['filter'](_0x1c1139=>_0x1c1139);if(_0x2ff69c&&_0x520120['includes'](_0x2ff69c))return _0x5d5bf1['set'](_0x2ff69c,!0x1),!0x1;if(!_0x2ff69c['requires'])return _0x5d5bf1['set'](_0x2ff69c,!0x0),!0x0;const _0x451b25=_0x2ff69c['requires']['every'](_0x48e170=>S(_0x48e170,_0x5d5bf1,_0x14ec47,_0x4b9c4d));return _0x5d5bf1['set'](_0x2ff69c,_0x451b25),_0x451b25;}function C(_0x1b7f61,_0x8bb56){const _0x3959ca={};for(const _0x378f20 of _0x1b7f61['config']['names']())W['includes'](_0x378f20)||(_0x3959ca[_0x378f20]=_0x1b7f61['config']['get'](_0x378f20));const _0x496de9=_0x3959ca['plugins']||[],_0x289899=_0x1b7f61['constructor']['builtinPlugins']||[],_0x52a0e6=_0x496de9['length']?_0x496de9:_0x289899,_0x528025=_0x3959ca['extraPlugins']||[];delete _0x3959ca['extraPlugins'];const _0x25fce3=_0x3959ca['removePlugins']||[];delete _0x3959ca['removePlugins'];const _0x25c037=_0x1b7f61['_context']['config']['get']('plugins')||[],_0x4d747b=_0x52a0e6['concat'](_0x528025)['concat'](_0x25c037)['map'](_0x5b0dcb=>'string'==typeof _0x5b0dcb?_0x289899['find'](_0x5079bc=>_0x5079bc['pluginName']==_0x5b0dcb):_0x5b0dcb)['filter'](_0x1e8c1d=>!_0x25fce3['includes'](_0x1e8c1d)&&!_0x25fce3['includes'](_0x1e8c1d['pluginName'])),_0x410dcc=Array['from'](new Set(_0x4d747b)),_0x7dcd27=new Map();return _0x3959ca['plugins']=_0x410dcc['filter'](_0x2498f2=>S(_0x2498f2,_0x7dcd27,_0x1b7f61['plugins'],_0x8bb56)),_0x3959ca;}function z(_0x3f6a71,_0x2eeca7){const _0x3f9f54=[];_0x3f6a71['document']['selection']['on']('change:range',()=>{const _0x1f71ce=function(_0x26ee67,_0x411cfb){const _0x594692=[];for(const _0x4c01d4 of _0x26ee67['markers']){const _0x538145=_0x4c01d4['getRange']();(_0x538145['containsPosition'](_0x411cfb)||_0x538145['start']['isEqual'](_0x411cfb)||_0x538145['end']['isEqual'](_0x411cfb))&&_0x594692['push'](_0x4c01d4);}return _0x594692;}(_0x3f6a71,_0x3f6a71['document']['selection']['focus']),_0x35452d=[],_0x152f4b=[],_0x444ff2=[];for(const _0x482f6a of _0x3f9f54)_0x1f71ce['includes'](_0x482f6a)||_0x35452d['push'](_0x482f6a);for(const _0x31dc24 of _0x1f71ce)_0x3f9f54['includes'](_0x31dc24)||_0x152f4b['push'](_0x31dc24),_0x444ff2['push'](_0x31dc24);(_0x35452d['length']||_0x152f4b['length'])&&_0x2eeca7({'left':_0x35452d,'entered':_0x152f4b}),_0x3f9f54['length']=0x0,_0x3f9f54['push'](..._0x444ff2);});}const J='Ctrl+Shift+E';function T(_0x4e064f,_0x819982){const _0x297fef=_0x4e064f['element'];_0x4e064f['keystrokes']['listenTo'](_0x297fef);for(const _0xc06793 of _0x819982)K(_0x4e064f,_0xc06793);_0x819982['on']('change',(_0x2f42f3,_0x383721)=>{for(const _0x218928 of _0x383721['removed'])_(_0x4e064f,_0x218928);for(const _0x2e2054 of Array['from'](_0x383721['added'])['reverse']())K(_0x4e064f,_0x2e2054);}),_0x4e064f['keystrokes']['set']('enter',(_0x1396f5,_0x43d310)=>{_0x297fef===_0x1396f5['target']&&(_0x4e064f['focusCycler']['focusFirst'](),_0x43d310());},{'filter':_0x357aae=>_0x357aae['target']===_0x297fef}),_0x4e064f['keystrokes']['set']('esc',(_0x30a479,_0x583db7)=>{_0x297fef!==_0x30a479['target']?_0x4e064f['focus']():_0x4e064f['fire']('escape'),_0x583db7();}),_0x4e064f['keystrokes']['set']('arrowdown',(_0x8d2f23,_0x34ba64)=>{_0x297fef===_0x8d2f23['target']&&(_0x4e064f['fire']('arrowdown'),_0x34ba64());}),_0x4e064f['keystrokes']['set']('arrowup',(_0x22a1fd,_0x3dc664)=>{_0x297fef===_0x22a1fd['target']&&(_0x4e064f['fire']('arrowup'),_0x3dc664());});}function K(_0x3a866e,_0x1201f1){_0x1201f1['isRendered']&&(_0x3a866e['focusTracker']['add'](_0x1201f1['element']),_0x3a866e['keystrokes']['listenTo'](_0x1201f1['element']),_0x22bc56(_0x1201f1)&&function(_0x124498,_0x16a2cc){const _0x55533e=_0x124498['actions'],_0x2dab4e=_0x16a2cc['actions'];for(const _0x169463 of Object['keys'](_0x55533e))if(_0x169463 in _0x2dab4e&&_0x55533e[_0x169463]!==_0x2dab4e[_0x169463])return!0x1;return!0x0;}(_0x3a866e['focusCycler'],_0x1201f1['focusCycler'])&&_0x3a866e['focusCycler']['chain'](_0x1201f1['focusCycler']));}function _(_0x210eb2,_0x417b72){_0x210eb2['focusTracker']['remove'](_0x417b72['element']),_0x210eb2['keystrokes']['stopListening'](_0x417b72['element']),_0x22bc56(_0x417b72)&&_0x210eb2['focusCycler']['unchain'](_0x417b72['focusCycler']);}export{F as AriaDescriptionView,c as ConfirmMixin,J as FOCUS_ANNOTATION_KEYSTROKE,U as LateFocusButtonView,Y as LateFocusDropdownButtonView,n as Permissions,I as UserView,u as Users,R as getAllMarkersDomElementsSorted,E as getDateTimeFormatter,A as getMarkerDomElement,j as hashObject,C as sanitizeEditorConfig,T as setupThreadKeyboardNavigation,z as surroundingMarkersDetector,Z as trimHtml};