/*
 *             Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x3544ea=_0x2719;(function(_0x326dee,_0x124746){const _0x3a24f9=_0x2719,_0x2e84e8=_0x326dee();while(!![]){try{const _0x20b6f2=parseInt(_0x3a24f9(0x178))/0x1+parseInt(_0x3a24f9(0x153))/0x2*(-parseInt(_0x3a24f9(0x141))/0x3)+parseInt(_0x3a24f9(0x163))/0x4+parseInt(_0x3a24f9(0x15f))/0x5*(-parseInt(_0x3a24f9(0x157))/0x6)+-parseInt(_0x3a24f9(0x165))/0x7*(-parseInt(_0x3a24f9(0x143))/0x8)+parseInt(_0x3a24f9(0x148))/0x9+-parseInt(_0x3a24f9(0x17b))/0xa;if(_0x20b6f2===_0x124746)break;else _0x2e84e8['push'](_0x2e84e8['shift']());}catch(_0x18396d){_0x2e84e8['push'](_0x2e84e8['shift']());}}}(_0x385f,0x8f9b1));import{Plugin as _0x26126c}from'ckeditor5/src/core.js';import{User as _0x23e858,TrackChangesService as _0x37d278}from'@ckeditor/ckeditor-cloud-services-collaboration/src/services.js';import _0x39f6c9 from'../realtimecollaborativeediting/websocketgateway.js';import _0x52987c from'../realtimecollaborativecomments/cloudservicescommentsadapter.js';import{Users as _0x7b1d63}from'ckeditor5-collaboration/src/collaboration-core.js';class f extends _0x26126c{static [_0x3544ea(0x14a)]=/* #__PURE__ -- @preserve */
((()=>_0x37d278)());[_0x3544ea(0x171)];[_0x3544ea(0x179)];static get[_0x3544ea(0x146)](){const _0x3ea3dd=_0x3544ea;return[_0x52987c,_0x3ea3dd(0x15b),_0x39f6c9];}static get[_0x3544ea(0x177)](){const _0x5c240e=_0x3544ea;return _0x5c240e(0x14b);}static get[_0x3544ea(0x16e)](){return!0x0;}static get[_0x3544ea(0x166)](){return!0x0;}constructor(_0x179ade){const _0x9c573=_0x3544ea;super(_0x179ade);const _0x125f38=this[_0x9c573(0x159)][_0x9c573(0x14f)][_0x9c573(0x16f)](_0x9c573(0x174));this[_0x9c573(0x171)]=new Map(),this[_0x9c573(0x179)]=new f[(_0x9c573(0x14a))](_0x125f38);}[_0x3544ea(0x154)](){const _0x2e4e6a=_0x3544ea,_0x1bdbfb=this[_0x2e4e6a(0x159)][_0x2e4e6a(0x140)][_0x2e4e6a(0x16f)](_0x39f6c9),_0x5a2a5f=this[_0x2e4e6a(0x159)][_0x2e4e6a(0x140)][_0x2e4e6a(0x16f)](_0x2e4e6a(0x15b));return _0x5a2a5f[_0x2e4e6a(0x173)]={'getSuggestion':async _0x340642=>{const _0x39e560=_0x2e4e6a;await this[_0x39e560(0x155)]();const _0x172964=await this[_0x39e560(0x179)][_0x39e560(0x16f)](_0x340642)[_0x39e560(0x162)](R);return await this[_0x39e560(0x16c)]([_0x172964]),_0x172964;},'addSuggestion':async({id:_0x344988,type:_0x249869,data:_0x475af2,originalSuggestionId:_0x3d9713,attributes:_0x5e84ab})=>{const _0x5df160=_0x2e4e6a;await this[_0x5df160(0x155)]();const _0x2ea7f5={'id':_0x344988,'type':_0x249869,'data':_0x475af2,'originalSuggestionId':_0x3d9713,'attributes':_0x5e84ab},_0x5f14df=await this[_0x5df160(0x179)][_0x5df160(0x170)](_0x344988,_0x249869,_0x475af2,_0x3d9713,_0x5e84ab)[_0x5df160(0x162)](_0x5f0ad0=>{if(st(_0x5f0ad0))return new Promise(_0x503632=>{const _0xfb0411=_0x2719;this[_0xfb0411(0x171)][_0xfb0411(0x156)](_0x344988,{'resolve':_0x503632,'suggestionData':_0x2ea7f5});});throw _0x5f0ad0;});return this[_0x5df160(0x171)][_0x5df160(0x17e)](_0x344988),_0x5f14df;},'updateSuggestion':async(_0x310063,_0x2cbab9)=>{const _0x4fe632=_0x2e4e6a;if(await this[_0x4fe632(0x155)](),_0x4fe632(0x167)!==_0x2cbab9[_0x4fe632(0x13f)])return this[_0x4fe632(0x179)][_0x4fe632(0x147)](_0x310063,_0x2cbab9)[_0x4fe632(0x162)](R);}},this[_0x2e4e6a(0x160)](this[_0x2e4e6a(0x179)],_0x2e4e6a(0x17a),(_0x151da5,_0x29b3e9)=>{const _0x156fbf=_0x2e4e6a;_0x5a2a5f[_0x156fbf(0x164)](_0x29b3e9['id'])&&(_0x5a2a5f[_0x156fbf(0x14d)](_0x29b3e9['id'])[_0x156fbf(0x17d)]=_0x29b3e9[_0x156fbf(0x17d)]);}),this[_0x2e4e6a(0x179)][_0x2e4e6a(0x16b)](_0x1bdbfb[_0x2e4e6a(0x161)])[_0x2e4e6a(0x17c)](_0x36c825=>(_0x1bdbfb[_0x2e4e6a(0x16d)](this),this[_0x2e4e6a(0x16c)](_0x36c825)[_0x2e4e6a(0x17c)](()=>{const _0x3c738c=_0x2e4e6a;for(const _0x327cca of _0x36c825){_0x5a2a5f[_0x3c738c(0x176)](_0x327cca)[_0x3c738c(0x149)]=!0x0;}})));}async[_0x3544ea(0x168)](){const _0x286b98=_0x3544ea,_0x3b0627=this[_0x286b98(0x159)][_0x286b98(0x140)][_0x286b98(0x16f)](_0x286b98(0x15b)),{connection:_0x346a19}=this[_0x286b98(0x159)][_0x286b98(0x140)][_0x286b98(0x16f)](_0x39f6c9),_0x34a71c=await this[_0x286b98(0x179)][_0x286b98(0x16b)](_0x346a19);await this[_0x286b98(0x16c)](_0x34a71c);for(const {suggestionData:_0x2d7ec2,resolve:_0x5b5578}of this[_0x286b98(0x171)][_0x286b98(0x15e)]()){let _0x539b6e=_0x34a71c[_0x286b98(0x151)](_0x335e9f=>_0x335e9f['id']===_0x2d7ec2['id']);_0x539b6e||(_0x539b6e=await this[_0x286b98(0x179)][_0x286b98(0x170)](_0x2d7ec2['id'],_0x2d7ec2[_0x286b98(0x14e)],_0x2d7ec2[_0x286b98(0x172)],_0x2d7ec2[_0x286b98(0x169)])),_0x5b5578(_0x539b6e);}for(const _0x279ff2 of _0x34a71c)_0x3b0627[_0x286b98(0x164)](_0x279ff2['id'])||_0x3b0627[_0x286b98(0x176)](_0x279ff2);}async[_0x3544ea(0x155)](){const _0x2a8b2b=_0x3544ea;this[_0x2a8b2b(0x179)][_0x2a8b2b(0x14c)]||await new Promise(_0x3014e8=>{const _0x2e47da=_0x2a8b2b;this[_0x2e47da(0x160)](this[_0x2e47da(0x179)],_0x2e47da(0x15d),_0x3864a3=>{const _0x46c199=_0x2e47da;_0x3864a3[_0x46c199(0x144)](),_0x3014e8();});});}async[_0x3544ea(0x16c)](_0x4c7b70){const _0x2c6b05=_0x3544ea,_0x2534b7=this[_0x2c6b05(0x159)][_0x2c6b05(0x140)][_0x2c6b05(0x16f)](_0x7b1d63),{connection:_0x13d508}=this[_0x2c6b05(0x159)][_0x2c6b05(0x140)][_0x2c6b05(0x16f)](_0x39f6c9),_0x5ab224=new Set();for(const {authorId:_0x54728e}of _0x4c7b70)_0x2534b7[_0x2c6b05(0x145)](_0x54728e)||_0x5ab224[_0x2c6b05(0x170)](_0x54728e);if(0x0===_0x5ab224[_0x2c6b05(0x158)])return;const _0xfd65fb=await _0x23e858[_0x2c6b05(0x150)](_0x13d508,Array[_0x2c6b05(0x175)](_0x5ab224));for(const _0x1ca503 of _0xfd65fb)_0x2534b7[_0x2c6b05(0x145)](_0x1ca503['id'])||_0x2534b7[_0x2c6b05(0x16a)](_0x1ca503);}}function _0x385f(){const _0x4c931a=['217sYLZlG','isPremiumPlugin','open','reconnect','originalSuggestionId','addUser','connect','_fetchMissingUsersForThreads','addToReconnectionStack','isOfficialPlugin','get','add','_bufferedRequests','data','adapter','collaboration.channelId','from','addSuggestionData','pluginName','550692qmZpKr','_trackChangesService','suggestionUpdated','5394340pLNZmO','then','attributes','delete','state','plugins','3AzCgLs','message','55736uuonMH','off','getUser','requires','update','10166247vOUGYt','_saved','TrackChangesService','CloudServicesTrackChangesAdapter','isConnected','getSuggestion','type','config','getMany','find','cloud-services-internal-error:\x20Not\x20connected.','1884662qTNWkr','init','_waitForServiceReady','set','1032318SWsIIe','size','editor','cloud-services-internal-error:\x20Request\x20timeout.','TrackChangesEditing','startsWith','connected','values','10BxWats','listenTo','connection','catch','2071312HEcDJK','hasSuggestion'];_0x385f=function(){return _0x4c931a;};return _0x385f();}export default f;function _0x2719(_0x2b5877,_0x56cd21){const _0x385f51=_0x385f();return _0x2719=function(_0x27197d,_0x76f2cb){_0x27197d=_0x27197d-0x13f;let _0x551861=_0x385f51[_0x27197d];return _0x551861;},_0x2719(_0x2b5877,_0x56cd21);}function R(_0x129c68){if(st(_0x129c68))return new Promise(()=>{});throw _0x129c68;}function st(_0x3a63df){const _0x51d0c7=_0x3544ea;return _0x3a63df[_0x51d0c7(0x142)][_0x51d0c7(0x15c)](_0x51d0c7(0x152))||_0x3a63df[_0x51d0c7(0x142)][_0x51d0c7(0x15c)](_0x51d0c7(0x15a));}