/*
 *             Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
function _0x54cf(_0x5991d7,_0x420e7f){const _0x2227b8=_0x2227();return _0x54cf=function(_0x54cfca,_0x46bd25){_0x54cfca=_0x54cfca-0x1ab;let _0xe219e6=_0x2227b8[_0x54cfca];return _0xe219e6;},_0x54cf(_0x5991d7,_0x420e7f);}const _0x3f4d26=_0x54cf;(function(_0x3f877b,_0x15a019){const _0x13e0ee=_0x54cf,_0x237958=_0x3f877b();while(!![]){try{const _0x225ac5=-parseInt(_0x13e0ee(0x1f2))/0x1+-parseInt(_0x13e0ee(0x1f4))/0x2+parseInt(_0x13e0ee(0x1db))/0x3+parseInt(_0x13e0ee(0x1d9))/0x4+-parseInt(_0x13e0ee(0x1dc))/0x5*(parseInt(_0x13e0ee(0x1b7))/0x6)+-parseInt(_0x13e0ee(0x211))/0x7+parseInt(_0x13e0ee(0x20d))/0x8;if(_0x225ac5===_0x15a019)break;else _0x237958['push'](_0x237958['shift']());}catch(_0x129948){_0x237958['push'](_0x237958['shift']());}}}(_0x2227,0x6bc79));import{Plugin as _0x39eb18}from'ckeditor5/src/core.js';function _0x2227(){const _0x2a294e=['addToReconnectionStack','_bufferUpdate','_offset','_isConnected','size','plugins','getMany','getOperations','code','createdAt','cloud-services-internal-error:\x20Revision\x20History\x20Service\x20is\x20not\x20connected.','6908280hxasbM','affectsData','length','collaboration.channelId','2252502ElSfmm','CloudServicesRevisionHistoryAdapter','isEnabled','setSource','getRevisions','_getLatestVersion','_startingVersion','400','CONNECTED','serverHistory','_revisions','diffData','_fetchMissingUsers','reverse','once','message','RevisionHistory','cloudServices.bundleVersion','_preventResendingRevisionData','marker','baseVersion','max','revisionsUpdated','setRevisionData','22974SCfbxj','connection','_lastRequestId','add','authorsIds','wrongRequestId','remove','getRevision','_isPendingUpdate','_revisionTracker','_fixRevision','_handleReconnectionError','_oldOffset','data','from','RevisionTracker','_update','connect','change:_isConnected','config','cloud-services-internal-error:\x20Not\x20connected.','destroy','reconnect','addUser','_handleRevisionsUpdate','updateRevisions','editor','_getLatestVersionFromServerOperations','_waitForServiceReady','requires','connected','then','creatorId','addRevisionData','2063436mggNKC','listenTo','2094480dJrflY','265FGEKfh','adapter','off','fromVersion','startsWith','_bufferedUpdates','_createCurrentRevision','isPremiumPlugin','reInit','catch','getUser','keys','authors','bind','isOfficialPlugin','state','get','repository','isEmptyCurrent','toVersion','type','isBundleUploaded','865458PcOZfS','_revisionDataBuilder','491816DtOhNB','_revisionHistoryService','cloud-services-internal-error:\x20Request\x20timeout.','sessionId','sendBufferedUpdates','isConnected','change:_isPendingUpdate','init','buildRevisionData','RevisionHistoryService','currentRevision','has','map','pluginName'];_0x2227=function(){return _0x2a294e;};return _0x2227();}import{version as _0x365755}from'ckeditor5/src/utils.js';import{Users as _0x109acf}from'ckeditor5-collaboration/src/collaboration-core.js';import _0x101aa7 from'../realtimecollaborativeediting/realtimecollaborationclient.js';import _0x219179 from'../realtimecollaborativeediting/websocketgateway.js';import _0x867379 from'../realtimecollaborativeediting/sessions.js';import{EditorService as _0x1dc3b8,RevisionHistoryService as _0x3c1d11,User as _0x32194a,WEB_SOCKET_GATEWAY_STATES as _0x1ff4b9}from'@ckeditor/ckeditor-cloud-services-collaboration/src/services.js';class u extends _0x39eb18{static [_0x3f4d26(0x1fd)]=/* #__PURE__ -- @preserve */
((()=>_0x3c1d11)());[_0x3f4d26(0x1b9)];[_0x3f4d26(0x1c0)];[_0x3f4d26(0x1f5)];[_0x3f4d26(0x1c3)];static get[_0x3f4d26(0x1d4)](){const _0x26dd78=_0x3f4d26;return[_0x219179,_0x101aa7,_0x26dd78(0x1af),_0x867379,_0x109acf];}static get[_0x3f4d26(0x201)](){const _0x27a491=_0x3f4d26;return _0x27a491(0x212);}static get[_0x3f4d26(0x1ea)](){return!0x0;}static get[_0x3f4d26(0x1e3)](){return!0x0;}constructor(_0x411ee1){const _0x18cad8=_0x3f4d26;super(_0x411ee1);const _0xa1ef13=this[_0x18cad8(0x1d1)][_0x18cad8(0x1ca)][_0x18cad8(0x1ec)](_0x18cad8(0x210));this[_0x18cad8(0x1b9)]=null,this[_0x18cad8(0x1c0)]=this[_0x18cad8(0x1d1)][_0x18cad8(0x207)][_0x18cad8(0x1ec)](_0x18cad8(0x1c6)),this[_0x18cad8(0x1f5)]=new u[(_0x18cad8(0x1fd))](_0xa1ef13);}async[_0x3f4d26(0x1fb)](){const _0x4e48d3=_0x3f4d26,_0x281739=this[_0x4e48d3(0x1d1)][_0x4e48d3(0x207)][_0x4e48d3(0x1ec)](_0x101aa7),_0x4989a0=_0x281739[_0x4e48d3(0x21a)],_0x2c10ce=this[_0x4e48d3(0x1d1)][_0x4e48d3(0x207)][_0x4e48d3(0x1ec)](_0x219179);this[_0x4e48d3(0x1c0)][_0x4e48d3(0x214)]({'history':_0x4989a0,'getLatestVersion':()=>this[_0x4e48d3(0x216)](),'getCurrentRevisionId':()=>_0x281739[_0x4e48d3(0x1f7)]});const _0x532436=this[_0x4e48d3(0x1d1)][_0x4e48d3(0x1ca)][_0x4e48d3(0x1ec)](_0x4e48d3(0x1b0))||_0x365755,_0x1a3efd=await _0x1dc3b8[_0x4e48d3(0x1f1)](_0x2c10ce[_0x4e48d3(0x1b8)],_0x532436);this[_0x4e48d3(0x1d1)][_0x4e48d3(0x207)][_0x4e48d3(0x1ec)](_0x4e48d3(0x1af))[_0x4e48d3(0x1dd)]={'getRevision':async({revisionId:_0x22bae3})=>(await this[_0x4e48d3(0x1d3)](),await this[_0x4e48d3(0x1f5)][_0x4e48d3(0x1be)](_0x22bae3)),'updateRevisions':async _0x4f1b4c=>{const _0x2f1d61=_0x4e48d3;await this[_0x2f1d61(0x1d3)]();const _0x3c9fbe=this[_0x2f1d61(0x1c0)][_0x2f1d61(0x1fe)];if(_0x1a3efd&&0x1===_0x4f1b4c[_0x2f1d61(0x20f)]&&_0x4f1b4c[0x0]['id']===_0x3c9fbe['id'])return _0x4f1b4c;for(const _0x3d3ac2 of _0x4f1b4c)_0x3d3ac2['id']===_0x3c9fbe['id']&&(_0x3d3ac2[_0x2f1d61(0x1ee)]=_0x3d3ac2[_0x2f1d61(0x1df)]===_0x3d3ac2[_0x2f1d61(0x1ef)]);return this[_0x2f1d61(0x1f5)][_0x2f1d61(0x1d0)](_0x4f1b4c,this[_0x2f1d61(0x1b9)])[_0x2f1d61(0x1d6)](_0x5a6f77=>(this[_0x2f1d61(0x1b9)]=_0x5a6f77,_0x4f1b4c))[_0x2f1d61(0x1e5)](_0x25d8a2=>{const _0x55db3f=_0x2f1d61;if(st(_0x25d8a2)||_0x55db3f(0x218)===_0x25d8a2[_0x55db3f(0x20a)]&&void 0x0!==_0x25d8a2[_0x55db3f(0x1c4)][_0x55db3f(0x1bc)]){for(const _0x27fdaf of _0x4f1b4c){!this[_0x55db3f(0x1c0)][_0x55db3f(0x1ed)][_0x55db3f(0x1be)](_0x27fdaf['id'])||this[_0x55db3f(0x1c0)][_0x55db3f(0x203)](_0x27fdaf['id'],_0x27fdaf,!0x1);}if(st(_0x25d8a2))throw _0x25d8a2;return _0x4f1b4c;}throw _0x25d8a2;});}},this[_0x4e48d3(0x1da)](this[_0x4e48d3(0x1f5)],_0x4e48d3(0x1b5),(_0x47520a,{revisionsData:_0x13293e,requestId:_0x40e643})=>{const _0x4501d2=_0x4e48d3;Math[_0x4501d2(0x1b4)](..._0x13293e[_0x4501d2(0x200)](_0x558b59=>_0x558b59[_0x4501d2(0x1ef)]))>this[_0x4501d2(0x1d2)]()-0x1?this[_0x4501d2(0x216)]()[_0x4501d2(0x1d6)](()=>{const _0x25320b=_0x4501d2;this[_0x25320b(0x1cf)](_0x13293e,_0x40e643);}):this[_0x4501d2(0x1cf)](_0x13293e,_0x40e643);});const {revisions:_0x179eeb,requestId:_0x2a02b2}=await this[_0x4e48d3(0x1f5)][_0x4e48d3(0x1c8)](_0x2c10ce[_0x4e48d3(0x1b8)]);_0x2c10ce[_0x4e48d3(0x202)](this),this[_0x4e48d3(0x1b9)]=_0x2a02b2,await this[_0x4e48d3(0x1ab)](_0x179eeb);for(const _0x3a99c5 of _0x179eeb)this[_0x4e48d3(0x1c0)][_0x4e48d3(0x1d8)](_0x3a99c5);this[_0x4e48d3(0x1da)](_0x281739,_0x4e48d3(0x1c9),(_0x1a8568,_0x11c96d,_0x3268c5)=>{const _0x316f6b=_0x4e48d3;_0x3268c5&&(this[_0x316f6b(0x1c3)]=_0x281739[_0x316f6b(0x204)],_0x1a8568[_0x316f6b(0x1de)]());}),this[_0x4e48d3(0x1c0)][_0x4e48d3(0x1e9)](_0x4e48d3(0x213))['to'](_0x2c10ce,_0x4e48d3(0x1eb),_0x1690df=>_0x1690df===_0x1ff4b9[_0x4e48d3(0x219)]);}async[_0x3f4d26(0x1cd)](){const _0x10b2f9=_0x3f4d26,_0x39e366=this[_0x10b2f9(0x1d1)][_0x10b2f9(0x207)][_0x10b2f9(0x1ec)](_0x219179),_0x1d5819=this[_0x10b2f9(0x1d1)][_0x10b2f9(0x207)][_0x10b2f9(0x1ec)](_0x101aa7),_0x5b1c1f=async()=>{const _0x2f6732=_0x10b2f9,_0x5b598a=this[_0x2f6732(0x1c0)][_0x2f6732(0x1fe)],_0x26af2e=_0x5b598a['id'],_0x1e3a0f=_0x26af2e!==_0x1d5819[_0x2f6732(0x1f7)];if(_0x1e3a0f){const _0x490a82=_0x1d5819[_0x2f6732(0x204)]-this[_0x2f6732(0x1c3)],_0x425c27=this[_0x2f6732(0x1d2)]();this[_0x2f6732(0x1c0)][_0x2f6732(0x1f3)][_0x2f6732(0x1e4)]();if(_0x5b598a[_0x2f6732(0x1ef)]+_0x490a82!==_0x425c27){const _0x5a4493=_0x5b598a[_0x2f6732(0x1df)]+_0x490a82,_0x1b63c3=this[_0x2f6732(0x1d1)][_0x2f6732(0x207)][_0x2f6732(0x1ec)](_0x109acf),_0x174485=this[_0x2f6732(0x1c0)][_0x2f6732(0x1fc)]({'revision':_0x5b598a,'from':_0x5a4493,'to':_0x425c27});_0x174485['id']=_0x5b598a['id'];const _0x39e781=_0x174485[_0x2f6732(0x1bb)][_0x2f6732(0x200)](_0x149ef2=>_0x1b63c3[_0x2f6732(0x1e6)](_0x149ef2));_0x5b598a[_0x2f6732(0x1c7)]({..._0x174485,'authors':_0x39e781},!0x0),this[_0x2f6732(0x1c0)][_0x2f6732(0x203)](_0x5b598a['id'],_0x174485,!0x0);}this[_0x2f6732(0x1c0)][_0x2f6732(0x217)]=_0x425c27,(_0x5b598a[_0x2f6732(0x1ef)]===_0x5b598a[_0x2f6732(0x1df)]&&!this[_0x2f6732(0x1c0)][_0x2f6732(0x1e1)][_0x2f6732(0x1ff)](_0x26af2e)&&this[_0x2f6732(0x1c0)][_0x2f6732(0x1ed)][_0x2f6732(0x21b)][_0x2f6732(0x1bd)](_0x26af2e),this[_0x2f6732(0x1c0)][_0x2f6732(0x1e2)](_0x425c27));}const {revisions:_0xc336a3,requestId:_0x5855cc}=await this[_0x2f6732(0x1f5)][_0x2f6732(0x1cd)](_0x39e366[_0x2f6732(0x1b8)],this[_0x2f6732(0x1b9)]);_0x1e3a0f&&_0xc336a3[_0x2f6732(0x20f)]>0x0?_0x1d5819[_0x2f6732(0x1c2)]():(await this[_0x2f6732(0x1ab)](_0xc336a3),this[_0x2f6732(0x1cf)](_0xc336a3,_0x5855cc),this[_0x2f6732(0x1c0)][_0x2f6732(0x1f8)]());};return _0x1d5819[_0x10b2f9(0x205)]?_0x5b1c1f():new Promise((_0xe22695,_0x2daace)=>{const _0x5023fa=_0x10b2f9;_0x1d5819[_0x5023fa(0x1ad)](_0x5023fa(0x1c9),()=>{const _0x18d662=_0x5023fa;_0x5b1c1f()[_0x18d662(0x1d6)](_0xe22695)[_0x18d662(0x1e5)](_0x2daace);});});}[_0x3f4d26(0x1cc)](){const _0x1cf12f=_0x3f4d26;super[_0x1cf12f(0x1cc)]();}async[_0x3f4d26(0x1d3)](){const _0x1293d6=_0x3f4d26;this[_0x1293d6(0x1f5)][_0x1293d6(0x1f9)]||await new Promise(_0x517ea2=>{const _0x1e4f59=_0x1293d6;this[_0x1e4f59(0x1da)](this[_0x1e4f59(0x1f5)],_0x1e4f59(0x1d5),_0xd8d932=>{const _0x2b4547=_0x1e4f59;_0xd8d932[_0x2b4547(0x1de)](),_0x517ea2();});});}[_0x3f4d26(0x1d2)](){const _0x58dad1=_0x3f4d26,_0x2ac430=this[_0x58dad1(0x1d1)][_0x58dad1(0x207)][_0x58dad1(0x1ec)](_0x101aa7)[_0x58dad1(0x21a)][_0x58dad1(0x209)]()[_0x58dad1(0x1ac)]();for(const _0xc754dc of _0x2ac430)if(_0x58dad1(0x1b2)!==_0xc754dc[_0x58dad1(0x1f0)]||_0xc754dc[_0x58dad1(0x20e)])return _0xc754dc[_0x58dad1(0x1b3)]+0x1;}[_0x3f4d26(0x216)](){const _0x5cf20b=_0x3f4d26,_0xe24a32=this[_0x5cf20b(0x1d1)][_0x5cf20b(0x207)][_0x5cf20b(0x1ec)](_0x101aa7);return new Promise(_0x496c56=>{const _0x368b1a=_0x5cf20b;_0xe24a32[_0x368b1a(0x1bf)]?_0xe24a32[_0x368b1a(0x1ad)](_0x368b1a(0x1fa),()=>{const _0x198b8f=_0x368b1a;_0x496c56(this[_0x198b8f(0x1d2)]());}):_0x496c56(this[_0x368b1a(0x1d2)]());});}[_0x3f4d26(0x1cf)](_0x7ccbb7,_0x27edcb){const _0x2dfffc=_0x3f4d26,_0x37c78f=this[_0x2dfffc(0x1c0)][_0x2dfffc(0x1ed)];this[_0x2dfffc(0x1b9)]=_0x27edcb;for(const _0x380969 of _0x7ccbb7){const _0x239709=_0x37c78f[_0x2dfffc(0x1be)](_0x380969['id']);if(_0x239709){if((_0x380969[_0x2dfffc(0x1df)]||_0x380969[_0x2dfffc(0x1ef)])&&(_0x380969[_0x2dfffc(0x21c)]=null),_0x239709===this[_0x2dfffc(0x1c0)][_0x2dfffc(0x1fe)]){const _0x2a2e1a=Math[_0x2dfffc(0x1b4)](_0x239709[_0x2dfffc(0x1ef)],_0x380969[_0x2dfffc(0x1ef)]),_0x1e66fb=Math[_0x2dfffc(0x1b4)](_0x239709[_0x2dfffc(0x1df)],_0x380969[_0x2dfffc(0x1df)]);let _0x3b3837;_0x239709[_0x2dfffc(0x1ef)]===_0x380969[_0x2dfffc(0x1ef)]&&_0x239709[_0x2dfffc(0x1df)]===_0x380969[_0x2dfffc(0x1df)]?(_0x3b3837=!0x0,this[_0x2dfffc(0x1b1)](_0x380969)):_0x380969[_0x2dfffc(0x1ef)]===_0x2a2e1a&&_0x380969[_0x2dfffc(0x1df)]===_0x1e66fb?_0x3b3837=!0x1:(_0x239709[_0x2dfffc(0x1ef)]===_0x2a2e1a&&_0x239709[_0x2dfffc(0x1df)]===_0x1e66fb||this[_0x2dfffc(0x1c1)]({'revision':_0x239709,'from':_0x1e66fb,'to':_0x2a2e1a}),_0x3b3837=!0x0),_0x3b3837&&(delete _0x380969[_0x2dfffc(0x1df)],delete _0x380969[_0x2dfffc(0x1ef)],delete _0x380969[_0x2dfffc(0x21c)],delete _0x380969[_0x2dfffc(0x20b)],delete _0x380969[_0x2dfffc(0x1bb)]);}this[_0x2dfffc(0x1c0)][_0x2dfffc(0x1b6)](_0x380969),this[_0x2dfffc(0x1b1)](_0x380969);}else this[_0x2dfffc(0x1c0)][_0x2dfffc(0x1d8)](_0x380969);}const _0x3374ff=_0x37c78f[_0x2dfffc(0x215)]();_0x3374ff[_0x2dfffc(0x1ac)]();for(let _0x2794bb=0x0;_0x2794bb<_0x3374ff[_0x2dfffc(0x20f)]-0x1;_0x2794bb++){const _0x12f54a=_0x3374ff[_0x2794bb],_0x2bf024=_0x3374ff[_0x2794bb+0x1];if(_0x12f54a[_0x2dfffc(0x1df)]<_0x2bf024[_0x2dfffc(0x1ef)]){const _0x184fa3=_0x2bf024[_0x2dfffc(0x1ef)],_0x58b900=Math[_0x2dfffc(0x1b4)](_0x184fa3,_0x12f54a[_0x2dfffc(0x1ef)]);this[_0x2dfffc(0x1c1)]({'revision':_0x12f54a,'from':_0x184fa3,'to':_0x58b900});}}}[_0x3f4d26(0x1c1)]({revision:_0x44ce24,from:_0x4136ef,to:_0x14ba18}={}){const _0x1dddfb=_0x3f4d26,_0x4562e1=this[_0x1dddfb(0x1d1)][_0x1dddfb(0x207)][_0x1dddfb(0x1ec)](_0x109acf),_0x1f3bf9=this[_0x1dddfb(0x1c0)][_0x1dddfb(0x1fc)]({'revision':_0x44ce24,'from':_0x4136ef,'to':_0x14ba18});_0x1f3bf9[_0x1dddfb(0x1e8)]=_0x1f3bf9[_0x1dddfb(0x1bb)][_0x1dddfb(0x200)](_0x1ae871=>_0x4562e1[_0x1dddfb(0x1e6)](_0x1ae871)),_0x44ce24[_0x1dddfb(0x1c7)](_0x1f3bf9);}[_0x3f4d26(0x1b1)](_0x39ffd7){const _0x3cfe88=_0x3f4d26,_0x3f80ed={};_0x3f80ed['id']=_0x39ffd7['id'];for(const _0x5419e3 of Object[_0x3cfe88(0x1e7)](_0x39ffd7))'id'!==_0x5419e3&&(_0x3f80ed[_0x5419e3]=void 0x0);this[_0x3cfe88(0x1c0)][_0x3cfe88(0x203)](_0x3f80ed['id'],_0x3f80ed,!0x0);}async[_0x3f4d26(0x1ab)](_0x3697b0){const _0xc01f2e=_0x3f4d26,_0x1466d7=this[_0xc01f2e(0x1d1)][_0xc01f2e(0x207)][_0xc01f2e(0x1ec)](_0x109acf),{connection:_0x14c338}=this[_0xc01f2e(0x1d1)][_0xc01f2e(0x207)][_0xc01f2e(0x1ec)](_0x219179),_0x357b0d=new Set();for(const _0x3fe065 of _0x3697b0){for(const _0x1ea0b3 of _0x3fe065[_0xc01f2e(0x1bb)])_0x2c5698(_0x1ea0b3);_0x3fe065[_0xc01f2e(0x1d7)]&&_0x2c5698(_0x3fe065[_0xc01f2e(0x1d7)]);}if(0x0===_0x357b0d[_0xc01f2e(0x206)])return;const _0x3e53df=await _0x32194a[_0xc01f2e(0x208)](_0x14c338,Array[_0xc01f2e(0x1c5)](_0x357b0d));for(const _0x5cc0bf of _0x3e53df)_0x1466d7[_0xc01f2e(0x1e6)](_0x5cc0bf['id'])||_0x1466d7[_0xc01f2e(0x1ce)](_0x5cc0bf);function _0x2c5698(_0x2379dd){const _0x440817=_0xc01f2e;_0x1466d7[_0x440817(0x1e6)](_0x2379dd)||_0x357b0d[_0x440817(0x1ba)](_0x2379dd);}}}export default u;function st(_0x18d76c){const _0x238a60=_0x3f4d26;return _0x18d76c[_0x238a60(0x1ae)][_0x238a60(0x1e0)](_0x238a60(0x20c))||_0x18d76c[_0x238a60(0x1ae)][_0x238a60(0x1e0)](_0x238a60(0x1cb))||_0x18d76c[_0x238a60(0x1ae)][_0x238a60(0x1e0)](_0x238a60(0x1f6));}