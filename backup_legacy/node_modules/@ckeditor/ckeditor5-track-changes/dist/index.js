/*
 *             Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import{Command as _0x1b73d0,Plugin as _0x16d8d0,PendingActions as _0x36ed04}from'@ckeditor/ckeditor5-core/dist/index.js';import{CKEditorError as _0x5a6152,ObservableMixin as _0x42b849,uid as _0x4ae66e,priorities as _0x252a98,insertToPriorityArray as _0x439d79,toArray as _0x1b10a2,logWarning as _0x594f32,getEnvKeystrokeText as _0x5fba0f,FocusTracker as _0x53d760,KeystrokeHandler as _0xa65db3,Collection as _0x5ad54a}from'@ckeditor/ckeditor5-utils/dist/index.js';import{IconCheck as _0x54f68b,IconCancel as _0x5b676e,IconTrackChanges as _0x3a75cc}from'@ckeditor/ckeditor5-icons/dist/index.js';import{normalizeColorOptions as _0x3e4403,View as _0x38c1a4,ViewCollection as _0x5ad0aa,FocusCycler as _0x5856bb,ViewModel as _0x414fe5,createDropdown as _0x349d1c,SplitButtonView as _0xa83a62,addListToDropdown as _0x31d363,MenuBarMenuView as _0x518e52,MenuBarMenuListView as _0x2c4a5d,ListSeparatorView as _0x5357f4,MenuBarMenuListItemView as _0x4c15ba,MenuBarMenuListItemButtonView as _0xd0d25f,BodyCollection as _0x19eef3,Dialog as _0x3667cf}from'@ckeditor/ckeditor5-ui/dist/index.js';import{Users as _0x28be2f,hashObject as _0x201abd,surroundingMarkersDetector as _0x41d08b,FOCUS_ANNOTATION_KEYSTROKE as _0x6184a0,AriaDescriptionView as _0x227ee8,setupThreadKeyboardNavigation as _0x1868b8,trimHtml as _0x1125d7,UserView as _0xe6c335,LateFocusButtonView as _0x285790,getDateTimeFormatter as _0xad9308,getAllMarkersDomElementsSorted as _0x2f015c,sanitizeEditorConfig as _0x2827f5}from'ckeditor5-collaboration/dist/index.js';import{Element as _0x34d2f0,LiveRange as _0x13b424,LivePosition as _0x20922d,DowncastWriter as _0x3a040f}from'@ckeditor/ckeditor5-engine/dist/index.js';import{setHighlightHandling as _0xf3ead2,toWidget as _0x491249}from'@ckeditor/ckeditor5-widget/dist/index.js';import{cloneDeep as _0x296607,set as _0x5af4be,isEqual as _0x785288,unset as _0x967989,omit as Ft}from'es-toolkit/compat';import{Delete as _0x2e3332,Input as tr}from'@ckeditor/ckeditor5-typing/dist/index.js';import{Enter as _0x5a1179}from'@ckeditor/ckeditor5-enter/dist/index.js';import{ClipboardPipeline as _0x163d70}from'@ckeditor/ckeditor5-clipboard/dist/index.js';class B extends _0x1b73d0{['_enabledCommands'];constructor(_0x423dde,_0x3a84b8){super(_0x423dde),this['_enabledCommands']=_0x3a84b8,this['value']=!0x1,this['refresh'](),this['_isEnabledBasedOnSelection']=!0x1;}['refresh'](){this['isEnabled']=!0x0;}['execute'](){this['value']=!this['value'],this['value']?this['_disableUnsupportedCommands']():this['_enableCommands']();}['_disableUnsupportedCommands'](){for(const _0x2ac45b of this['editor']['commands']['commands']())_0x2ac45b['affectsData']&&!this['_enabledCommands']['has'](_0x2ac45b)&&_0x2ac45b['forceDisabled']('TrackChangesCommand');}['_enableCommands'](){for(const _0x597804 of this['editor']['commands']['commands']())_0x597804['affectsData']&&!this['_enabledCommands']['has'](_0x597804)&&_0x597804['clearForceDisabled']('TrackChangesCommand');}}class x extends _0x1b73d0{['_suggestions'];constructor(_0x511ed0,_0x32c987){super(_0x511ed0),this['_suggestions']=_0x32c987,this['refresh'](),this['_isEnabledBasedOnSelection']=!0x1;}['refresh'](){this['isEnabled']=!0x0;}['execute'](_0x54bb26){const _0x443eb8=this['_suggestions']['get'](_0x54bb26);if(!_0x443eb8)throw new _0x5a6152('track-changes-accept-suggestion-not-found',this);const _0x24d766=_0x443eb8['getRanges']();this['editor']['model']['canEditAt'](_0x24d766)&&this['editor']['plugins']['get']('TrackChangesEditing')['acceptSuggestion'](_0x443eb8);}}class O extends _0x1b73d0{['_suggestions'];constructor(_0x9f96a0,_0x55d818){super(_0x9f96a0),this['_suggestions']=_0x55d818,this['refresh'](),this['_isEnabledBasedOnSelection']=!0x1;}['refresh'](){this['isEnabled']=!0x0;}['execute'](_0x5702fe){const _0x163285=this['_suggestions']['get'](_0x5702fe);if(!_0x163285)throw new _0x5a6152('track-changes-discard-suggestion-not-found',this);const _0x2f283c=_0x163285['getRanges']();this['editor']['model']['canEditAt'](_0x2f283c)&&this['editor']['plugins']['get']('TrackChangesEditing')['discardSuggestion'](_0x163285);}}function ls(_0x2819e9,_0x39741c){let _0x255167='';return _0x255167+=_0x2819e9['split']('*')['map']((_0x16eaa7,_0x4a1c26)=>_0x4a1c26%0x2!=0x0?'<span\x20class=\x22ck-suggestion-type\x22>'+nn(_0x16eaa7)+'</span>':nn(_0x16eaa7))['join'](''),_0x39741c&&(_0x255167+='<span\x20class=\x22ck-suggestion-color\x22\x20style=\x22background-color:\x20'+_0x39741c['value']+'\x22\x20title=\x22'+_0x39741c['title']+'\x22></span>'),_0x255167;}function nn(_0x5c9c9a){const _0x15a5b6=document['createElement']('span');return _0x15a5b6['innerText']=_0x5c9c9a,_0x15a5b6['innerHTML'];}function ts(_0x3dafc0){return _0x3dafc0['sort']((_0x5e8c68,_0x57119a)=>'deletion'==_0x5e8c68['type']&&'deletion'!=_0x57119a['type']?-0x1:'deletion'!=_0x5e8c68['type']&&'deletion'==_0x57119a['type']?0x1:0x0);}function to(_0x210784,_0xef691){let _0x5a64b0,_0x4b9ea6=0x0;const _0x1086e7=[],_0xf2faac=_0xef691['schema'];for(;_0x4b9ea6<_0x210784['length'];){const _0x26823c=_0x210784[_0x4b9ea6],_0x3d99ca=_0x210784[_0x4b9ea6+0x1];_0x5a64b0||(_0x5a64b0=_0xef691['createPositionBefore'](_0x26823c)),on(_0xef691,_0x26823c,_0x3d99ca)||(_0x1086e7['push'](_0xef691['createRange'](_0x5a64b0,_0xf2faac['isObject'](_0x26823c)?_0xef691['createPositionAfter'](_0x26823c):_0xef691['createPositionAt'](_0x26823c,'end'))),_0x5a64b0=null),_0x4b9ea6++;}return _0x1086e7;}function on(_0x8c2e0c,_0x28a2e3,_0x508174){if(!_0x508174)return!0x1;const _0x4c30c8=_0x8c2e0c['createPositionAfter'](_0x28a2e3),_0x5720bc=_0x8c2e0c['createPositionBefore'](_0x508174);return _0x4c30c8['isTouching'](_0x5720bc);}function rs(_0x2e5247,_0x94dd21,_0x55e6d3){for(;_0x55e6d3['length'];){const _0x59eb26=_0x55e6d3['splice'](0x0,0x64);_0x2e5247['change'](()=>{for(const _0x1e525c of _0x59eb26)_0x1e525c['isInContent']&&_0x94dd21['execute'](_0x1e525c['id']);});}}class R extends _0x1b73d0{['_command'];['_suggestions'];constructor(_0x18e992,_0x173472,_0x1c0a4e){super(_0x18e992),this['_command']=_0x173472,this['_suggestions']=_0x1c0a4e,this['refresh'](),this['_isEnabledBasedOnSelection']=!0x1;}['refresh'](){const _0x135f69=Array['from'](this['_suggestions']['values']())['some'](_0x11bd06=>_0x11bd06['isInContent']);this['isEnabled']=this['_command']['isEnabled']&&_0x135f69;}['execute'](){const _0x34e9f7=ts(Array['from'](this['_suggestions']['values']()));for(const _0x25ad13 of _0x34e9f7){const _0x3c6fa3=_0x25ad13['getRanges']();if(!this['editor']['model']['canEditAt'](_0x3c6fa3))return;}rs(this['editor']['model'],this['_command'],_0x34e9f7);}}class E extends _0x1b73d0{['_command'];['_suggestions'];['_selectedSuggestions'];constructor(_0x51f100,_0x1575c4,_0x55c0d8){super(_0x51f100),this['_command']=_0x1575c4,this['_suggestions']=_0x55c0d8,this['_selectedSuggestions']=new Set(),this['refresh'](),this['_isEnabledBasedOnSelection']=!0x1;}['refresh'](){const _0x31b5b3=this['editor']['model']['document']['selection'],_0x1d8d23=Array['from'](this['_suggestions']['values']());this['_selectedSuggestions']=function(_0x19a278,_0x5278cf){const _0x1323fc=Array['from'](_0x19a278['getRanges']()),_0x161046=new Set();for(const _0x4ed487 of _0x5278cf)if(_0x4ed487['isInContent']){for(const _0x7a3342 of _0x1323fc)for(const _0x1060e4 of _0x4ed487['getRanges']())(_0x7a3342['isIntersecting'](_0x1060e4)||_0x19a278['isCollapsed']&&!_0x4ed487['isMultiRange']&&_0x4ed487['next']&&_0x1060e4['end']['isTouching'](_0x7a3342['start']))&&_0x161046['add'](_0x4ed487);}return _0x161046;}(_0x31b5b3,_0x1d8d23),this['isEnabled']=this['_command']['isEnabled']&&!!this['_selectedSuggestions']['size'];}['execute'](){const _0xda4cce=ts(Array['from'](this['_selectedSuggestions']));for(const _0x323157 of _0xda4cce){const _0xff1c36=_0x323157['getRanges']();if(!this['editor']['model']['canEditAt'](_0xff1c36))return;}rs(this['editor']['model'],this['_command'],_0xda4cce);}}class o extends/* #__PURE__ -- @preserve */
_0x42b849(){['id'];['type'];['subType'];['author'];['creator'];['isExternal'];['data'];['createdAt'];['_originalSuggestionId'];['_isDataLoaded']=!0x1;['_model'];['_onAccept'];['_onDiscard'];['_onAttributesChange'];['_markerNames'];constructor(_0x3403a6,_0x27390a){super(),this['id']=_0x27390a['id'],this['type']=_0x27390a['type'],this['subType']=_0x27390a['subType']||null,this['author']=_0x27390a['author'],this['creator']=_0x27390a['creator']||_0x27390a['author'],this['isExternal']=Boolean(_0x27390a['attributes']&&_0x27390a['attributes']['@external']),this['data']=null,this['_originalSuggestionId']=_0x27390a['originalSuggestionId']||null,this['_model']=_0x3403a6,this['_onAccept']=_0x27390a['onAccept'],this['_onDiscard']=_0x27390a['onDiscard'],this['_onAttributesChange']=_0x27390a['onAttributesChange'],this['_markerNames']=new Set(),this['createdAt']=null,this['set']('authoredAt',null),this['set']('attributes',_0x27390a['attributes']||{}),this['set']('previous',null),this['set']('next',null),this['set']('commentThread',null),this['set']('_saved',!0x1),this['decorate']('accept'),this['decorate']('discard');}get['head'](){let _0xe2ab9c=this;for(;_0xe2ab9c['previous'];)_0xe2ab9c=_0xe2ab9c['previous'];return _0xe2ab9c;}get['hasComments'](){return!!this['commentThread']&&this['commentThread']['length']>0x0;}get['isMultiRange'](){if(0x0==this['_markerNames']['size'])return!0x1;return 0x6==Array['from'](this['_markerNames'])[0x0]['split'](':')['length'];}get['isInContent'](){return null!==this['getFirstMarker']();}['addMarkerName'](_0x18b218){this['_markerNames']['add'](_0x18b218);}['getMarkerNames'](){return Array['from'](this['_markerNames']);}['getMarkers'](){return this['getMarkerNames']()['map'](_0x2bf861=>this['_model']['markers']['get'](_0x2bf861))['filter'](_0x5ec195=>_0x5ec195);}['getFirstMarker'](){return this['getMarkers']()[0x0]||null;}['removeMarkers'](){this['_model']['change'](_0x151987=>{for(const _0x4bb54c of this['getMarkers']())_0x151987['removeMarker'](_0x4bb54c);}),this['_markerNames']['clear']();}['removeMarker'](_0x5c78b8){this['_model']['change'](_0x3f99d6=>{_0x3f99d6['removeMarker'](_0x5c78b8);}),this['_markerNames']['delete'](_0x5c78b8);}['addRange'](_0x2269c9){const _0x16c7d5='suggestion:'+this['type']+':'+this['subType']+':'+this['id']+':'+this['creator']['id']+':'+o['getMultiRangeId']();this['addMarkerName'](_0x16c7d5),this['_model']['change'](_0x302d5f=>{_0x302d5f['addMarker'](_0x16c7d5,{'range':_0x2269c9,'usingOperation':!0x0,'affectsData':!0x0});});}['isIntersectingWithRange'](_0xb09a0d){for(const _0x4a891f of this['getRanges']())if(_0x4a891f['isIntersecting'](_0xb09a0d))return!0x0;return!0x1;}['getRanges'](){return this['getMarkers']()['map'](_0x14606f=>_0x14606f['getRange']());}['getItems'](){return this['getRanges']()['reduce']((_0x2d1651,_0xb3a563)=>[..._0x2d1651,..._0xb3a563['getItems']()],[]);}['getFirstRange'](){return this['getFirstMarker']()?.['getRange']()||null;}['getContainedElement'](){const _0x3f45ee=this['getRanges']();if(0x1!=_0x3f45ee['length'])return null;const _0x4e5318=_0x3f45ee[0x0],_0x949cc5=_0x4e5318['start']['nodeAfter'],_0x10cd63=_0x4e5318['end']['nodeBefore'];return _0x949cc5 instanceof _0x34d2f0?_0x949cc5!=_0x10cd63?null:_0x949cc5:null;}['accept'](){this['_onAccept'](this['getRanges'](),this['data'],this['attributes']),this['removeMarkers']();}['discard'](){this['_onDiscard'](this['getRanges'](),this['data'],this['attributes']),this['removeMarkers']();}['getAllAdjacentSuggestions'](){const _0x2c8108=[];let _0x193ec1=this['head'];for(;_0x193ec1;)_0x2c8108['push'](_0x193ec1),_0x193ec1=_0x193ec1['next'];return _0x2c8108;}['setAttribute'](_0x3d0720,_0x12ddaf){const _0x44ecbe=_0x296607(this['attributes']);_0x5af4be(_0x44ecbe,_0x3d0720,_0x12ddaf),_0x785288(_0x44ecbe,this['attributes'])||(this['attributes']=_0x44ecbe,this['_onAttributesChange'](_0x44ecbe));}['removeAttribute'](_0x3b1073){const _0x3cdf2d=_0x296607(this['attributes']);_0x967989(_0x3cdf2d,_0x3b1073),_0x785288(_0x3cdf2d,this['attributes'])||(this['attributes']=_0x3cdf2d,this['_onAttributesChange'](this['attributes']));}['toJSON'](){return{'id':this['id'],'type':this['subType']?this['type']+':'+this['subType']:this['type'],'authorId':this['creator']['id'],'createdAt':this['createdAt'],'hasComments':this['hasComments'],'data':this['data'],'attributes':this['attributes']};}static['getMultiRangeId'](){return _0x4ae66e()['substr'](0x1,0x5);}}function c(_0xfb29c4,_0x389aba,_0x456bc8){const _0x8cd6ca=_0xfb29c4['t'],t=_0xfb29c4['t'];switch(_0x389aba){case'Track\x20changes':return t('Track\x20changes');case'Accept\x20suggestion':return t('Accept\x20suggestion');case'Discard\x20suggestion':return t('Discard\x20suggestion');case'Accept\x20all\x20suggestions':return t('Accept\x20all\x20suggestions');case'Accept\x20all\x20selected\x20suggestions':return t('Accept\x20all\x20selected\x20suggestions');case'Discard\x20all\x20suggestions':return t('Discard\x20all\x20suggestions');case'Discard\x20all\x20selected\x20suggestions':return t('Discard\x20all\x20selected\x20suggestions');case'Preview\x20final\x20content':return t('Preview\x20final\x20content');case'Final\x20content\x20preview':return t('Final\x20content\x20preview');case'*Reset\x20font\x20size*':return t('*Reset\x20font\x20size*');case'*Reset\x20font\x20family*':return t('*Reset\x20font\x20family*');case'*Reset\x20font\x20color*':return t('*Reset\x20font\x20color*');case'*Reset\x20font\x20background\x20color*':return t('*Reset\x20font\x20background\x20color*');case'*Remove\x20image\x20text\x20alternative*':return t('*Remove\x20image\x20text\x20alternative*');case'*Reset\x20image\x20width*':return t('*Reset\x20image\x20width*');case'*Remove\x20link*':return t('*Remove\x20link*');case'*Check\x20item*':return t('*Check\x20item*');case'*Uncheck\x20item*':return t('*Uncheck\x20item*');case'*Remove\x20all\x20formatting*':return t('*Remove\x20all\x20formatting*');case'*Replace\x20table\x20cells*':return t('*Replace\x20table\x20cells*');case'*Merge\x20cells*':return t('*Merge\x20cells*');case'*Split\x20cell:*\x20vertically':return t('*Split\x20cell:*\x20vertically');case'*Split\x20cell:*\x20horizontally':return t('*Split\x20cell:*\x20horizontally');case'*Indent:*\x20%0':return t('*Indent:*\x20%0',_0x456bc8);case'*Outdent:*\x20%0':return t('*Outdent:*\x20%0',_0x456bc8);case'*Change\x20to:*\x20%0':return t('*Change\x20to:*\x20%0',_0x456bc8);case'*Insert:*\x20%0':return t('*Insert:*\x20%0',_0x456bc8);case'*Format:*\x20%0':return t('*Format:*\x20%0',_0x456bc8);case'*Format:*\x20change\x20table\x20properties':return t('*Format:*\x20change\x20table\x20properties');case'*Format:*\x20change\x20table\x20cell\x20properties':return t('*Format:*\x20change\x20table\x20cell\x20properties');case'*Format:*\x20insert\x20into\x20%0':return t('*Format:*\x20insert\x20into\x20%0',_0x456bc8);case'*Format:*\x20remove\x20from\x20%0':return t('*Format:*\x20remove\x20from\x20%0',_0x456bc8);case'*Replace\x20image*':return t('*Replace\x20image*');case'*Format:*\x20resize\x20table':return t('*Format:*\x20resize\x20table');case'*Format:*\x20set\x20order\x20to\x20reversed':return t('*Format:*\x20set\x20order\x20to\x20reversed');case'*Format:*\x20set\x20order\x20to\x20regular':return t('*Format:*\x20set\x20order\x20to\x20regular');case'*Format:*\x20set\x20start\x20index\x20to\x20%0':return t('*Format:*\x20set\x20start\x20index\x20to\x20%0',_0x456bc8);case'*Change\x20%0\x20content*':return t('*Change\x20%0\x20content*',_0x456bc8);case'*Remove:*\x20%0':return t('*Remove:*\x20%0',_0x456bc8);case'*Merge:*\x20%0':return t('*Merge:*\x20%0',_0x456bc8);case'*Split:*\x20%0':return t('*Split:*\x20%0',_0x456bc8);case'*Remove\x20format:*\x20%0':return t('*Remove\x20format:*\x20%0',_0x456bc8);case'*Set\x20bookmark:*\x20%0':return t('*Set\x20bookmark:*\x20%0',_0x456bc8);case'*Set\x20font\x20size:*\x20%0':return t('*Set\x20font\x20size:*\x20%0',_0x456bc8);case'*Set\x20font\x20family:*\x20%0':return t('*Set\x20font\x20family:*\x20%0',_0x456bc8);case'*Set\x20format\x20to:*\x20%0':return t('*Set\x20format\x20to:*\x20%0',_0x456bc8);case'*Set\x20font\x20color:*\x20%0':return t('*Set\x20font\x20color:*\x20%0',_0x456bc8);case'*Set\x20font\x20background\x20color:*\x20%0':return t('*Set\x20font\x20background\x20color:*\x20%0',_0x456bc8);case'*Set\x20format:*\x20%0':return t('*Set\x20format:*\x20%0',_0x456bc8);case'*Set\x20image\x20text\x20alternative:*\x20%0':return t('*Set\x20image\x20text\x20alternative:*\x20%0',_0x456bc8);case'*Set\x20image\x20width:*\x20%0':return t('*Set\x20image\x20width:*\x20%0',_0x456bc8);case'*Set\x20link:*\x20%0':return t('*Set\x20link:*\x20%0',_0x456bc8);case'*Set\x20highlight:*\x20%0':return t('*Set\x20highlight:*\x20%0',_0x456bc8);case'*Set\x20table\x20type:*\x20%0':return t('*Set\x20table\x20type:*\x20%0',_0x456bc8);case'*Remove\x20highlight*':return t('*Remove\x20highlight*');case'FORMAT_HIGHLIGHT':return t({'string':'highlight','id':'FORMAT_HIGHLIGHT'});case'FORMAT_RESTRICTED_ENABLED':return t({'string':'*Enable\x20in\x20restricted\x20editing\x20mode*','id':'FORMAT_RESTRICTED_ENABLED'});case'FORMAT_RESTRICTED_DISABLED':return t({'string':'*Disable\x20in\x20restricted\x20editing\x20mode*','id':'FORMAT_RESTRICTED_DISABLED'});case'ELEMENT_TABLE':return t({'string':'table','plural':'%0\x20tables','id':'ELEMENT_TABLE'},_0x456bc8);case'ELEMENT_CONTENT_TABLE':return t({'string':'content\x20table','plural':'%0\x20content\x20tables','id':'ELEMENT_CONTENT_TABLE'},_0x456bc8);case'ELEMENT_LAYOUT_TABLE':return t({'string':'layout\x20table','plural':'%0\x20layout\x20tables','id':'ELEMENT_LAYOUT_TABLE'},_0x456bc8);case'ELEMENT_PARAGRAPH':return t({'string':'paragraph','plural':'%0\x20paragraphs','id':'ELEMENT_PARAGRAPH'},_0x456bc8);case'ELEMENT_PAGE_BREAK':return t({'string':'page\x20break','plural':'%0\x20page\x20breaks','id':'ELEMENT_PAGE_BREAK'},_0x456bc8);case'ELEMENT_MEDIA':return t({'string':'media\x20item','plural':'%0\x20media\x20items','id':'ELEMENT_MEDIA'},_0x456bc8);case'ELEMENT_IMAGE':return t({'string':'image','plural':'%0\x20images','id':'ELEMENT_IMAGE'},_0x456bc8);case'ELEMENT_INLINE_IMAGE':return t({'string':'image','plural':'%0\x20images','id':'ELEMENT_INLINE_IMAGE'},_0x456bc8);case'FORMAT_SIDE_IMAGE':return t({'string':'side\x20image','id':'FORMAT_SIDE_IMAGE'});case'ELEMENT_CAPTION':return t({'string':'caption','id':'ELEMENT_CAPTION'});case'ELEMENT_HORIZONTAL_LINE':return t({'string':'horizontal\x20line','plural':'%0\x20horizontal\x20lines','id':'ELEMENT_HORIZONTAL_LINE'},_0x456bc8);case'ELEMENT_HTML_EMBED':return t({'string':'HTML\x20embed','plural':'%0\x20HTML\x20embeds','id':'ELEMENT_HTML_EMBED'},_0x456bc8);case'ELEMENT_HEADING':return t({'string':'heading\x20(level\x20%1)','plural':'%0\x20headings\x20(level\x20%1)','id':'ELEMENT_HEADING'},_0x456bc8);case'ELEMENT_HEADING_CUSTOM':return t({'string':'heading\x20(%1)','plural':'%0\x20headings\x20(%1)','id':'ELEMENT_HEADING_CUSTOM'},_0x456bc8);case'ELEMENT_LIST_ITEM':return t({'string':'list\x20item','plural':'%0\x20list\x20items','id':'ELEMENT_LIST_ITEM'},_0x456bc8);case'ELEMENT_DEFAULT_LIST_DEFAULT':return t({'string':'default\x20list\x20style','id':'ELEMENT_DEFAULT_LIST_DEFAULT'});case'ELEMENT_BULLETED_LIST':return t({'string':'bulleted\x20list','id':'ELEMENT_BULLETED_LIST'});case'ELEMENT_BULLETED_LIST_DEFAULT':return t({'string':'bulleted\x20list\x20(default)','id':'ELEMENT_BULLETED_LIST_DEFAULT'});case'ELEMENT_BULLETED_LIST_CIRCLE':return t({'string':'bulleted\x20list\x20(circle)','id':'ELEMENT_BULLETED_LIST_CIRCLE'});case'ELEMENT_BULLETED_LIST_DISC':return t({'string':'bulleted\x20list\x20(disc)','id':'ELEMENT_BULLETED_LIST_DISC'});case'ELEMENT_BULLETED_LIST_SQUARE':return t({'string':'bulleted\x20list\x20(square)','id':'ELEMENT_BULLETED_LIST_SQUARE'});case'ELEMENT_NUMBERED_LIST_DEFAULT':return t({'string':'numbered\x20list\x20(default)','id':'ELEMENT_NUMBERED_LIST_DEFAULT'});case'ELEMENT_NUMBERED_LIST':return t({'string':'numbered\x20list','id':'ELEMENT_NUMBERED_LIST'});case'ELEMENT_NUMBERED_LIST_DECIMAL':return t({'string':'numbered\x20list\x20(decimal)','id':'ELEMENT_NUMBERED_LIST_DECIMAL'});case'ELEMENT_NUMBERED_LIST_DECIMAL_LEADING_ZERO':return t({'string':'numbered\x20list\x20(decimal\x20with\x20leading\x20zero)','id':'ELEMENT_NUMBERED_LIST_DECIMAL_LEADING_ZERO'});case'ELEMENT_NUMBERED_LIST_LOWER_LATIN':return t({'string':'numbered\x20list\x20(lower-latin)','id':'ELEMENT_NUMBERED_LIST_LOWER_LATIN'});case'ELEMENT_NUMBERED_LIST_LOWER_ROMAN':return t({'string':'numbered\x20list\x20(lower-roman)','id':'ELEMENT_NUMBERED_LIST_LOWER_ROMAN'});case'ELEMENT_NUMBERED_LIST_UPPER_LATIN':return t({'string':'numbered\x20list\x20(upper-latin)','id':'ELEMENT_NUMBERED_LIST_UPPER_LATIN'});case'ELEMENT_NUMBERED_LIST_UPPER_ROMAN':return t({'string':'numbered\x20list\x20(upper-roman)','id':'ELEMENT_NUMBERED_LIST_UPPER_ROMAN'});case'ELEMENT_TODO_LIST':return t({'string':'to-do\x20list','id':'ELEMENT_TODO_LIST'});case'ELEMENT_MULTI_LEVEL_LIST':return t({'string':'multi-level\x20list','id':'ELEMENT_MULTI_LEVEL_LIST'});case'REPLACE_TEXT':return t({'string':'*Replace:*\x20%0\x20*with*\x20%1','id':'REPLACE_TEXT'},_0x456bc8);case'ELEMENT_SPACE':return t({'string':'space','plural':'%0\x20spaces','id':'ELEMENT_SPACE'},_0x456bc8);case'FORMAT_ALIGNMENT':return t({'string':'alignment','id':'FORMAT_ALIGNMENT'});case'FORMAT_ALIGN_TO_LEFT':return t({'string':'align\x20to\x20left','id':'FORMAT_ALIGN_TO_LEFT'});case'FORMAT_ALIGN_TO_RIGHT':return t({'string':'align\x20to\x20right','id':'FORMAT_ALIGN_TO_RIGHT'});case'FORMAT_ALIGN_TO_CENTER':return t({'string':'align\x20to\x20center','id':'FORMAT_ALIGN_TO_CENTER'});case'FORMAT_JUSTIFY_TEXT':return t({'string':'justify','id':'FORMAT_JUSTIFY_TEXT'});case'FORMAT_BOLD':return t({'string':'bold','id':'FORMAT_BOLD'});case'FORMAT_ITALIC':return t({'string':'italic','id':'FORMAT_ITALIC'});case'FORMAT_UNDERLINE':return t({'string':'underline','id':'FORMAT_UNDERLINE'});case'FORMAT_CODE':return t({'string':'code','id':'FORMAT_CODE'});case'FORMAT_STRIKETHROUGH':return t({'string':'strikethrough','id':'FORMAT_STRIKETHROUGH'});case'FORMAT_SUBSCRIPT':return t({'string':'subscript','id':'FORMAT_SUBSCRIPT'});case'FORMAT_SUPERSCRIPT':return t({'string':'superscript','id':'FORMAT_SUPERSCRIPT'});case'ELEMENT_BLOCK_QUOTE':return t({'string':'block\x20quote','id':'ELEMENT_BLOCK_QUOTE'});case'ELEMENT_CODE_BLOCK':return t({'string':'code\x20block','plural':'%0\x20code\x20blocks','id':'ELEMENT_CODE_BLOCK'},_0x456bc8);case'FORMAT_HEADER_COLUMN':return t({'string':'header\x20column','id':'FORMAT_HEADER_COLUMN'});case'FORMAT_REGULAR_COLUMN':return t({'string':'regular\x20column','id':'FORMAT_REGULAR_COLUMN'});case'FORMAT_HEADER_ROW':return t({'string':'header\x20row','id':'FORMAT_HEADER_ROW'});case'FORMAT_REGULAR_ROW':return t({'string':'regular\x20row','id':'FORMAT_REGULAR_ROW'});case'FORMAT_INDENT':return t({'string':'indent','id':'FORMAT_INDENT'});case'FORMAT_LIST_REVERSED':return t({'string':'list\x20reversed','id':'FORMAT_LIST_REVERSED'});case'FORMAT_LIST_START':return t({'string':'list\x20start','id':'FORMAT_LIST_START'});case'FORMAT_FONT_SIZE':return t({'string':'font\x20size','id':'FORMAT_FONT_SIZE'});case'FORMAT_FONT_FAMILY':return t({'string':'font\x20family','id':'FORMAT_FONT_FAMILY'});case'FORMAT_FONT_COLOR':return t({'string':'font\x20color','id':'FORMAT_FONT_COLOR'});case'FORMAT_FONT_BACKGROUND':return t({'string':'font\x20background\x20color','id':'FORMAT_FONT_BACKGROUND'});case'FORMAT_IMAGE_SIZE':return t({'string':'image\x20size','id':'FORMAT_IMAGE_SIZE'});case'FORMAT_STYLE':return t({'string':'style','id':'FORMAT_STYLE'});case'PENDING_ACTION_SUGGESTION':return t({'string':'Unsaved\x20change\x20in\x20suggestion.','id':'PENDING_ACTION_SUGGESTION'});case'ELEMENT_TABLE_WITH_TEXT':return t({'string':'table\x20*with\x20text*\x20%0','id':'ELEMENT_TABLE_WITH_TEXT'},_0x456bc8);case'ELEMENT_TABLE_ROW':return t({'string':'table\x20row','plural':'%0\x20table\x20rows','id':'ELEMENT_TABLE_ROW'},_0x456bc8);case'ELEMENT_TABLE_ROW_WITH_TEXT':return t({'string':'table\x20row\x20*with\x20text*\x20%1','plural':'%0\x20table\x20rows\x20*with\x20text*\x20%1','id':'ELEMENT_TABLE_ROW_WITH_TEXT'},_0x456bc8);case'ELEMENT_TABLE_COLUMN':return t({'string':'table\x20column','plural':'%0\x20table\x20columns','id':'ELEMENT_TABLE_COLUMN'},_0x456bc8);case'ELEMENT_TABLE_COLUMN_WITH_TEXT':return t({'string':'table\x20column\x20*with\x20text*\x20%1','plural':'%0\x20table\x20columns\x20*with\x20text*\x20%1','id':'ELEMENT_TABLE_COLUMN_WITH_TEXT'},_0x456bc8);case'ELEMENT_TABLE_OF_CONTENTS':return t({'string':'table\x20of\x20contents','plural':'%0\x20tables\x20of\x20contents','id':'ELEMENT_TABLE_OF_CONTENTS'},_0x456bc8);case'ELEMENT_LINE_BREAK':return t({'id':'ELEMENT_LINE_BREAK','string':'line\x20break','plural':'%0\x20line\x20breaks'},_0x456bc8);case'ELEMENT_TITLE':return t({'id':'ELEMENT_TITLE','string':'title'});case'ELEMENT_MERGE_FIELD':return t({'id':'ELEMENT_MERGE_FIELD','string':'merge\x20field','plural':'%0\x20merge\x20fields'},_0x456bc8);case'ELEMENT_BOOKMARK':return t({'id':'ELEMENT_BOOKMARK','string':'bookmark','plural':'%0\x20bookmarks'},_0x456bc8);case'EXTERNAL_SUGGESTION':return t({'id':'EXTERNAL_SUGGESTION','string':'This\x20suggestion\x20comes\x20from\x20an\x20external\x20source.'});case'EXTERNAL_IMPORT_WORD_SUGGESTION':return t({'string':'This\x20suggestion\x20comes\x20from\x20an\x20imported\x20Word\x20file.','id':'EXTERNAL_IMPORT_WORD_SUGGESTION'});case'EXTERNAL_AVATAR':return _0x8cd6ca({'string':'Displayed\x20author\x20name\x20comes\x20from\x20external\x20source\x20(added\x20by\x20%0)','id':'EXTERNAL_AVATAR'},_0x456bc8);case'EXTERNAL_IMPORT_WORD_AVATAR':return _0x8cd6ca({'string':'Displayed\x20author\x20name\x20comes\x20from\x20a\x20Word\x20document\x20imported\x20by\x20%0','id':'EXTERNAL_IMPORT_WORD_AVATAR'},_0x456bc8);case'ENTER_INSERTION_SUGGESTION_ANNOUNCEMENT':return t({'string':'Entering\x20insertion\x20suggestion.\x20Press\x20%0\x20to\x20go\x20to\x20the\x20discussion.','id':'ENTER_INSERTION_SUGGESTION_ANNOUNCEMENT'},_0x456bc8);case'LEAVE_INSERTION_SUGGESTION_ANNOUNCEMENT':return t({'string':'Leaving\x20insertion\x20suggestion.','id':'LEAVE_INSERTION_SUGGESTION_ANNOUNCEMENT'});case'ENTER_DELETION_SUGGESTION_ANNOUNCEMENT':return t({'string':'Entering\x20deletion\x20suggestion.\x20Press\x20%0\x20to\x20go\x20to\x20the\x20discussion.','id':'ENTER_DELETION_SUGGESTION_ANNOUNCEMENT'},_0x456bc8);case'LEAVE_DELETION_SUGGESTION_ANNOUNCEMENT':return t({'string':'Leaving\x20deletion\x20suggestion.','id':'LEAVE_DELETION_SUGGESTION_ANNOUNCEMENT'});case'ENTER_FORMATTING_SUGGESTION_ANNOUNCEMENT':return t({'string':'Entering\x20formatting\x20suggestion.\x20Press\x20%0\x20to\x20go\x20to\x20the\x20discussion.','id':'ENTER_FORMATTING_SUGGESTION_ANNOUNCEMENT'},_0x456bc8);case'LEAVE_FORMATTING_SUGGESTION_ANNOUNCEMENT':return t({'string':'Leaving\x20formatting\x20suggestion.','id':'LEAVE_FORMATTING_SUGGESTION_ANNOUNCEMENT'});case'SUGGESTION_THREAD_ARIA_LABEL':return t({'string':'Suggestion\x20by\x20%1.\x20Created\x20on\x20%2.\x20%0\x20reply.\x20%3','plural':'Suggestion\x20by\x20%1.\x20Created\x20on\x20%2.\x20%0\x20replies.\x20%3','id':'SUGGESTION_THREAD_ARIA_LABEL'},_0x456bc8);case'SUGGESTION_THREAD_DESCRIPTION':return t({'string':'Press\x20Enter\x20for\x20more\x20options.\x20Press\x20Escape\x20to\x20exit.','id':'SUGGESTION_THREAD_DESCRIPTION'});default:return _0x389aba;}}class f{['_customCallbacks'];['_itemLabels'];['_itemLabelsCallbacks'];['_attributeLabels'];['_schema'];['_locale'];constructor(_0x5ba869,_0x26cc9a){this['_customCallbacks']=[],this['_itemLabels']=new Map(),this['_itemLabelsCallbacks']=[],this['_attributeLabels']=new Map(),this['_schema']=_0x5ba869,this['_locale']=_0x26cc9a;}['getDescriptions'](_0x3005ca){const _0x313c36=[],_0x2be08e=new Set(),_0x1d218e=new Set();for(let _0x46b10f=0x0;_0x46b10f<_0x3005ca['length'];_0x46b10f++){const _0x470198=_0x3005ca[_0x46b10f];if(!_0x470198['isInContent'])continue;const _0x9b8fd=this['_handleCustomCallbackDescription'](_0x470198);if(_0x9b8fd){if(null!=_0x470198['subType']){if(_0x2be08e['has'](_0x470198['subType']))continue;_0x2be08e['add'](_0x470198['subType']);}_0x313c36['push'](_0x9b8fd);}else{if('attribute'==_0x470198['type']){const _0x51f545=_0x470198['data']['key'];if(_0x1d218e['has'](_0x51f545))continue;_0x1d218e['add'](_0x470198['data']['key']),_0x51f545==u?this['_handleRenameSuggestionDescription'](_0x313c36,_0x470198):this['_handleAttributeSuggestionDescription'](_0x313c36,_0x470198);continue;}'insertion'!=_0x470198['type']&&'deletion'!=_0x470198['type']||this['_handleInsertRemoveSuggestionDescription'](_0x313c36,_0x470198,_0x3005ca[_0x46b10f+0x1]);}}return this['_resolveDescriptionItems'](_0x313c36);}['registerDescriptionCallback'](_0x4f25a5){this['_customCallbacks']['push'](_0x4f25a5);}['registerElementLabel'](_0x48b064,_0xe6962a,_0x445095=_0x252a98['normal']){'function'==typeof _0x48b064?_0x439d79(this['_itemLabelsCallbacks'],{'matchingCallback':_0x48b064,'label':_0xe6962a,'priority':_0x445095}):this['_itemLabels']['set'](_0x48b064,_0xe6962a);}['registerAttributeLabel'](_0x41359e,_0xc772ee){this['_attributeLabels']['set'](_0x41359e,_0xc772ee);}['getItemLabel'](_0x24db0d,_0x550e99=0x1){let _0x1df5c0;for(const _0x4e89b5 of this['_itemLabelsCallbacks'])if(_0x4e89b5['matchingCallback'](_0x24db0d)){_0x1df5c0=_0x4e89b5['label'];break;}return _0x1df5c0||(_0x1df5c0=this['_itemLabels']['get'](_0x24db0d['name'])),_0x1df5c0?_0x1df5c0(_0x550e99):0x1!==_0x550e99?_0x550e99+'\x20'+_0x24db0d['name']+'s':''+_0x24db0d['name'];}['_addDescriptionItems'](_0x5b7d65,_0x4851cf){const _0x437917=_0x4851cf['getFirstRange']()['getWalker'](),_0x5272a3='insertion'==_0x4851cf['type']?'add':'remove';for(const _0x2d2fe7 of _0x437917){const _0x575223=_0x2d2fe7['item'],_0x17e188=_0x5b7d65[_0x5b7d65['length']-0x1];if(_0x575223['is']('$textProxy'))_0x17e188&&_0x17e188['type']['indexOf']('Container')>-0x1&&_0x5b7d65['pop'](),_0x17e188&&'text'==_0x17e188['type']?_0x17e188[_0x5272a3]+=_0x575223['data']:_0x5b7d65['push']({'type':'text','add':'add'==_0x5272a3?_0x575223['data']:'','remove':'remove'==_0x5272a3?_0x575223['data']:''});else{if(this['_schema']['isObject'](_0x575223)){const _0xcca630=_0x575223;if(_0x17e188&&_0x17e188['type']['indexOf']('Container')>-0x1&&_0x5b7d65['pop'](),'elementEnd'==_0x2d2fe7['type'])continue;_0x17e188&&_0x17e188['type']==_0x5272a3+'Object'&&_0x17e188['element']['name']==_0xcca630['name']?_0x17e188['quantity']++:_0x5b7d65['push']({'type':_0x5272a3+'Object','element':_0xcca630,'quantity':0x1}),_0x437917['skip'](_0x22dcd1=>!('elementEnd'==_0x22dcd1['type']&&_0x22dcd1['item']==_0x575223));}else{if(this['_schema']['checkChild'](_0x575223,'$text')||_0x575223['is']('element','softBreak')){const _0x354d1e=_0x575223;if('add'==_0x5272a3&&'elementStart'==_0x2d2fe7['type']||'remove'==_0x5272a3&&'elementEnd'==_0x2d2fe7['type'])continue;if(_0x17e188&&-0x1==_0x17e188['type']['indexOf']('Container')){'text'==_0x17e188['type']&&(_0x17e188[_0x5272a3]+='\x0a');continue;}let _0x23411a;if(_0x23411a='add'==_0x5272a3?_0x354d1e['nextSibling']&&!this['_schema']['isObject'](_0x354d1e['nextSibling'])?_0x354d1e['nextSibling']:null:_0x354d1e['previousSibling']&&!this['_schema']['isObject'](_0x354d1e['previousSibling'])?_0x354d1e['previousSibling']:null,_0x354d1e['isEmpty']||_0x23411a&&_0x23411a['isEmpty']){const _0x15e21f=_0x23411a&&_0x23411a['isEmpty']?_0x23411a:_0x354d1e;_0x17e188&&_0x17e188['type']==_0x5272a3+'EmptyContainer'&&_0x17e188['element']['name']==_0x15e21f['name']?_0x17e188['quantity']++:_0x5b7d65['push']({'type':_0x5272a3+'EmptyContainer','element':_0x15e21f,'quantity':0x1});}else _0x5b7d65['push']({'type':_0x5272a3+'Container','element':_0x354d1e});}}}}}['_resolveDescriptionItems'](_0x582be6){const _0x5e2a3d=this['_locale'],_0x42ba4b=[],_0xda033c=[],_0x5c9d27=[];for(const _0x445d11 of _0x582be6)switch(_0x445d11['type']){case'text':if(_0x445d11['add']=_0x445d11['add']['replace'](/(\S)\u000A+(\S)/g,'$1\x20$2')['replace'](/\u000A/g,''),_0x445d11['remove']=_0x445d11['remove']['replace'](/(\S)\u000A+(\S)/g,'$1\x20$2')['replace'](/\u000A/g,''),''!=_0x445d11['add']&&''!=_0x445d11['remove']){_0x42ba4b['push']({'type':'replace','content':c(_0x5e2a3d,'REPLACE_TEXT',['\x22'+_0x445d11['remove']+'\x22','\x22'+_0x445d11['add']+'\x22'])});continue;}if(null!=_0x445d11['add']['match'](/^ +$/)){_0x42ba4b['push']({'type':'insertion','content':c(_0x5e2a3d,'*Insert:*\x20%0',c(_0x5e2a3d,'ELEMENT_SPACE',_0x445d11['add']['length']))});continue;}if(null!=_0x445d11['remove']['match'](/^ +$/)){_0x42ba4b['push']({'type':'deletion','content':c(_0x5e2a3d,'*Remove:*\x20%0',c(_0x5e2a3d,'ELEMENT_SPACE',_0x445d11['remove']['length']))});continue;}if(''!=_0x445d11['add']){_0x42ba4b['push']({'type':'insertion','content':c(_0x5e2a3d,'*Insert:*\x20%0','\x22'+_0x445d11['add']+'\x22')});continue;}_0x42ba4b['push']({'type':'deletion','content':c(_0x5e2a3d,'*Remove:*\x20%0','\x22'+_0x445d11['remove']+'\x22')});continue;case'addEmptyContainer':case'addObject':_0x42ba4b['push']({'type':'insertion','content':c(_0x5e2a3d,'*Insert:*\x20%0',this['getItemLabel'](_0x445d11['element'],_0x445d11['quantity']))});continue;case'removeEmptyContainer':case'removeObject':_0x42ba4b['push']({'type':'deletion','content':c(_0x5e2a3d,'*Remove:*\x20%0',this['getItemLabel'](_0x445d11['element'],_0x445d11['quantity']))});continue;case'addContainer':_0x42ba4b['push']({'type':'insertion','content':c(_0x5e2a3d,'*Split:*\x20%0',this['getItemLabel'](_0x445d11['element'],_0x445d11['quantity']))});continue;case'removeContainer':_0x42ba4b['push']({'type':'deletion','content':c(_0x5e2a3d,'*Merge:*\x20%0',this['getItemLabel'](_0x445d11['element'],_0x445d11['quantity']))});continue;case'addFormat':_0xda033c['push'](_0x445d11['key']);continue;case'removeFormat':_0x5c9d27['push'](_0x445d11['key']);continue;default:_0x42ba4b['push'](_0x445d11);}if(_0xda033c['length']){const _0x326aca=_0xda033c['map'](_0x5d3f16=>this['_attributeLabels']['has'](_0x5d3f16)?this['_attributeLabels']['get'](_0x5d3f16):_0x5d3f16)['join'](',\x20');_0x42ba4b['push']({'type':'format','content':c(this['_locale'],'*Set\x20format:*\x20%0',_0x326aca)});}if(_0x5c9d27['length']){const _0x5caf45=_0x5c9d27['map'](_0x1b1400=>this['_attributeLabels']['has'](_0x1b1400)?this['_attributeLabels']['get'](_0x1b1400):_0x1b1400)['join'](',\x20');_0x42ba4b['push']({'type':'format','content':c(this['_locale'],'*Remove\x20format:*\x20%0',_0x5caf45)});}return _0x42ba4b;}['_handleCustomCallbackDescription'](_0x5a5a1a){for(const _0x33b6e2 of this['_customCallbacks']){const _0x35d3a6=_0x33b6e2(_0x5a5a1a);if(_0x35d3a6&&'type'in _0x35d3a6)return _0x35d3a6;}}['_handleAttributeSuggestionDescription'](_0x3ab712,_0x1df229){const _0x673ea=_0x1df229['data'],_0x242047=void 0x0===_0x673ea['newValue']?'removeFormat':'addFormat';_0x3ab712['push']({'type':_0x242047,'key':_0x673ea['key']});}['_handleRenameSuggestionDescription'](_0x1eda9f,_0xdbb1ec){_0x1eda9f['push']({'type':'format','content':c(this['_locale'],'*Change\x20to:*\x20%0',this['getItemLabel'](_0xdbb1ec['getFirstRange']()['start']['nodeAfter'],0x1))});}['_handleInsertRemoveSuggestionDescription'](_0x3ae116,_0x57a277,_0x1b6ddc){if(this['_addDescriptionItems'](_0x3ae116,_0x57a277),_0x1b6ddc&&_0x1b6ddc['getFirstRange']()&&!_0x57a277['getFirstRange']()['end']['isEqual'](_0x1b6ddc['getFirstRange']()['start'])){const _0x31de71=_0x3ae116[_0x3ae116['length']-0x1],_0x485f21='insertion'==_0x57a277['type']?'add':'remove';_0x31de71&&'text'==_0x31de71['type']&&(_0x31de71[_0x485f21]+='\x0a');}}}class U extends _0x16d8d0{['afterInit'](){const _0x5c114a=this['editor'],_0x2dc89a=_0x5c114a['plugins']['get']('TrackChangesEditing');_0x5c114a['commands']['get']('showAIAssistant')&&_0x2dc89a['enableCommand']('showAIAssistant');}}class V extends _0x16d8d0{['afterInit'](){const _0x458daf=this['editor'],_0x1de476=_0x458daf['locale'];if(!_0x458daf['plugins']['has']('AlignmentEditing'))return;const _0x1298a0=_0x458daf['plugins']['get']('TrackChangesEditing');_0x1298a0['enableDefaultAttributesIntegration']('alignment'),_0x1298a0['registerBlockAttribute']('alignment'),_0x1298a0['descriptionFactory']['registerAttributeLabel']('alignment',c(_0x1de476,'FORMAT_ALIGNMENT')),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x46247f=this['editor'],_0x722a1=_0x46247f['locale'];_0x46247f['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x38b935=>{if('formatBlock'!=_0x38b935['type'])return;const {data:_0x15a6b6}=_0x38b935;if(_0x15a6b6&&'alignment'==_0x15a6b6['commandName']){const _0x152833=_0x15a6b6['commandParams'][0x0]['value'];return{'type':'format','content':c(_0x722a1,'*Format:*\x20%0',function(_0x27b663){switch(_0x27b663){case'left':return c(_0x722a1,'FORMAT_ALIGN_TO_LEFT');case'right':return c(_0x722a1,'FORMAT_ALIGN_TO_RIGHT');case'center':return c(_0x722a1,'FORMAT_ALIGN_TO_CENTER');case'justify':return c(_0x722a1,'FORMAT_JUSTIFY_TEXT');}}(_0x152833))};}});}}const ti=['BoldEditing','ItalicEditing','UnderlineEditing','CodeEditing','StrikethroughEditing','SubscriptEditing','SuperscriptEditing'];class F extends _0x16d8d0{['afterInit'](){const _0x5570a5=this['editor'],_0x5276ce=_0x5570a5['plugins']['get']('TrackChangesEditing'),_0xe74b1f=_0x5570a5['locale'];for(const _0x1b5768 of ti){if(!_0x5570a5['plugins']['has'](_0x1b5768))continue;const _0x52fb1f=_0x1b5768['slice'](0x0,-0x7)['toLowerCase'](),_0x5b71e9='FORMAT_'+_0x52fb1f['toUpperCase']();_0x5276ce['enableDefaultAttributesIntegration'](_0x52fb1f),_0x5276ce['registerInlineAttribute'](_0x52fb1f),_0x5276ce['descriptionFactory']['registerAttributeLabel'](_0x52fb1f,c(_0xe74b1f,_0x5b71e9));}this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x3c004c=this['editor'],_0x17e822=_0x3c004c['locale'],_0x3d43e0=_0x3c004c['plugins']['get']('TrackChangesEditing');function _0x31a3b1(_0x5d1806,_0xb6768e){_0x3d43e0['descriptionFactory']['registerDescriptionCallback'](_0x188527=>{if('formatInline'!=_0x188527['type'])return;const {data:_0x1c1a54}=_0x188527;return _0x1c1a54&&_0x1c1a54['commandName']===_0x5d1806?_0x1c1a54['commandParams'][0x0]['forceValue']?{'type':'format','content':c(_0x17e822,'*Format:*\x20%0',_0xb6768e)}:{'type':'format','content':c(_0x17e822,'*Remove\x20format:*\x20%0',_0xb6768e)}:void 0x0;});}_0x31a3b1('bold',c(_0x17e822,'FORMAT_BOLD')),_0x31a3b1('italic',c(_0x17e822,'FORMAT_ITALIC')),_0x31a3b1('underline',c(_0x17e822,'FORMAT_UNDERLINE')),_0x31a3b1('code',c(_0x17e822,'FORMAT_CODE')),_0x31a3b1('strikethrough',c(_0x17e822,'FORMAT_STRIKETHROUGH')),_0x31a3b1('subscript',c(_0x17e822,'FORMAT_SUBSCRIPT')),_0x31a3b1('superscript',c(_0x17e822,'FORMAT_SUPERSCRIPT'));}}class G extends _0x16d8d0{['afterInit'](){const _0x47ba62=this['editor'],_0x43f5b3=_0x47ba62['locale'];if(!_0x47ba62['plugins']['has']('BlockQuoteEditing'))return;const _0x1886b3=_0x47ba62['plugins']['get']('TrackChangesEditing'),_0x33a0ca=this['editor']['commands']['get']('blockQuote');_0x1886b3['enableCommand']('blockQuote',(_0x358565,_0x282938={})=>{const _0x390c1d=this['editor']['model']['document']['selection'],_0x33e977=_0x282938&&void 0x0!==_0x282938['forceValue']?_0x282938['forceValue']:!_0x33a0ca['value'];let _0x2819f1=[];if(_0x33e977){const _0x204186=Array['from'](_0x390c1d['getSelectedBlocks']())['filter'](_0x271ffc=>oo(_0x271ffc)||function(_0x1d32e2,_0x74ee4d){const _0x56462d=_0x74ee4d['checkChild'](_0x1d32e2['parent'],'blockQuote'),_0x1152a2=_0x74ee4d['checkChild'](['$root','blockQuote'],_0x1d32e2);return _0x56462d&&_0x1152a2;}(_0x271ffc,this['editor']['model']['schema']));_0x2819f1=to(_0x204186,_0x47ba62['model']);}else{const _0x44fc7f=Array['from'](_0x390c1d['getSelectedBlocks']())['filter'](_0x2fdba4=>oo(_0x2fdba4));_0x2819f1=to(_0x44fc7f,_0x47ba62['model']);}_0x47ba62['model']['change'](()=>{for(const _0x42d82c of _0x2819f1)_0x1886b3['markBlockFormat'](_0x42d82c,{'commandName':'blockQuote','commandParams':[{'forceValue':_0x33e977}]});});}),_0x1886b3['descriptionFactory']['registerDescriptionCallback'](_0x306c3a=>{const {data:_0x31c512}=_0x306c3a;if(_0x31c512&&'blockQuote'==_0x31c512['commandName']){const _0x1ab4c8=c(_0x43f5b3,'ELEMENT_BLOCK_QUOTE');return _0x31c512['commandParams'][0x0]['forceValue']?{'type':'format','content':c(_0x43f5b3,'*Set\x20format:*\x20%0',_0x1ab4c8)}:{'type':'format','content':c(_0x43f5b3,'*Remove\x20format:*\x20%0',_0x1ab4c8)};}});}}function oo(_0x19bd93){return'blockQuote'==_0x19bd93['parent']['name'];}class L extends _0x16d8d0{['afterInit'](){const _0x2ecfb1=this['editor'],_0x43937d=_0x2ecfb1['locale'],_0x424f15=_0x2ecfb1['plugins']['get']('TrackChangesEditing');_0x2ecfb1['plugins']['has']('BookmarkEditing')&&(_0x424f15['enableCommand']('insertBookmark'),_0x424f15['enableDefaultAttributesIntegration']('updateBookmark'),_0x424f15['registerBlockAttribute']('bookmarkId'),_0x424f15['descriptionFactory']['registerDescriptionCallback'](_0x431a0a=>{if('insertion'!=_0x431a0a['type']&&'deletion'!=_0x431a0a['type']&&'attribute'!=_0x431a0a['type'])return;const _0x534e66=_0x431a0a['getContainedElement']();if(null==_0x534e66)return;if(!_0x534e66['is']('element','bookmark'))return;const _0x3c8fb9=_0x534e66['getAttribute']('bookmarkId');if('insertion'==_0x431a0a['type'])return{'type':'insertion','content':c(_0x43937d,'*Insert:*\x20%0','\x22'+_0x3c8fb9+'\x22\x20'+c(_0x43937d,'ELEMENT_BOOKMARK'))};if('deletion'==_0x431a0a['type'])return{'type':'deletion','content':c(_0x43937d,'*Remove:*\x20%0','\x22'+_0x3c8fb9+'\x22\x20'+c(_0x43937d,'ELEMENT_BOOKMARK'))};const {data:_0x1572e0}=_0x431a0a;if(!_0x1572e0||'bookmarkId'!=_0x1572e0['key'])return;return{'type':'format','content':c(_0x43937d,'*Set\x20bookmark:*\x20%0','\x22'+_0x1572e0['newValue']+'\x22')};}));}}class J extends _0x16d8d0{['afterInit'](){const _0x361fe4=this['editor'];_0x361fe4['plugins']['has']('CaseChange')&&(_0x361fe4['plugins']['get']('TrackChangesEditing')['enableCommand']('changeCaseUpper'),_0x361fe4['plugins']['get']('TrackChangesEditing')['enableCommand']('changeCaseLower'),_0x361fe4['plugins']['get']('TrackChangesEditing')['enableCommand']('changeCaseTitle'));}}class K extends _0x16d8d0{['afterInit'](){const _0x51d886=this['editor'];_0x51d886['commands']['get']('ckbox')&&_0x51d886['plugins']['get']('TrackChangesEditing')['enableCommand']('ckbox');}}class H extends _0x16d8d0{['afterInit'](){const _0x5cdf8f=this['editor'];if(!_0x5cdf8f['plugins']['has']('CodeBlock'))return;const _0x8beb4c=_0x5cdf8f['plugins']['get']('TrackChangesEditing'),_0xada743=_0x5cdf8f['locale'],_0x42eb1a=_0x5cdf8f['config']['get']('codeBlock')['languages'],_0x2aab70=_0x5cdf8f['commands']['get']('codeBlock');_0x8beb4c['enableCommand']('indentCodeBlock'),_0x8beb4c['enableCommand']('outdentCodeBlock'),_0x8beb4c['enableCommand']('codeBlock',(_0xeeae78,_0x7d65ce={})=>{const _0x319f62=_0x5cdf8f['model'],_0x44bcf7=_0x5cdf8f['model']['document']['selection'],_0x1a4f8d=_0x7d65ce&&void 0x0!==_0x7d65ce['forceValue']?_0x7d65ce['forceValue']:!_0x2aab70['value'];let _0x3e9aca;_0x7d65ce['language']||(_0x7d65ce['language']=_0x42eb1a[0x0]['language']),_0x3e9aca=_0x1a4f8d?Array['from'](_0x44bcf7['getSelectedBlocks']())['filter'](_0x18dddc=>eo(_0x18dddc)||function(_0x21edfc,_0x26aeb5){if(_0x21edfc['is']('rootElement')||_0x26aeb5['isLimit'](_0x21edfc))return!0x1;return _0x26aeb5['checkChild'](_0x21edfc['parent'],'codeBlock');}(_0x18dddc,_0x319f62['schema'])):Array['from'](_0x44bcf7['getSelectedBlocks']())['filter'](_0x1f935a=>eo(_0x1f935a));const _0x1cf390=to(_0x3e9aca,_0x319f62);_0x319f62['change'](()=>{for(const _0x36e2f4 of _0x1cf390)_0x8beb4c['markBlockFormat'](_0x36e2f4,{'commandName':'codeBlock','commandParams':[{..._0x7d65ce,'forceValue':_0x1a4f8d}],'formatGroupId':'blockName'});});}),(_0x8beb4c['descriptionFactory']['registerElementLabel']('codeBlock',_0x3ec085=>c(_0xada743,'ELEMENT_CODE_BLOCK',_0x3ec085)),_0x8beb4c['descriptionFactory']['registerDescriptionCallback'](_0x4e8005=>{if('formatBlock'!=_0x4e8005['type'])return;const _0x51fa66=_0xada743['t'],{data:_0x36e1fb}=_0x4e8005;if(!_0x36e1fb||'codeBlock'!=_0x36e1fb['commandName'])return;const _0x5b12e3=_0x36e1fb['commandParams'][0x0]['language'],_0xfe36=_0x51fa66(_0x42eb1a['find'](_0x4983ed=>_0x4983ed['language']===_0x5b12e3)['label'])['toLowerCase']();return _0x36e1fb['commandParams'][0x0]['forceValue']?{'type':'format','content':c(_0xada743,'*Set\x20format:*\x20%0',c(_0xada743,'ELEMENT_CODE_BLOCK',0x1)+'\x20('+_0xfe36+')')}:{'type':'format','content':c(_0xada743,'*Remove\x20format:*\x20%0',c(_0xada743,'ELEMENT_CODE_BLOCK',0x1))};}));}}function eo(_0xe398d7){return'codeBlock'==_0xe398d7['name'];}class q extends _0x16d8d0{['afterInit'](){const _0x29746a=this['editor'];if(!_0x29746a['plugins']['has']('CommentsEditing'))return;_0x29746a['plugins']['get']('TrackChangesEditing')['enableCommand']('addCommentThread');}}function io(_0x4df008,_0x180fd3,_0x4f43f7){const _0x5d58de=[];for(const _0x39ebaa of _0x180fd3['getItems']())_0x39ebaa['hasAttribute'](_0x4df008)&&_0x5d58de['push'](_0x4f43f7['createRangeOn'](_0x39ebaa));return _0x5d58de;}function Fe(_0x2e85ad,_0x11b486,{showActiveMarker:_0x166d12=!0x0}={}){const _0x58a3fe=_0x2e85ad['plugins']['get']('TrackChangesEditing');return(_0x50b66d,_0x2092dc,_0x41f027)=>{if(!_0x41f027['consumable']['test'](_0x2092dc['markerRange'],_0x50b66d['name']))return;const _0x352bd1=_0x2092dc['markerRange']['getWalker'](),_0x48a2ed=_0x2092dc['markerRange']['start'],_0x3913b8=_0x2e85ad['model']['schema'];let _0x3d5b67=null,_0x2dabe8=null,_0x160d7f=!0x1,_0x3af85b=!0x1;for(const _0x484149 of _0x352bd1){const _0x24b303=_0x484149['item'];_0x160d7f=_0x160d7f||_0x3913b8['isContent'](_0x24b303);const _0x3f6bea=_0x41f027['mapper']['toViewElement'](_0x24b303);if(_0x3f6bea&&_0x3f6bea['getCustomProperty']('addHighlight'))return;'elementEnd'==_0x484149['type']&&(_0x3913b8['isBlock'](_0x24b303)&&!_0x3913b8['isLimit'](_0x24b303)&&(_0x24b303['nextSibling']||_0x48a2ed['isAtEnd']?_0x3d5b67&&_0x3d5b67['parent']==_0x24b303||(_0x3d5b67=_0x24b303,_0x3b69cc(_0x484149['previousPosition']),_0x3af85b=!0x0):_0x2dabe8=_0x2dabe8||_0x484149['previousPosition']));}function _0x3b69cc(_0x5e3a23){const {id:_0x49f316,authorId:_0x2bb34f}=_0x58a3fe['_splitMarkerName'](_0x2092dc['markerName']),_0x390a96=_0x41f027['writer']['createUIElement']('span',{'class':'ck-suggestion-marker-'+_0x11b486,'data-suggestion':_0x49f316,'data-author-id':_0x2bb34f}),_0x17744b=_0x41f027['mapper']['toViewPosition'](_0x5e3a23);_0x166d12&&_0x58a3fe['activeMarkers']['includes'](_0x2092dc['markerName'])&&_0x41f027['writer']['addClass']('ck-suggestion-marker--active',_0x390a96),_0x41f027['writer']['insert'](_0x17744b,_0x390a96),_0x41f027['mapper']['bindElementToMarker'](_0x390a96,_0x2092dc['markerName']);}_0x160d7f||_0x3af85b||!_0x2dabe8||_0x3b69cc(_0x2dabe8);};}class z extends _0x16d8d0{static get['requires'](){return[_0x2e3332];}['init'](){const _0x4c8195=this['editor'],_0x58bc55=_0x4c8195['plugins']['get']('TrackChangesEditing');_0x58bc55['enableCommand']('delete');const _0x302111=_0x4c8195['commands']['get']('deleteForward');_0x58bc55['enableCommand']('deleteForward',(_0x2b6b98,_0x17b2fc={})=>{const _0x58e3af=_0x4c8195['model']['createSelection'](_0x4c8195['model']['document']['selection']);_0x58e3af['isCollapsed']&&_0x4c8195['model']['modifySelection'](_0x58e3af,{'direction':'forward','unit':_0x17b2fc['unit']});const _0x4c41dc=_0x58e3af['getFirstRange'](),_0x59c8a1=_0x13b424['fromRange'](_0x4c41dc);let _0x32c5fd;_0x2b6b98(_0x17b2fc),_0x32c5fd='$graveyard'==_0x59c8a1['root']['rootName']?_0x4c8195['model']['createRange'](_0x4c41dc['start']):_0x4c8195['model']['createRange'](_0x59c8a1['start'],_0x59c8a1['end']),_0x59c8a1['detach'](),_0x4c8195['model']['enqueueChange'](_0x302111['buffer']['batch'],_0x3cfd31=>{_0x302111['buffer']['lock'](),_0x3cfd31['setSelection'](_0x3cfd31['createRange'](_0x32c5fd['end'])),_0x302111['buffer']['unlock']();});}),_0x4c8195['editing']['downcastDispatcher']['on']('addMarker:suggestion:deletion',Fe(_0x4c8195,'merge'),{'priority':'high'}),_0x4c8195['data']['downcastDispatcher']['on']('addMarker:suggestion:deletion',(_0x5f531a,_0x269e3b,_0x497bc2)=>{_0x497bc2['options']['showSuggestionHighlights']&&Fe(_0x4c8195,'merge',{'showActiveMarker':!0x1})['bind'](this)(_0x5f531a,_0x269e3b,_0x497bc2);},{'priority':'high'}),_0x4c8195['editing']['downcastDispatcher']['on']('removeMarker:suggestion:deletion',(_0x26667d,_0x33a064,_0x3cb2b7)=>{const _0xdf33ae=_0x3cb2b7['mapper']['markerNameToElements'](_0x33a064['markerName']);if(_0xdf33ae){for(const _0x4dadab of _0xdf33ae)_0x4dadab['is']('uiElement')&&(_0x3cb2b7['mapper']['unbindElementFromMarkerName'](_0x4dadab,_0x33a064['markerName']),_0x3cb2b7['writer']['remove'](_0x4dadab));}},{'priority':'high'});}}class W extends _0x16d8d0{['afterInit'](){const _0x483be1=this['editor'];if(!_0x483be1['plugins']['has']('ListEditing'))return;const _0x13ea6e=_0x483be1['locale'],_0x282dce=_0x483be1['plugins']['get']('TrackChangesEditing'),_0x246f75=_0x483be1['plugins']['has']('TodoListEditing'),_0x4f9450=!!_0x483be1['config']['get']('list.multiBlock');function _0x450191(_0x3cf78c){return{'type':'format','content':''+c(_0x13ea6e,'*Set\x20format:*\x20%0',_0x3cf78c)};}function _0x133854(_0x4912b7){return{'type':'format','content':''+c(_0x13ea6e,'*Remove\x20format:*\x20%0',_0x4912b7)};}_0x282dce['enableDefaultAttributesIntegration']('numberedList'),_0x282dce['enableDefaultAttributesIntegration']('bulletedList'),_0x282dce['enableDefaultAttributesIntegration']('customNumberedList'),_0x282dce['enableDefaultAttributesIntegration']('customBulletedList'),_0x282dce['enableDefaultAttributesIntegration']('indentList'),_0x282dce['enableDefaultAttributesIntegration']('outdentList'),_0x282dce['enableDefaultAttributesIntegration']('splitListItemAfter'),_0x282dce['enableDefaultAttributesIntegration']('splitListItemBefore'),_0x282dce['registerBlockAttribute']('listItemId'),_0x282dce['registerBlockAttribute']('listType'),_0x282dce['registerBlockAttribute']('listIndent'),_0x4f9450&&(_0x282dce['enableDefaultAttributesIntegration']('mergeListItemBackward'),_0x282dce['enableDefaultAttributesIntegration']('mergeListItemForward')),_0x246f75&&(_0x282dce['enableDefaultAttributesIntegration']('todoList'),_0x282dce['enableDefaultAttributesIntegration']('checkTodoList'),_0x282dce['registerBlockAttribute']('todoListChecked'),_0x282dce['descriptionFactory']['registerDescriptionCallback'](_0x5db05b=>{const {data:_0xb6729c}=_0x5db05b;if(_0xb6729c&&'todoListChecked'==_0xb6729c['key'])return{'type':'format','content':_0xb6729c['newValue']?c(_0x13ea6e,'*Check\x20item*'):c(_0x13ea6e,'*Uncheck\x20item*')};}),this['editor']['model']['document']['registerPostFixer'](_0x3a8cc6=>{if(_0x3a8cc6['batch']['isUndo'])return!0x1;let _0x14bc3a=!0x1;const _0x43e90d=_0x282dce['getSuggestions']({'skipNotAttached':!0x0})['filter'](_0x3d4b1b=>'todoListChecked'===_0x282dce['_getAttributeKey'](_0x3d4b1b));for(const _0xd752fe of _0x43e90d){'todo'!=_0xd752fe['getFirstRange']()['start']['nodeAfter']['getAttribute']('listType')&&(_0x282dce['_findSuggestions'](_0xd752fe['getFirstRange'](),'attribute')['find'](_0x7a38ec=>'listType'===_0x282dce['_getAttributeKey'](_0x7a38ec['suggestion']))||(_0x3a8cc6['removeMarker'](_0xd752fe['getFirstMarker']()),_0x14bc3a=!0x0));}return _0x14bc3a;})),_0x282dce['descriptionFactory']['registerAttributeLabel']('listIndent',c(_0x13ea6e,'FORMAT_INDENT'));const _0x2f8336={'type':'format','content':''};_0x282dce['descriptionFactory']['registerDescriptionCallback'](_0x14490a=>{const {data:_0x497e58}=_0x14490a;if(!_0x497e58||'listType'!=_0x497e58['key'])return;let _0x3ee6ba=_0x14490a['head'];for(;_0x3ee6ba;){if(_0x3ee6ba['data']&&(('listStyle'==_0x3ee6ba['data']['key']||'listMarkerStyle'==_0x3ee6ba['data']['key'])&&(_0x3ee6ba['data']['newValue']&&'default'!=_0x3ee6ba['data']['newValue']||'default'!=_0x3ee6ba['data']['oldValue']&&!_0x497e58['newValue'])||!_0x4f9450&&_0x3ee6ba['data']['key']==u))return _0x2f8336;_0x3ee6ba=_0x3ee6ba['next'];}if(null==_0x497e58['newValue'])switch(_0x497e58['oldValue']){case'bulleted':return _0x133854(c(_0x13ea6e,'ELEMENT_BULLETED_LIST'));case'numbered':return _0x133854(c(_0x13ea6e,'ELEMENT_NUMBERED_LIST'));case'todo':return _0x133854(c(_0x13ea6e,'ELEMENT_TODO_LIST'));}switch(_0x497e58['newValue']){case'bulleted':return _0x450191(c(_0x13ea6e,'ELEMENT_BULLETED_LIST'));case'numbered':return _0x450191(c(_0x13ea6e,'ELEMENT_NUMBERED_LIST'));case'todo':return _0x450191(c(_0x13ea6e,'ELEMENT_TODO_LIST'));}}),_0x282dce['descriptionFactory']['registerDescriptionCallback'](_0x3e4e8f=>{const {data:_0xb77101}=_0x3e4e8f;if(_0xb77101&&'listIndent'==_0xb77101['key'])return null==_0xb77101['newValue']||null==_0xb77101['oldValue']&&0x0==_0xb77101['newValue']?_0x2f8336:void 0x0;}),_0x282dce['descriptionFactory']['registerDescriptionCallback'](_0x73ebb1=>{if('attribute'!=_0x73ebb1['type'])return;const {data:_0x117eda}=_0x73ebb1;if(!_0x117eda||'listItemId'!=_0x117eda['key'])return;const _0xa6983e=Te(_0x73ebb1);return'newValue'==_0xa6983e?{'type':'format','content':c(_0x13ea6e,'*Merge:*\x20list\x20item')}:'oldValue'==_0xa6983e?{'type':'format','content':c(_0x13ea6e,'*Split:*\x20list\x20item')}:_0x2f8336;}),_0x483be1['model']['document']['registerPostFixer'](_0x35e88b=>this['listItemIdFixer'](_0x35e88b)),_0x483be1['model']['document']['registerPostFixer'](_0x18be85=>this['noTrackChangesFixer'](_0x18be85)),_0x483be1['model']['document']['on']('change:data',(_0x5b7217,_0x3c9d34)=>{if(_0x3c9d34['isUndo']||!_0x3c9d34['isLocal'])return!0x1;this['assureChains']();},{'priority':'high'}),this['_supportLegacySuggestions']();}['listItemIdFixer'](_0x407c7c){if(_0x407c7c['batch']['isUndo']||!_0x407c7c['batch']['isLocal'])return!0x1;let _0x5551f7=!0x1;const _0x89a0e=this['editor']['plugins']['get']('TrackChangesEditing')['getSuggestions']({'skipNotAttached':!0x0})['filter'](_0xdc57cd=>_0xdc57cd['data']&&'listItemId'==_0xdc57cd['data']['key'])['filter'](_0x22abd7=>_0x22abd7['data']['newValue']&&_0x22abd7['data']['oldValue']);for(const _0x1d65e0 of _0x89a0e)Te(_0x1d65e0)||(_0x407c7c['removeMarker'](_0x1d65e0['getFirstMarker']()),_0x5551f7=!0x0);return _0x5551f7;}['noTrackChangesFixer'](_0x3bfea6){if(_0x3bfea6['batch']['isUndo']||!_0x3bfea6['batch']['isLocal'])return!0x1;const _0x4be855=this['editor']['plugins']['get']('TrackChangesEditing');if(_0x4be855['trackChangesCommand']['value'])return!0x1;let _0x216680=!0x1;const _0x4ebe43=['listType','listItemId','listIndent','listStyle','listStart','listReversed','todoListCheck','listMarker','listMarkerStyle'],_0xa03fe4=this['editor']['model']['document']['differ']['getChanges']()['filter'](_0x58883b=>'attribute'==_0x58883b['type'])['filter'](_0x4152fb=>_0x4ebe43['includes'](_0x4152fb['attributeKey']));if(0x0==_0xa03fe4['length'])return _0x216680;for(const _0x4c28a6 of _0xa03fe4){const _0x333a01=_0x4be855['_findSuggestions'](_0x4c28a6['range'],'attribute')['filter'](_0x5d9292=>!_0x5d9292['meta']['isNextTo'])['map'](_0x17d01e=>_0x17d01e['suggestion'])['filter'](_0x5f28e9=>{const _0x20b767=_0x4be855['_getAttributeKey'](_0x5f28e9);return _0x4ebe43['includes'](_0x20b767);});if(_0x333a01['length']){for(const _0x8965a9 of _0x333a01)_0x3bfea6['removeMarker'](_0x8965a9['getFirstMarker']());_0x216680=!0x0;}}return _0x216680;}['assureChains'](){const _0x3edc77=this['editor']['plugins']['get']('TrackChangesEditing'),_0x5b8c4b=['listType','listItemId','listIndent','listStyle','listStart','listReversed','todoListCheck','listMarker','listMarkerStyle'];let _0x55e1e9;const _0x1fa53a=new Set(this['editor']['model']['document']['differ']['getChangedMarkers']()['filter'](_0x5b40ad=>{if(_0x5b40ad['data']['oldRange']||!_0x5b40ad['data']['newRange'])return null;if(!_0x5b40ad['name']['startsWith']('suggestion:attribute:'))return null;const {id:_0x51d12b}=_0x3edc77['_splitMarkerName'](_0x5b40ad['name']);if(!_0x3edc77['hasSuggestion'](_0x51d12b))return null;const _0x3e317c=_0x3edc77['getSuggestion'](_0x51d12b);return _0x5b8c4b['includes'](_0x3e317c['data']['key']);})['map'](_0x4de01d=>{const {id:_0x2fc2c9}=_0x3edc77['_splitMarkerName'](_0x4de01d['name']),_0x5b1ea8=_0x3edc77['getSuggestion'](_0x2fc2c9);return _0x55e1e9=_0x5b1ea8['attributes']['groupId'],_0x5b1ea8['getFirstRange']()['start']['nodeAfter'];}));if(0x0==_0x1fa53a['size'])return;const _0x20cbec=_0x3edc77['getSuggestions']({'skipNotAttached':!0x0})['filter'](_0x59808e=>'attribute'==_0x59808e['type']&&_0x59808e['data']&&_0x5b8c4b['includes'](_0x59808e['data']['key'])&&_0x59808e['attributes']['groupId']!=_0x55e1e9)['map'](_0x5ffab6=>({'listItem':_0x5ffab6['getFirstRange']()['start']['nodeAfter'],'groupId':_0x5ffab6['attributes']['groupId']})),_0x2e5028=new Set();for(const {groupId:_0x7426d8,listItem:_0xbfb733}of _0x20cbec)_0x1fa53a['has'](_0xbfb733)&&_0x2e5028['add'](_0x7426d8);for(const _0x45b7ce of _0x3edc77['getSuggestions']())_0x2e5028['has'](_0x45b7ce['attributes']['groupId'])&&_0x45b7ce['setAttribute']('groupId',_0x55e1e9);}['_supportLegacySuggestions'](){const _0x5c8f17=this['editor'],_0x236969=_0x5c8f17['locale'],_0x1479a2=_0x5c8f17['plugins']['get']('TrackChangesEditing');this['_registerLegacyDescription'](),_0x1479a2['_suggestionFactory']['registerCustomCallback']('formatBlock','documentList','accept',function(_0x32664a,_0x45f5b0){const _0x2f869f=[];for(let _0x4ff406 of _0x32664a)_0x4ff406['start']['nodeAfter']===_0x4ff406['end']['parent']&&(_0x4ff406=_0x5c8f17['model']['createRange'](_0x5c8f17['model']['createPositionAt'](_0x4ff406['start']['nodeAfter'],0x0))),_0x2f869f['push'](_0x4ff406);_0x5c8f17['model']['change'](_0x3508b4=>{const _0x1c02ac=_0x5c8f17['model']['document']['selection'],_0x3fa0db=Array['from'](_0x1c02ac['getRanges']())['map'](_0xf5369b=>_0x13b424['fromRange'](_0xf5369b));_0x3508b4['setSelection'](_0x2f869f),_0x5c8f17['commands']['get'](_0x45f5b0['commandName'])['refresh'](),_0x45f5b0['commandParams']['push']({'forceDefaultExecution':!0x0}),_0x5c8f17['execute'](_0x45f5b0['commandName'],..._0x45f5b0['commandParams']),_0x3508b4['setSelection'](_0x3fa0db);for(const _0x26fdf3 of _0x3fa0db)_0x26fdf3['detach']();});}),_0x1479a2['descriptionFactory']['registerElementLabel'](function(_0x2e316c){const _0x437afc=!_0x5c8f17['model']['schema']['isObject'](_0x2e316c),_0x1fa207=_0x2e316c['previousSibling'],_0x3396df=_0x2e316c['nextSibling'],_0x49220f=_0x2e316c['getAttribute']('listItemId'),_0xcc7213=!_0x1fa207||_0x1fa207['getAttribute']('listItemId')!==_0x49220f,_0x5c12e7=!_0x3396df||_0x3396df['getAttribute']('listItemId')!==_0x49220f;return _0x437afc&&Boolean(_0x49220f)&&_0xcc7213&&_0x5c12e7;},_0x4bb7c5=>c(_0x236969,'ELEMENT_LIST_ITEM',_0x4bb7c5));}['_registerLegacyDescription'](){const _0x2d3360=this['editor'],_0x52abaa=_0x2d3360['locale'];function _0x16b633(_0x5f355e){const _0x441b24=_0x2d3360['commands']['get']('bulletedList')['value'],_0x5e1ffd=_0x2d3360['commands']['get']('numberedList')['value'];return'numberedList'===_0x5f355e?_0x441b24:_0x5e1ffd;}_0x2d3360['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](function(_0x3d8098){if('formatBlock'!=_0x3d8098['type'])return;const {data:_0x1ace4e}=_0x3d8098;if(!_0x1ace4e)return;let _0x55f55c,_0x1ebdb2,_0x58068e,_0x3e7ab9;switch(_0x1ace4e['commandName']){case'bulletedList':_0x58068e=_0x1ace4e['commandParams'][0x0]['forceValue'],_0x3e7ab9=_0x16b633(_0x1ace4e['commandName']),_0x55f55c=_0x58068e?'*Format:*\x20insert\x20into\x20%0':'*Format:*\x20remove\x20from\x20%0',!_0x3e7ab9&&_0x2d3360['config']['get']('list.multiBlock')||(_0x55f55c='*Change\x20to:*\x20%0'),_0x1ebdb2={'type':'format','content':c(_0x52abaa,_0x55f55c,c(_0x52abaa,'ELEMENT_BULLETED_LIST'))};break;case'numberedList':_0x58068e=_0x1ace4e['commandParams'][0x0]['forceValue'],_0x3e7ab9=_0x16b633(_0x1ace4e['commandName']),_0x55f55c=_0x58068e?'*Format:*\x20insert\x20into\x20%0':'*Format:*\x20remove\x20from\x20%0',!_0x3e7ab9&&_0x2d3360['config']['get']('list.multiBlock')||(_0x55f55c='*Change\x20to:*\x20%0'),_0x1ebdb2={'type':'format','content':c(_0x52abaa,_0x55f55c,c(_0x52abaa,'ELEMENT_NUMBERED_LIST'))};break;case'indentList':_0x55f55c='*Indent:*\x20%0',_0x1ebdb2={'type':'format','content':c(_0x52abaa,_0x55f55c,c(_0x52abaa,'ELEMENT_LIST_ITEM'))};break;case'outdentList':_0x55f55c=function(_0x4243d1){const _0x516c5c=_0x4243d1['getFirstRange']();let _0x217824=_0x516c5c['start']['nodeAfter'];for(;_0x217824&&_0x516c5c['containsItem'](_0x217824);){if(_0x217824['getAttribute']('listIndent')>0x0)return!0x1;_0x217824=_0x217824['nextSibling'];}return!0x0;}(_0x3d8098)?c(_0x52abaa,'*Format:*\x20remove\x20from\x20%0',c(_0x52abaa,function(_0x49d248){return'ELEMENT_'+_0x49d248['getFirstRange']()['start']['nodeAfter']['getAttribute']('listType')['toUpperCase']()+'_LIST';}(_0x3d8098))):c(_0x52abaa,'*Outdent:*\x20%0',c(_0x52abaa,'ELEMENT_LIST_ITEM')),_0x1ebdb2={'type':'format','content':_0x55f55c};break;case'mergeListItemBackward':case'mergeListItemForward':!0x1===_0x1ace4e['multipleBlocks']&&(_0x55f55c='*Merge:*\x20%0',_0x1ebdb2={'type':'deletion','content':c(_0x52abaa,_0x55f55c,c(_0x52abaa,'ELEMENT_LIST_ITEM'))});}return _0x1ebdb2;});}}function Te(_0x44a486){let _0x43659b=_0x44a486['getFirstRange']()['start']['nodeAfter']['previousSibling'];for(;_0x43659b;){const _0xb3bc09=_0x43659b['getAttribute']('listItemId');if(!_0xb3bc09)return!0x1;if(_0xb3bc09==_0x44a486['data']['newValue'])return'newValue';if(_0xb3bc09==_0x44a486['data']['oldValue'])return'oldValue';_0x43659b=_0x43659b['previousSibling'];}return!0x1;}class Se extends _0x16d8d0{['afterInit'](){if(!this['editor']['plugins']['has']('ListPropertiesEditing'))return;const _0x3f9e62=this['editor']['config']['get']('list.properties'),_0x311a1a=this['editor']['plugins']['get']('TrackChangesEditing');_0x3f9e62['styles']&&(_0x311a1a['enableDefaultAttributesIntegration']('listStyle'),_0x311a1a['registerBlockAttribute']('listStyle')),_0x3f9e62['reversed']&&(_0x311a1a['enableDefaultAttributesIntegration']('listReversed'),_0x311a1a['registerBlockAttribute']('listReversed')),_0x3f9e62['startIndex']&&(_0x311a1a['enableDefaultAttributesIntegration']('listStart'),_0x311a1a['registerBlockAttribute']('listStart'));const _0x17837a={'type':'format','content':''};_0x311a1a['descriptionFactory']['registerDescriptionCallback'](this['handleDescriptions']['bind'](this));const _0x246bb2=this['editor']['locale'];_0x311a1a['descriptionFactory']['registerAttributeLabel']('listReversed',c(_0x246bb2,'FORMAT_LIST_REVERSED')),_0x311a1a['descriptionFactory']['registerDescriptionCallback'](_0x33319a=>{const {data:_0x4ffa1b}=_0x33319a;if(_0x4ffa1b&&'listReversed'==_0x4ffa1b['key'])return null==_0x4ffa1b['newValue']||0x0==_0x4ffa1b['newValue']&&null==_0x4ffa1b['oldValue']?_0x17837a:void 0x0;}),_0x311a1a['descriptionFactory']['registerAttributeLabel']('listStart',c(_0x246bb2,'FORMAT_LIST_START')),_0x311a1a['descriptionFactory']['registerDescriptionCallback'](_0x518bdc=>{const {data:_0x40cb3f}=_0x518bdc;if(_0x40cb3f&&'listStart'==_0x40cb3f['key'])return null==_0x40cb3f['newValue']||0x1==_0x40cb3f['newValue']&&null==_0x40cb3f['oldValue']?_0x17837a:void 0x0;}),this['editor']['model']['document']['registerPostFixer'](_0x42b167=>{if(_0x42b167['batch']['isUndo'])return!0x1;let _0x10aa75=!0x1;const _0x347479=_0x311a1a['getSuggestions']({'skipNotAttached':!0x0})['filter'](_0x4a2cc9=>{const _0x3e4e49=_0x311a1a['_getAttributeKey'](_0x4a2cc9);return'listStart'==_0x3e4e49||'listReversed'==_0x3e4e49;});for(const _0x2f8a87 of _0x347479){const _0x2a2722=_0x2f8a87['getFirstRange']()['start']['nodeAfter']['getAttribute']('listType');if('numbered'==_0x2a2722||'customNumbered'==_0x2a2722)continue;_0x311a1a['_findSuggestions'](_0x2f8a87['getFirstRange'](),'attribute')['find'](_0x2329a0=>'listType'==_0x311a1a['_getAttributeKey'](_0x2329a0['suggestion']))||(_0x42b167['removeMarker'](_0x2f8a87['getFirstMarker']()),_0x10aa75=!0x0);}return _0x10aa75;}),this['_registerLegacyDescription']();}['handleDescriptions'](_0x2b1462){const _0x5e5e85=this['editor']['locale'],{data:_0x4b6ce2}=_0x2b1462,_0x402e93={'type':'format','content':''};if(!_0x4b6ce2||'listStyle'!=_0x4b6ce2['key'])return;if(!_0x4b6ce2['oldValue'])return'default'==_0x4b6ce2['newValue']?_0x402e93:{'type':'format','content':''+c(_0x5e5e85,'*Set\x20format:*\x20%0',c(_0x5e5e85,this['_getTranslationKeyForListStyle'](_0x4b6ce2['newValue'])))};if(!_0x4b6ce2['newValue']){if('default'==_0x4b6ce2['oldValue'])return _0x402e93;let _0x119dc5=_0x2b1462['head'];for(;_0x119dc5;){if(_0x119dc5['data']&&'listType'==_0x119dc5['data']['key']&&_0x119dc5['data']['newValue'])return _0x402e93;_0x119dc5=_0x119dc5['next'];}return{'type':'format','content':''+c(_0x5e5e85,'*Remove\x20format:*\x20%0',c(_0x5e5e85,this['_getTranslationKeyForListStyle'](_0x4b6ce2['oldValue'])))};}if('default'!=_0x4b6ce2['newValue'])return{'type':'format','content':''+c(_0x5e5e85,'*Set\x20format:*\x20%0',c(_0x5e5e85,this['_getTranslationKeyForListStyle'](_0x4b6ce2['newValue'])))};let _0x41b284=_0x2b1462['head'];for(;_0x41b284;){if(_0x41b284['data']&&'listType'==_0x41b284['data']['key']&&_0x41b284['data']['newValue']&&_0x41b284['data']['oldValue'])return _0x402e93;_0x41b284=_0x41b284['next'];}return{'type':'format','content':c(_0x5e5e85,'*Set\x20format:*\x20%0',c(_0x5e5e85,'ELEMENT_'+_0x2b1462['getFirstRange']()['start']['nodeAfter']['getAttribute']('listType')['toUpperCase']()+'_LIST_DEFAULT'))};}['_registerLegacyDescription'](){const _0x3b61eb=this['editor'],_0x100d88=_0x3b61eb['locale'];_0x3b61eb['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x1e01be=>{if('formatBlock'!=_0x1e01be['type'])return;const {data:_0x44edb2}=_0x1e01be;if(!_0x44edb2)return;let _0x4fe15f,_0x25287e;switch(_0x44edb2['commandName']){case'listStyle':_0x4fe15f='*Change\x20to:*\x20%0',_0x25287e={'type':'format','content':c(_0x100d88,_0x4fe15f,c(_0x100d88,this['_getTranslationKeyForListStyle'](_0x44edb2['commandParams'][0x0]['type'])))};break;case'listReversed':_0x4fe15f=_0x44edb2['commandParams'][0x0]['reversed']?'*Format:*\x20set\x20order\x20to\x20reversed':'*Format:*\x20set\x20order\x20to\x20regular',_0x25287e={'type':'format','content':c(_0x100d88,_0x4fe15f)};break;case'listStart':_0x4fe15f='*Format:*\x20set\x20start\x20index\x20to\x20%0',_0x25287e={'type':'format','content':c(_0x100d88,_0x4fe15f,_0x44edb2['commandParams'][0x0]['startIndex'])};}return _0x25287e;});}['_getTranslationKeyForListStyle'](_0x3accd1){return'ELEMENT_'+function(_0x2a5033){if(_e['includes'](_0x2a5033))return'bulleted';if(Re['includes'](_0x2a5033))return'numbered';return null;}(_0x3accd1)['toUpperCase']()+'_LIST_'+_0x3accd1['toUpperCase']()['replace'](/-/g,'_');}}const _e=['disc','circle','square'],Re=['decimal','decimal-leading-zero','lower-roman','upper-roman','lower-latin','upper-latin'];class X extends _0x16d8d0{['afterInit'](){const _0x4a7cd6=this['editor'];_0x4a7cd6['commands']['get']('emoji')&&_0x4a7cd6['plugins']['get']('TrackChangesEditing')['enableCommand']('emoji');}}class Y extends _0x16d8d0{static get['requires'](){return[_0x5a1179];}['init'](){const _0x1a8746=this['editor'],_0x414b09=_0x1a8746['plugins']['get']('TrackChangesEditing'),_0x4dc944=_0x1a8746['commands']['get']('enter');_0x414b09['enableCommand']('enter',()=>{_0x1a8746['model']['change'](_0x397a63=>{const _0x449685=_0x1a8746['model']['document']['selection'],_0x557176=_0x449685['getFirstPosition'](),_0x3cd535=_0x13b424['fromRange'](_0x449685['getFirstRange']());if(_0x4dc944['enterBlock'](_0x397a63)){const _0x23b611=_0x1a8746['model']['createPositionAt'](_0x557176['parent']['nextSibling'],0x0),_0x4b8db3=_0x397a63['createRange'](_0x557176,_0x23b611);_0x414b09['markInsertion'](_0x4b8db3);}else _0x397a63['setSelection'](_0x397a63['createRange'](_0x3cd535['end']));_0x3cd535['detach'](),_0x4dc944['fire']('afterExecute',{'writer':_0x397a63});});}),_0x1a8746['editing']['downcastDispatcher']['on']('addMarker:suggestion:insertion',Fe(_0x1a8746,'split'),{'priority':'high'}),_0x1a8746['editing']['downcastDispatcher']['on']('removeMarker:suggestion:insertion',(_0xeb2677,_0x11e5ff,_0x3bbc24)=>{const _0x59ac2b=_0x3bbc24['mapper']['markerNameToElements'](_0x11e5ff['markerName']);if(_0x59ac2b){for(const _0x1eb13e of _0x59ac2b)_0x1eb13e['hasClass']('ck-suggestion-marker-split')&&(_0x3bbc24['mapper']['unbindElementFromMarkerName'](_0x1eb13e,_0x11e5ff['markerName']),_0x3bbc24['writer']['remove'](_0x1eb13e));}},{'priority':'high'}),_0x1a8746['data']['downcastDispatcher']['on']('addMarker:suggestion:insertion',(_0x5de947,_0xbcb4b7,_0x1cd5ad)=>{_0x1cd5ad['options']['showSuggestionHighlights']&&Fe(_0x1a8746,'split',{'showActiveMarker':!0x1})['bind'](this)(_0x5de947,_0xbcb4b7,_0x1cd5ad);},{'priority':'high'});}}class Z extends _0x16d8d0{['afterInit'](){if(!this['editor']['plugins']['has']('FindAndReplaceEditing'))return;const _0x30b062=this['editor']['plugins']['get']('TrackChangesEditing');_0x30b062['enableCommand']('find',this['handleFindCommand']['bind'](this)),_0x30b062['enableCommand']('findNext'),_0x30b062['enableCommand']('findPrevious'),_0x30b062['enableCommand']('replace'),_0x30b062['enableCommand']('replaceAll');}['handleFindCommand'](_0x54e4f4,_0x21536f,_0x799566={}){const _0x40efe3=this['editor']['plugins']['get']('FindAndReplaceUtils');return _0x54e4f4(_0x2397ac=>{let _0x209753=('string'==typeof _0x21536f?_0x40efe3['findByTextCallback'](_0x21536f,_0x799566):_0x21536f)(_0x2397ac);Array['isArray'](_0x209753)&&(_0x209753={'results':_0x209753,'searchText':'string'==typeof _0x21536f?_0x21536f:''});const _0x11bb09=_0x209753['results']['filter'](_0x474009=>!0x1===this['_isInDeletionRange'](_0x474009,_0x2397ac['item']));return{..._0x209753,'results':_0x11bb09};},_0x799566);}['_isInDeletionRange'](_0x492e45,_0x292dd1){const _0x4c37a5=this['editor']['model']['createRange'](this['editor']['model']['createPositionAt'](_0x292dd1,_0x492e45['start']),this['editor']['model']['createPositionAt'](_0x292dd1,_0x492e45['end']));for(const _0x22b62d of this['editor']['model']['markers']['getMarkersGroup']('suggestion:deletion'))if(null!==_0x4c37a5['getIntersection'](_0x22b62d['getRange']()))return!0x0;return!0x1;}}const ro=[{'pluginName':'FontSizeEditing','commandName':'fontSize'},{'pluginName':'FontFamilyEditing','commandName':'fontFamily'},{'pluginName':'FontColorEditing','commandName':'fontColor'},{'pluginName':'FontBackgroundColorEditing','commandName':'fontBackgroundColor'}];class tt extends _0x16d8d0{['afterInit'](){const _0x2379e2=this['editor']['locale'],_0x38b623=this['editor']['plugins']['get']('TrackChangesEditing');for(const {pluginName:_0x315253,commandName:_0x356f69}of ro)this['editor']['plugins']['has'](_0x315253)&&(_0x38b623['enableDefaultAttributesIntegration'](_0x356f69),_0x38b623['registerInlineAttribute'](_0x356f69));_0x38b623['descriptionFactory']['registerAttributeLabel']('fontSize',c(_0x2379e2,'FORMAT_FONT_SIZE')),_0x38b623['descriptionFactory']['registerAttributeLabel']('fontFamily',c(_0x2379e2,'FORMAT_FONT_FAMILY')),_0x38b623['descriptionFactory']['registerAttributeLabel']('fontColor',c(_0x2379e2,'FORMAT_FONT_COLOR')),_0x38b623['descriptionFactory']['registerAttributeLabel']('fontBackgroundColor',c(_0x2379e2,'FORMAT_FONT_BACKGROUND')),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x2ee224=this['editor'],_0x32681b=_0x2ee224['locale'];_0x2ee224['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x3b17c2=>{const _0x466c06=_0x32681b['t'];if('formatInline'!=_0x3b17c2['type'])return;const {data:_0x5e4a31}=_0x3b17c2;if(null!=_0x5e4a31){if('fontSize'==_0x5e4a31['commandName']){const _0x54da18=_0x5e4a31['commandParams'][0x0]['value'];if(_0x54da18){const _0x334008=_0x466c06(this['editor']['plugins']['get']('FontSize')['normalizeSizeOptions'](this['editor']['config']['get']('fontSize.options'))['find'](_0x55559e=>_0x55559e['model']==_0x54da18)['title'])['toLowerCase']();return{'type':'format','content':c(_0x32681b,'*Set\x20font\x20size:*\x20%0',_0x334008)};}return{'type':'format','content':c(_0x32681b,'*Reset\x20font\x20size*')};}if('fontFamily'==_0x5e4a31['commandName']){const _0x2bbacf=_0x5e4a31['commandParams'][0x0]['value'];return _0x2bbacf?{'type':'format','content':c(_0x32681b,'*Set\x20font\x20family:*\x20%0',_0x2bbacf)}:{'type':'format','content':c(_0x32681b,'*Reset\x20font\x20family*')};}if('fontColor'==_0x5e4a31['commandName']){const _0x36bbdf=_0x5e4a31['commandParams'][0x0]['value'];if(_0x36bbdf){const _0x4f3cdc=_0x3e4403(this['editor']['config']['get']('fontColor.colors'))['find'](_0x2b8a34=>_0x2b8a34['model']==_0x36bbdf);let _0x4bda7f=_0x36bbdf,_0x58a6ac='';return _0x4f3cdc&&(_0x4bda7f=_0x4f3cdc['label'],_0x58a6ac=_0x466c06(_0x4bda7f)['toLowerCase']()),{'type':'format','content':c(_0x32681b,'*Set\x20font\x20color:*\x20%0',_0x58a6ac)['trim'](),'color':{'value':_0x36bbdf,'title':_0x58a6ac||_0x4bda7f}};}return{'type':'format','content':c(_0x32681b,'*Reset\x20font\x20color*')};}if('fontBackgroundColor'==_0x5e4a31['commandName']){const _0x21d8bf=_0x5e4a31['commandParams'][0x0]['value'];if(_0x21d8bf){const _0x3f444b=_0x3e4403(this['editor']['config']['get']('fontBackgroundColor.colors'))['find'](_0x2a2bf8=>_0x2a2bf8['model']==_0x21d8bf);let _0x58c09c=_0x21d8bf,_0x5e123c='';return _0x3f444b&&(_0x58c09c=_0x3f444b['label'],_0x5e123c=_0x466c06(_0x58c09c)['toLowerCase']()),{'type':'format','content':c(_0x32681b,'*Set\x20font\x20background\x20color:*\x20%0',_0x5e123c)['trim'](),'color':{'value':_0x21d8bf,'title':_0x5e123c||_0x58c09c}};}return{'type':'format','content':c(_0x32681b,'*Reset\x20font\x20background\x20color*')};}}});}}class it extends _0x16d8d0{['afterInit'](){const _0x2c77ba=this['editor'],_0x3eee0b=_0x2c77ba['plugins']['get']('TrackChangesEditing'),_0x31ee81=_0x2c77ba['commands']['get']('copyFormat'),_0x42a1a0=_0x2c77ba['commands']['get']('pasteFormat');_0x31ee81&&_0x42a1a0&&(_0x3eee0b['enableDefaultAttributesIntegration']('pasteFormat'),_0x3eee0b['enableCommand']('copyFormat'),this['_registerLegacyDescription']());}['_registerLegacyDescription'](){const _0x512cf2=this['editor'],_0x5aeb46=_0x512cf2['locale'];_0x512cf2['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x58d725=>{if('formatBlock'!=_0x58d725['type']&&'formatInline'!=_0x58d725['type'])return;const {data:_0x4e34df}=_0x58d725;if(_0x4e34df&&'pasteFormat'===_0x4e34df['commandName']){const _0x39311e=[],_0x5e714c=_0x4e34df['commandParams'][0x0];for(const [_0x1b9c36,_0x5b0ab7]of Object['entries'](_0x5e714c))_0x39311e['push'](so(_0x512cf2,_0x1b9c36,_0x5b0ab7));return _0x39311e['length']?{'type':'format','content':c(_0x5aeb46,'*Set\x20format\x20to:*\x20%0',_0x39311e['join'](',\x20'))}:{'type':'format','content':c(_0x5aeb46,'*Remove\x20all\x20formatting*')};}});}}function so(_0x4c7c08,_0x14be28,_0x3d00ad){const _0x402e24=_0x4c7c08['locale']['t'],_0x346aad=_0x14be28['split'](/(?=[A-Z])/)['join']('\x20'),_0x3f79ef=_0x402e24(_0x346aad['charAt'](0x0)['toUpperCase']()+_0x346aad['slice'](0x1))['toLowerCase']();if('boolean'==typeof _0x3d00ad)return _0x3f79ef;if('fontColor'===_0x14be28||'fontBackgroundColor'===_0x14be28){const _0x5c16f2=_0x3e4403(_0x4c7c08['config']['get']('fontColor.colors'))['find'](_0x19d7a4=>_0x19d7a4['model']==_0x3d00ad);return _0x3f79ef+'\x20('+(_0x5c16f2?_0x402e24(_0x5c16f2['label'])['toLowerCase']():_0x3d00ad)+')';}if('fontSize'===_0x14be28&&isNaN(parseFloat(_0x3d00ad))){const _0x165046=_0x4c7c08['plugins']['get']('FontSize')['normalizeSizeOptions'](_0x4c7c08['config']['get']('fontSize.options'))['find'](_0x57d710=>_0x57d710['model']==_0x3d00ad);return _0x3f79ef+'\x20('+(_0x165046?_0x402e24(_0x165046['title'])['toLowerCase']():_0x3d00ad)+')';}return _0x3f79ef+'\x20('+_0x3d00ad+')';}class et extends _0x16d8d0{['_headingOptions'];['afterInit'](){const _0x1995e7=this['editor'];if(!_0x1995e7['plugins']['has']('HeadingEditing'))return;this['_headingOptions']=_0x1995e7['config']['get']('heading.options');const _0x164bd0=_0x1995e7['locale'],_0x5d2ad0=_0x1995e7['plugins']['get']('TrackChangesEditing');_0x5d2ad0['enableDefaultAttributesIntegration']('heading');for(const _0xc11d64 of this['_headingOptions'])'paragraph'!=_0xc11d64['model']&&_0x5d2ad0['descriptionFactory']['registerElementLabel'](_0xc11d64['model'],_0x2b8334=>{const _0x123eae=this['_getHeadingLevel'](_0xc11d64['model']);return null!==_0x123eae?_0x3c2df4(_0x2b8334,_0x123eae):_0x5955c4(_0x2b8334,_0xc11d64['title']);});function _0x3c2df4(_0x111600,_0x499db4){return c(_0x164bd0,'ELEMENT_HEADING',[_0x111600,_0x499db4]);}function _0x5955c4(_0x48fe52,_0x5e24a9){return c(_0x164bd0,'ELEMENT_HEADING_CUSTOM',[_0x48fe52,_0x5e24a9]);}this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x18f240=this['editor'],_0x2e35fc=_0x18f240['locale'];function _0x3d2e07(_0xc90a10,_0x2ea78c){return c(_0x2e35fc,'ELEMENT_HEADING_CUSTOM',[_0xc90a10,_0x2ea78c]);}_0x18f240['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x2c805e=>{if('formatBlock'!=_0x2c805e['type'])return;const {data:_0x5e9b92}=_0x2c805e;if(_0x5e9b92&&'heading'==_0x5e9b92['commandName']){const _0xfdb014=_0x5e9b92['commandParams'][0x0]['value'],_0x4d3a46=this['_getHeadingLevel'](_0xfdb014);if(null!==_0x4d3a46)return{'type':'format','content':c(_0x2e35fc,'*Change\x20to:*\x20%0',(_0x41ae78=0x1,_0x45d3a7=_0x4d3a46,c(_0x2e35fc,'ELEMENT_HEADING',[_0x41ae78,_0x45d3a7])))};const _0x54b185=this['_headingOptions']['find'](_0x39a6a7=>_0x39a6a7['model']===_0xfdb014)['title'];return{'type':'format','content':c(_0x2e35fc,'*Change\x20to:*\x20%0',_0x3d2e07(0x1,_0x54b185))};}var _0x41ae78,_0x45d3a7;});}['_getHeadingLevel'](_0x55c56c){const _0x4ecfaf=_0x55c56c['match'](/^heading(\d+)/);if(_0x4ecfaf)return _0x4ecfaf[0x1];const _0xc4882=this['_headingOptions']?.['find'](_0x3fd2cd=>_0x3fd2cd['model']==_0x55c56c);if(_0xc4882&&_0xc4882['view']){const _0x18944d=_0xc4882['view'],_0x12a94c=(_0x18944d['name']??_0x18944d)['match'](/^h(\d+)/);if(_0x12a94c)return _0x12a94c[0x1];}return null;}}class nt extends _0x16d8d0{['afterInit'](){const _0x312315=this['editor'];if(!_0x312315['plugins']['has']('HighlightEditing'))return;const _0x287d20=_0x312315['plugins']['get']('TrackChangesEditing'),_0x2341c3=_0x312315['locale'];_0x287d20['enableDefaultAttributesIntegration']('highlight'),_0x287d20['registerInlineAttribute']('highlight'),_0x287d20['descriptionFactory']['registerAttributeLabel']('highlight',c(_0x2341c3,'FORMAT_HIGHLIGHT')),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x2b41df=this['editor'],_0x4fe050=_0x2b41df['locale'];_0x2b41df['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x56af4c=>{if('formatInline'!=_0x56af4c['type'])return;const {data:_0x5ddb52}=_0x56af4c;if(_0x5ddb52&&'highlight'==_0x5ddb52['commandName']){const _0x28023c=_0x4fe050['t'],_0x2d4bbc=_0x5ddb52['commandParams'][0x0]['value'];if(_0x2d4bbc){const _0x1c719a=_0x2b41df['config']['get']('highlight.options')['find'](_0x4c570d=>_0x4c570d['model']==_0x2d4bbc),_0x235f0a=_0x28023c(_0x1c719a['title'])['toLowerCase']();return{'type':'format','content':c(_0x4fe050,'*Set\x20highlight:*\x20%0',_0x235f0a),'color':{'value':_0x1c719a['color'],'title':_0x1c719a['title']}};}return{'type':'format','content':c(_0x4fe050,'*Remove\x20highlight*',c(_0x4fe050,'FORMAT_HIGHLIGHT'))};}});}}class st extends _0x16d8d0{['afterInit'](){const _0x5e04cb=this['editor'];if(!_0x5e04cb['plugins']['has']('HorizontalLineEditing'))return;_0x5e04cb['plugins']['get']('TrackChangesEditing')['enableCommand']('horizontalLine');const _0x192abd=_0x5e04cb['plugins']['get']('TrackChangesEditing'),_0x499a8e=_0x5e04cb['locale'];_0x192abd['descriptionFactory']['registerElementLabel']('horizontalLine',_0x388471=>c(_0x499a8e,'ELEMENT_HORIZONTAL_LINE',_0x388471)),_0x5e04cb['conversion']['for']('dataDowncast')['elementToStructure']({'model':'horizontalLine','view':(_0x21b40b,{writer:_0x557122,options:_0x25efd9})=>{if(!_0x25efd9['showSuggestionHighlights'])return null;const _0x3a5f8b=_0x557122['createContainerElement']('div'),_0x1eb52a=_0x557122['createEmptyElement']('hr');return _0x557122['addClass']('ck-horizontal-line',_0x3a5f8b),_0x557122['insert'](_0x557122['createPositionAt'](_0x3a5f8b,0x0),_0x1eb52a),_0x3a5f8b;},'converterPriority':'high'});}}class ot extends _0x16d8d0{['afterInit'](){const _0x3d50f0=this['editor'];if(!_0x3d50f0['plugins']['has']('HtmlEmbed'))return;const _0x502e20=_0x3d50f0['plugins']['get']('TrackChangesEditing'),_0x2766be=_0x3d50f0['locale'];_0x502e20['descriptionFactory']['registerElementLabel']('rawHtml',_0x25e017=>c(_0x2766be,'ELEMENT_HTML_EMBED',_0x25e017)),_0x502e20['enableDefaultAttributesIntegration']('htmlEmbed'),_0x502e20['registerBlockAttribute']('value'),_0x502e20['descriptionFactory']['registerDescriptionCallback'](_0x51fc3e=>{if('attribute'!=_0x51fc3e['type'])return;const {data:_0x2eca28}=_0x51fc3e;if(_0x2eca28&&'value'==_0x2eca28['key']&&_0x51fc3e['getFirstRange']()['start']['nodeAfter']['is']('element','rawHtml')){const _0x221c83=c(_0x2766be,'ELEMENT_HTML_EMBED');return{'type':'format','content':c(_0x2766be,'*Change\x20%0\x20content*',_0x221c83)};}}),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x2825c1=this['editor'],_0x147423=_0x2825c1['locale'];_0x2825c1['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x4633de=>{if('formatBlock'!=_0x4633de['type'])return;const {data:_0x5a695c}=_0x4633de;if(_0x5a695c&&'htmlEmbed'==_0x5a695c['commandName']){const _0x5070b5=c(_0x147423,'ELEMENT_HTML_EMBED');return{'type':'format','content':c(_0x147423,'*Change\x20%0\x20content*',_0x5070b5)};}});}}class rt extends _0x16d8d0{['afterInit'](){const _0x45cf3c=this['editor'];if(!_0x45cf3c['plugins']['has']('ImageEditing'))return;const _0x3cdbc2=_0x45cf3c['plugins']['get']('TrackChangesEditing'),_0x2e1943=_0x45cf3c['plugins']['get']('ImageUtils'),_0x68a75f=_0x45cf3c['locale'];_0x3cdbc2['enableCommand']('insertImage'),_0x3cdbc2['descriptionFactory']['registerElementLabel']('imageBlock',_0x5f07ff=>c(_0x68a75f,'ELEMENT_IMAGE',_0x5f07ff)),_0x3cdbc2['descriptionFactory']['registerElementLabel']('imageInline',_0x29160f=>c(_0x68a75f,'ELEMENT_INLINE_IMAGE',_0x29160f)),_0x3cdbc2['descriptionFactory']['registerElementLabel']('caption',()=>c(_0x68a75f,'ELEMENT_CAPTION')),_0x45cf3c['plugins']['has']('ImageUploadEditing')&&_0x3cdbc2['enableCommand']('uploadImage'),_0x45cf3c['plugins']['has']('ImageBlockEditing')&&_0x45cf3c['plugins']['has']('ImageInlineEditing')&&(_0x3cdbc2['enableCommand']('imageTypeInline',(_0xf08aa8,_0x53388c)=>{const _0x11b771=_0x2e1943['getClosestSelectedImageElement'](_0x45cf3c['model']['document']['selection']);_0x45cf3c['model']['change'](()=>{_0x3cdbc2['markBlockFormat'](_0x11b771,{'commandName':'imageTypeInline','commandParams':[_0x53388c]},[],'convertBlockImageToInline');});}),_0x3cdbc2['enableCommand']('imageTypeBlock',(_0x1185aa,_0x4d7ee4)=>{_0x45cf3c['model']['change'](_0x38680c=>{let _0x21a424=_0x2e1943['getClosestSelectedImageElement'](_0x45cf3c['model']['document']['selection']),_0x4b4943=_0x38680c['createRangeOn'](_0x21a424);const _0x86a1b=_0x20922d['fromPosition'](_0x4b4943['start'],'toPrevious'),_0x59887e=_0x20922d['fromPosition'](_0x4b4943['end'],'toNext');_0x3cdbc2['forceDefaultExecution'](()=>_0x1185aa(_0x4d7ee4)),_0x21a424=_0x2e1943['getClosestSelectedImageElement'](_0x45cf3c['model']['document']['selection']),_0x4b4943=_0x38680c['createRangeOn'](_0x21a424);const _0x49fd70=_0x38680c['createRange'](_0x86a1b,_0x59887e);_0x86a1b['detach'](),_0x59887e['detach'](),_0x3cdbc2['markBlockFormat'](_0x21a424,{'commandName':'imageTypeInline','commandParams':[_0x4d7ee4]},[],'convertInlineImageToBlock'),_0x49fd70['start']['isBefore'](_0x4b4943['start'])&&_0x3cdbc2['markInsertion'](_0x38680c['createRange'](_0x49fd70['start'],_0x4b4943['start']),'convertInlineImageToBlock'),_0x4b4943['end']['isBefore'](_0x49fd70['end'])&&_0x3cdbc2['markInsertion'](_0x38680c['createRange'](_0x4b4943['end'],_0x49fd70['end']),'convertInlineImageToBlock');});}),_0x3cdbc2['_suggestionFactory']['registerCustomCallback']('formatBlock','convertInlineImageToBlock','join',()=>!0x1),_0x3cdbc2['_suggestionFactory']['registerCustomCallback']('formatBlock','convertInlineImageToBlock','accept',()=>!0x1),_0x3cdbc2['_suggestionFactory']['registerCustomCallback']('formatBlock','convertInlineImageToBlock','discard',_0x3cdbc2['_suggestionFactory']['getSuggestionCallback']('formatBlock','','accept')),_0x3cdbc2['_suggestionFactory']['registerCustomCallback']('insertion','convertInlineImageToBlock','join',()=>!0x1),_0x3cdbc2['_suggestionFactory']['registerCustomCallback']('insertion','convertInlineImageToBlock','discard',([_0x27dc84])=>{const _0x5be8d0=_0x3cdbc2['_suggestionFactory']['getSuggestionCallback']('insertion','','discard');let _0x4d3978=_0x27dc84['start'],_0x33c07a=_0x27dc84['end'];const _0x43d57f=_0x45cf3c['model']['schema']['getNearestSelectionRange'](_0x4d3978,'backward'),_0x16cb8b=_0x45cf3c['model']['schema']['getNearestSelectionRange'](_0x33c07a,'forward');_0x43d57f['isCollapsed']&&(_0x4d3978=_0x43d57f['start']),_0x16cb8b['isCollapsed']&&(_0x33c07a=_0x16cb8b['end']),_0x5be8d0([_0x45cf3c['model']['createRange'](_0x4d3978,_0x33c07a)]);}),_0x3cdbc2['_suggestionFactory']['registerCustomCallback']('formatBlock','convertInlineImageToBlock','chain',_0x2e4c96),_0x3cdbc2['_suggestionFactory']['registerCustomCallback']('insertion','convertInlineImageToBlock','chain',_0x2e4c96)),_0x45cf3c['plugins']['has']('ImageCaptionEditing')&&(_0x3cdbc2['enableCommand']('toggleImageCaption',(_0xc20ecc,_0x14259a)=>{const _0x34611a=_0x45cf3c['plugins']['get']('ImageCaptionUtils');let _0x49c840=_0x2e1943['getClosestSelectedImageElement'](_0x45cf3c['model']['document']['selection']),_0x18765b=_0x34611a['getCaptionFromImageModelElement'](_0x49c840);_0x45cf3c['model']['change'](()=>{if(_0x18765b)return void _0x3cdbc2['markDeletion'](_0x45cf3c['model']['createRangeOn'](_0x18765b));const _0x26defc=_0x2e1943['isBlockImage'](_0x49c840);_0xc20ecc(_0x14259a),_0x49c840=_0x2e1943['getClosestSelectedImageElement'](_0x45cf3c['model']['document']['selection']),_0x18765b=_0x34611a['getCaptionFromImageModelElement'](_0x49c840),_0x3cdbc2['markInsertion'](_0x45cf3c['model']['createRangeOn'](_0x18765b),_0x26defc?null:'imageCaption');});}),_0x3cdbc2['_suggestionFactory']['registerCustomCallback']('insertion','imageCaption','chain',_0x2e4c96));const _0x46a10b=[{'type':'formatBlock','subType':'imageStylePreApply'},{'type':'insertion','subType':'imageCaption'},{'type':'formatBlock','subType':'convertInlineImageToBlock'},{'type':'insertion','subType':'convertInlineImageToBlock'}];function _0x526fba(_0xa5f7fa,_0x37f632){const _0x2914e5=_0x46a10b['findIndex'](({type:_0x141f7b,subType:_0x4bb80e})=>_0xa5f7fa['type']==_0x141f7b&&_0xa5f7fa['subType']==_0x4bb80e),_0x7470eb=_0x46a10b['findIndex'](({type:_0x4acd55,subType:_0xe9cc3a})=>_0x37f632['type']==_0x4acd55&&_0x37f632['subType']==_0xe9cc3a);if(_0x2914e5<0x0||_0x7470eb<0x0)return!0x1;const _0x3b5c03=_0xa5f7fa['getFirstRange'](),_0x5170d1=_0x37f632['getFirstRange']();if((0x0==_0x2914e5||0x1==_0x2914e5)&&0x2==_0x7470eb&&_0x3b5c03['isIntersecting'](_0x5170d1))return!0x0;if(0x2==_0x2914e5&&0x3==_0x7470eb){const _0x4b3f89=_0x3cdbc2['_findSuggestions'](_0x3b5c03,'insertion')['filter'](({suggestion:_0x667532,meta:_0x1ed841})=>_0x1ed841['isOwn']&&'convertInlineImageToBlock'==_0x667532['subType']);if(_0x4b3f89['length']>0x1&&_0x5170d1['end']['isEqual'](_0x3b5c03['start']))return!0x0;if(0x1==_0x4b3f89['length']&&(_0x3b5c03['start']['isEqual'](_0x5170d1['end'])||_0x3b5c03['end']['isEqual'](_0x5170d1['start'])))return!0x0;}if(0x3==_0x2914e5&&0x3==_0x7470eb&&_0x3b5c03['start']['isBefore'](_0x5170d1['start'])){const _0x4044b6=_0x3b5c03['end']['nodeAfter'],_0x31fbf2=_0x5170d1['start']['nodeBefore'];return _0x2e1943['isBlockImage'](_0x4044b6)&&_0x4044b6===_0x31fbf2;}return!0x1;}function _0x2e4c96(_0x3c4187,_0x5decac){return _0x526fba(_0x3c4187,_0x5decac)?[_0x3c4187,_0x5decac]:_0x526fba(_0x5decac,_0x3c4187)?[_0x5decac,_0x3c4187]:null;}_0x45cf3c['plugins']['has']('ImageResize')&&(_0x3cdbc2['enableDefaultAttributesIntegration']('resizeImage'),_0x3cdbc2['registerBlockAttribute']('resizedWidth'),_0x3cdbc2['descriptionFactory']['registerAttributeLabel']('resizedWidth',c(_0x68a75f,'FORMAT_IMAGE_SIZE'))),_0x45cf3c['plugins']['has']('ImageTextAlternativeEditing')&&(_0x3cdbc2['enableDefaultAttributesIntegration']('imageTextAlternative'),_0x3cdbc2['registerBlockAttribute']('alt')),_0x45cf3c['plugins']['has']('PictureEditing')&&(_0x3cdbc2['registerBlockAttribute']('sources'),_0x3cdbc2['descriptionFactory']['registerDescriptionCallback'](_0x20b15a=>{if('attribute'!=_0x20b15a['type'])return;const {data:_0x26ae2b}=_0x20b15a;return _0x26ae2b&&'sources'==_0x26ae2b['key']?{'type':'format','content':''}:void 0x0;})),_0x45cf3c['plugins']['has']('ImageSizeAttributes')&&(_0x3cdbc2['registerBlockAttribute']('width'),_0x3cdbc2['registerBlockAttribute']('height'),_0x3cdbc2['descriptionFactory']['registerDescriptionCallback'](_0x3e3d79=>{if('attribute'!=_0x3e3d79['type'])return;const {data:_0x174724}=_0x3e3d79;return!_0x174724||'width'!=_0x174724['key']&&'height'!=_0x174724['key']?void 0x0:{'type':'format','content':''};})),_0x3cdbc2['descriptionFactory']['registerDescriptionCallback'](_0x23203c=>{if(!!_0x46a10b['find'](({type:_0xe5ae11,subType:_0x5e93db})=>_0x23203c['type']==_0xe5ae11&&_0x23203c['subType']==_0x5e93db))return _0x23203c['previous']?{}:void 0x0;}),_0x3cdbc2['descriptionFactory']['registerDescriptionCallback'](_0x4bac17=>{if('insertion'==_0x4bac17['type']||'deletion'==_0x4bac17['type']){const _0x8390c5=_0x4bac17['getContainedElement']();if(_0x8390c5&&_0x8390c5['is']('element','caption'))return{'type':'insertion'==_0x4bac17['type']?'addObject':'removeObject','element':_0x8390c5,'quantity':0x1};}}),_0x3cdbc2['descriptionFactory']['registerDescriptionCallback'](_0x38433c=>'formatBlock'==_0x38433c['type']&&'convertInlineImageToBlock'==_0x38433c['subType']?{'type':'format','content':'Inline\x20image\x20to\x20block\x20image'}:'formatBlock'==_0x38433c['type']&&'convertBlockImageToInline'==_0x38433c['subType']?{'type':'format','content':'Block\x20image\x20to\x20inline\x20image'}:void 0x0),_0x3cdbc2['descriptionFactory']['registerDescriptionCallback'](_0x24e1a0=>{if('attribute'!=_0x24e1a0['type'])return;const {data:_0x498be3}=_0x24e1a0;if(!_0x498be3||'alt'!=_0x498be3['key'])return;const _0x4bfdb0=_0x498be3['newValue'];return _0x4bfdb0?{'type':'format','content':c(_0x68a75f,'*Set\x20image\x20text\x20alternative:*\x20%0','\x22'+_0x4bfdb0+'\x22')}:{'type':'format','content':c(_0x68a75f,'*Remove\x20image\x20text\x20alternative*')};}),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x55cc3b=this['editor'],_0x12f57f=_0x55cc3b['locale'];_0x55cc3b['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x9d533a=>{if('formatBlock'!=_0x9d533a['type']&&'formatInline'!=_0x9d533a['type'])return;const {data:_0x4e26bb}=_0x9d533a;if(_0x4e26bb){if('imageTextAlternative'==_0x4e26bb['commandName']){const _0x5f0d60=_0x4e26bb['commandParams'][0x0]['newValue'];return _0x5f0d60?{'type':'format','content':c(_0x12f57f,'*Set\x20image\x20text\x20alternative:*\x20%0','\x22'+_0x5f0d60+'\x22')}:{'type':'format','content':c(_0x12f57f,'*Remove\x20image\x20text\x20alternative*')};}if('resizeImage'==_0x4e26bb['commandName']){const _0x2d1792=_0x4e26bb['commandParams'][0x0]['width'];return _0x2d1792?{'type':'format','content':c(_0x12f57f,'*Set\x20image\x20width:*\x20%0',_0x2d1792)}:{'type':'format','content':c(_0x12f57f,'*Reset\x20image\x20width*')};}}});}}class at extends _0x16d8d0{['afterInit'](){if(!this['editor']['plugins']['has']('ImageEditing'))return;const _0x9fbfdb=this['editor']['locale'],_0x18ccda=this['editor']['plugins']['get']('TrackChangesEditing');_0x18ccda['enableDefaultAttributesIntegration']('replaceImageSource'),_0x18ccda['registerBlockAttribute']('src'),_0x18ccda['descriptionFactory']['registerDescriptionCallback'](_0x1170a2=>{if('attribute'!=_0x1170a2['type'])return;const {data:_0x3a24e0}=_0x1170a2;return _0x3a24e0&&'src'==_0x3a24e0['key']?_0x3a24e0['newValue']&&_0x3a24e0['oldValue']?{'type':'format','content':c(_0x9fbfdb,'*Replace\x20image*')}:{'type':'format','content':''}:void 0x0;}),this['_handleLegacySuggestions']();}['_handleLegacySuggestions'](){const _0x3764ae=this['editor']['plugins']['get']('TrackChangesEditing');_0x3764ae['_suggestionFactory']['registerCustomCallback']('formatBlock','replaceImageSource','accept',_0x3764ae['_suggestionFactory']['getSuggestionCallback']('formatBlock',null,'discard')),_0x3764ae['_suggestionFactory']['registerCustomCallback']('formatBlock','replaceImageSource','discard',_0x3764ae['_suggestionFactory']['getSuggestionCallback']('formatBlock',null,'accept')),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x155141=this['editor'],_0x5c8ebd=_0x155141['locale'];_0x155141['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x204f32=>{if('formatBlock'!=_0x204f32['type']&&'formatInline'!=_0x204f32['type'])return;const {data:_0x44c99a}=_0x204f32;if(!_0x44c99a||'replaceImageSource'!=_0x44c99a['commandName'])return;return{'type':'format','content':c(_0x5c8ebd,'*Format:*\x20replace\x20image\x20URL')};});}}class ct extends _0x16d8d0{['afterInit'](){const _0x3a8f6a=this['editor'];if(!_0x3a8f6a['plugins']['has']('ImageStyleEditing'))return;const _0x1e2105=_0x3a8f6a['plugins']['get']('TrackChangesEditing'),_0x5f2255=_0x3a8f6a['plugins']['get']('ImageUtils'),_0x38a820={};_0x1e2105['enableCommand']('imageStyle',(_0x2e1c21,_0x139893)=>{const _0x3ab065=_0x3a8f6a['plugins']['get']('Users')['me'],_0x488121=_0x3a8f6a['commands']['get']('imageStyle');let _0xd134f5=_0x5f2255['getClosestSelectedImageElement'](_0x3a8f6a['model']['document']['selection']),_0x148bff=_0x3a8f6a['model']['createRangeOn'](_0xd134f5),_0x14d3d2=_0x488121['value'];if(_0x14d3d2==_0x139893['value'])return;const _0x528d8e={'commandName':'imageStyle','commandParams':[_0x139893],'formatGroupId':_0x4ae66e()};_0x3a8f6a['model']['change'](()=>{if(_0x1e2105['getSuggestions']()['filter'](_0x573a95=>_0x573a95['isInContent']&&_0x3ab065==_0x573a95['author']&&('formatBlock'==_0x573a95['type']||'formatInline'==_0x573a95['type'])&&('imageStylePreApply'==_0x573a95['subType']||'imageStylePostApply'==_0x573a95['subType'])&&_0x573a95['getFirstRange']()['isEqual'](_0x148bff))['forEach'](_0x25c7a0=>_0x1e2105['discardSuggestion'](_0x25c7a0['head'])),_0xd134f5=_0x5f2255['getClosestSelectedImageElement'](_0x3a8f6a['model']['document']['selection']),_0x148bff=_0x3a8f6a['model']['createRangeOn'](_0xd134f5),_0x488121['refresh'](),_0x3a8f6a['commands']['get']('imageTypeInline')['refresh'](),_0x3a8f6a['commands']['get']('imageTypeBlock')['refresh'](),_0x14d3d2=_0x488121['value'],_0x14d3d2!=_0x139893['value'])return _0x5f2255['isInlineImage'](_0xd134f5)&&_0x488121['shouldConvertImageType'](_0x139893['value'],_0xd134f5)?(_0x2e1c21({..._0x139893,'setImageSizes':!0x1}),_0xd134f5=_0x5f2255['getClosestSelectedImageElement'](_0x3a8f6a['model']['document']['selection']),void _0x1e2105['markBlockFormat'](_0xd134f5,{..._0x528d8e,'commandReversedParams':[{'value':_0x14d3d2||null,'setImageSizes':!0x1}]},[],'imageStylePreApply')):void(_0x5f2255['isBlockImage'](_0xd134f5)?_0x1e2105['markBlockFormat'](_0xd134f5,_0x528d8e,[],'imageStylePostApply'):_0x1e2105['markInlineFormat'](_0x148bff,_0x528d8e,'imageStylePostApply'));});});for(const _0x527870 of _0x3a8f6a['plugins']['get']('ImageStyleEditing')['normalizedStyles'])_0x38a820[_0x527870['name']]=_0x527870['title']['toLowerCase']();_0x1e2105['_suggestionFactory']['registerCustomCallback']('formatBlock','imageStylePreApply','join',()=>!0x1),_0x1e2105['_suggestionFactory']['registerCustomCallback']('formatBlock','imageStylePostApply','join',()=>!0x1),_0x1e2105['_suggestionFactory']['registerCustomCallback']('formatInline','imageStylePostApply','join',()=>!0x1),_0x1e2105['_suggestionFactory']['registerCustomCallback']('formatBlock','imageStylePreApply','accept',([_0x538312])=>{_0x5f2255['setImageNaturalSizeAttributes'](_0x538312['getContainedElement']());}),_0x1e2105['_suggestionFactory']['registerCustomCallback']('formatBlock','imageStylePreApply','discard',(_0x321692,_0x5736cd)=>{_0x1e2105['_suggestionFactory']['getSuggestionCallback']('formatBlock','','accept')(_0x321692,{'commandName':_0x5736cd['commandName'],'commandParams':_0x5736cd['commandReversedParams']});}),_0x1e2105['_suggestionFactory']['registerCustomCallback']('formatBlock','imageStylePreApply','chain',function(_0x308f6e,_0x14b8b1){if(_0x1916e6(_0x308f6e,_0x14b8b1))return[_0x308f6e,_0x14b8b1];if(_0x1916e6(_0x14b8b1,_0x308f6e))return[_0x14b8b1,_0x308f6e];return null;});const _0x30ccea=[{'type':'formatBlock','subType':'imageStylePreApply'},{'type':'insertion','subType':'imageCaption'},{'type':'formatBlock','subType':'convertInlineImageToBlock'},{'type':'insertion','subType':'convertInlineImageToBlock'}];function _0x1916e6(_0x1a68a2,_0x2b846f){const _0x46e81d=_0x30ccea['findIndex'](({type:_0x16c3be,subType:_0x5cd55a})=>_0x1a68a2['type']==_0x16c3be&&_0x1a68a2['subType']==_0x5cd55a),_0xf1bb8c=_0x30ccea['findIndex'](({type:_0x2fe93e,subType:_0x3380ad})=>_0x2b846f['type']==_0x2fe93e&&_0x2b846f['subType']==_0x3380ad);if(_0x46e81d<0x0||_0xf1bb8c<0x0)return!0x1;const _0x245c73=_0x1a68a2['getFirstRange'](),_0x751385=_0x2b846f['getFirstRange']();if((0x0==_0x46e81d||0x1==_0x46e81d)&&0x2==_0xf1bb8c&&_0x245c73['isIntersecting'](_0x751385))return!0x0;if(0x2==_0x46e81d&&0x3==_0xf1bb8c){const _0xd134ae=_0x1e2105['_findSuggestions'](_0x245c73,'insertion')['filter'](({suggestion:_0x1bcf52,meta:_0x27d13f})=>_0x27d13f['isOwn']&&'convertInlineImageToBlock'==_0x1bcf52['subType']);if(_0xd134ae['length']>0x1&&_0x751385['end']['isEqual'](_0x245c73['start']))return!0x0;if(0x1==_0xd134ae['length']&&(_0x245c73['start']['isEqual'](_0x751385['end'])||_0x245c73['end']['isEqual'](_0x751385['start'])))return!0x0;}if(0x3==_0x46e81d&&0x3==_0xf1bb8c&&_0x245c73['start']['isBefore'](_0x751385['start'])){const _0x159680=_0x245c73['end']['nodeAfter'],_0x5e15c7=_0x751385['start']['nodeBefore'];return _0x5f2255['isBlockImage'](_0x159680)&&_0x159680===_0x5e15c7;}return!0x1;}_0x3a8f6a['model']['document']['registerPostFixer'](()=>{let _0x3830c0=!0x1;const _0x4a9e1a=Array['from'](_0x3a8f6a['model']['document']['differ']['getChangedMarkers']());for(const {name:_0x45619f,data:_0x5e0bdd}of _0x4a9e1a){const {group:_0x254e6d,type:_0x28d91d,subType:_0x2e6987,id:_0x47f982}=_0x1e2105['_splitMarkerName'](_0x45619f);if('suggestion'==_0x254e6d&&_0x1e2105['hasSuggestion'](_0x47f982)){if('formatBlock'==_0x28d91d&&('imageStylePreApply'==_0x2e6987||'imageStylePostApply'==_0x2e6987)){const _0x49c69e=_0x1e2105['getSuggestion'](_0x47f982);if(_0x5e0bdd['newRange']){const _0x17c3c4=_0x49c69e['getFirstRange']()['getContainedElement']();if(_0x5f2255['isBlockImage'](_0x17c3c4))continue;_0x1e2105['discardSuggestion'](_0x49c69e),_0x3830c0=!0x0;}}if('insertion'==_0x28d91d&&'imageCaption'==_0x2e6987&&!_0x5e0bdd['newRange']){const _0x3746f1=_0x1e2105['getSuggestion'](_0x47f982);_0x3746f1['next']&&_0x3746f1['next']['isInContent']&&(_0x1e2105['discardSuggestion'](_0x3746f1['next']),_0x3830c0=!0x0);}}}return _0x3830c0;}),this['_registerLegacyDescription'](_0x38a820);}['_registerLegacyDescription'](_0x40838b){const _0x284970=this['editor'],_0x14b7a0=_0x284970['locale'];_0x284970['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x2a85c7=>{if('formatBlock'!=_0x2a85c7['type']&&'formatInline'!=_0x2a85c7['type'])return;const {data:_0x4d69fd}=_0x2a85c7;if(!_0x4d69fd||'imageStyle'!=_0x4d69fd['commandName'])return;const _0x327960=_0x4d69fd['commandParams'][0x0]['value'];return _0x171e55('side'===_0x327960?c(_0x14b7a0,'FORMAT_SIDE_IMAGE'):_0x40838b[_0x327960]||_0x327960);function _0x171e55(_0x4445c7){return{'type':'format','content':c(_0x14b7a0,'*Format:*\x20%0',_0x4445c7)};}});}}class ut extends _0x16d8d0{['_trackChangesValueDuringImport'];['_trackChangesExecuted'];constructor(_0x228e4a){super(_0x228e4a),this['_trackChangesValueDuringImport']=!0x1,this['_trackChangesExecuted']=!0x1;}['afterInit'](){const _0x365dbc=this['editor'],_0x473d33=_0x365dbc['commands']['get']('importWord'),_0x4819e1=_0x365dbc['commands']['get']('trackChanges');_0x473d33&&(_0x473d33['on']('execute',(_0x18b4c1,[,_0x3d719a])=>{this['_trackChangesValueDuringImport']=_0x4819e1['value'],_0x3d719a['collaboration_features']['track_changes']=!this['_trackChangesValueDuringImport'];},{'priority':'high'}),this['listenTo'](_0x473d33,'dataInsert',this['_handleImportedData']['bind'](this)),this['listenTo'](_0x473d33,'dataInsert',()=>{this['_trackChangesExecuted']&&(_0x4819e1['execute'](),this['_trackChangesExecuted']=!0x1);},{'priority':'lowest'}),_0x365dbc['plugins']['get']('TrackChangesEditing')['enableCommand']('importWord'));}['_handleImportedData'](_0x1c7f6d,_0x557f12){const {suggestions:_0x3fcf86}=_0x557f12,_0x41bb06=this['editor']['commands']['get']('trackChanges'),_0x1b5738=_0x41bb06['value'];this['_trackChangesValueDuringImport']!==_0x1b5738&&(_0x41bb06['execute'](),this['_trackChangesExecuted']=!0x0),_0x3fcf86&&_0x3fcf86['forEach'](({id:_0x15e0f3,type:_0x51dc16,author:_0xfcefdf,created_at:_0x1f661d})=>{const _0x168157={'id':_0x15e0f3,'type':_0x51dc16,'authorId':this['editor']['plugins']['get']('Users')['me']['id'],'createdAt':new Date(),'data':null,'hasComments':!0x1,'attributes':{'@external':{'authorName':_0xfcefdf,'createdAt':_0x1f661d?new Date(_0x1f661d):new Date(),'source':'importWord'}}};this['editor']['plugins']['get']('TrackChangesEditing')['_setSuggestionData'](_0x168157);});}}class ft extends _0x16d8d0{['afterInit'](){const _0x4a5c15=this['editor'],_0x326b01=_0x4a5c15['plugins']['get']('TrackChangesEditing');if(_0x4a5c15['plugins']['has']('IndentEditing')&&(_0x326b01['enableCommand']('indent'),_0x326b01['enableCommand']('outdent')),_0x4a5c15['plugins']['has']('IndentBlock')){for(const _0x4eaa6f of['indentBlock','outdentBlock'])_0x326b01['enableDefaultAttributesIntegration'](_0x4eaa6f);}const _0x5cb2ee=_0x4a5c15['locale'];_0x326b01['registerBlockAttribute']('blockIndent'),_0x326b01['descriptionFactory']['registerAttributeLabel']('blockIndent',c(_0x5cb2ee,'FORMAT_INDENT')),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x5482ec=this['editor'],_0x4d9b12=_0x5482ec['locale'],_0x4af5b0=_0x5482ec['plugins']['get']('TrackChangesEditing');_0x4af5b0['descriptionFactory']['registerDescriptionCallback'](_0x3277ba=>{if('formatBlock'!=_0x3277ba['type'])return;const {data:_0x20be1b}=_0x3277ba;if(!_0x20be1b)return;if('indentBlock'!=_0x20be1b['commandName']&&'outdentBlock'!=_0x20be1b['commandName'])return;const _0x1332a9=_0x3277ba['getItems']()[0x0],_0xcd7592=_0x4af5b0['descriptionFactory']['getItemLabel'](_0x1332a9);return'indentBlock'==_0x20be1b['commandName']?{'type':'format','content':c(_0x4d9b12,'*Indent:*\x20%0',_0xcd7592)}:'outdentBlock'==_0x20be1b['commandName']?{'type':'format','content':c(_0x4d9b12,'*Outdent:*\x20%0',_0xcd7592)}:void 0x0;});}}class ht extends _0x16d8d0{static get['requires'](){return[tr];}['init'](){this['editor']['plugins']['get']('TrackChangesEditing')['enableCommand']('input');}}class gt extends _0x16d8d0{['afterInit'](){const _0x65fbf1=this['editor'];if(!_0x65fbf1['plugins']['has']('LinkEditing'))return;const _0x2e9649=_0x65fbf1['plugins']['get']('TrackChangesEditing'),_0x384017=_0x65fbf1['commands']['get']('link');_0x2e9649['enableDefaultAttributesIntegration']('link'),_0x2e9649['enableDefaultAttributesIntegration']('unlink'),_0x2e9649['registerInlineAttribute']('linkHref');for(const _0x3b5626 of _0x384017['manualDecorators'])_0x2e9649['registerInlineAttribute'](_0x3b5626['id']),_0x2e9649['descriptionFactory']['registerAttributeLabel'](_0x3b5626['id'],'link\x20('+_0x3b5626['label']['toLowerCase']()+')');_0x2e9649['descriptionFactory']['registerDescriptionCallback'](_0x55bf7a=>{if('attribute'!=_0x55bf7a['type'])return;const {data:_0x35451c}=_0x55bf7a;if(!_0x35451c||'linkHref'!=_0x35451c['key'])return;const _0x19d52b=_0x35451c['newValue'],_0x508cbb=_0x65fbf1['locale'];return{'type':'format','content':null==_0x19d52b?c(_0x508cbb,'*Remove\x20link*'):c(_0x508cbb,'*Set\x20link:*\x20%0','\x22'+_0x19d52b+'\x22')};}),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x3008b2=this['editor'],_0xae7486=_0x3008b2['locale'];_0x3008b2['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0xaf92ff=>{if('formatInline'!=_0xaf92ff['type'])return;const {data:_0x3ae4b6}=_0xaf92ff;if(_0x3ae4b6){if('link'==_0x3ae4b6['commandName']){const _0x29c891=_0x3ae4b6['commandParams'][0x0];return{'type':'format','content':c(_0xae7486,'*Set\x20link:*\x20%0','\x22'+_0x29c891+'\x22')};}return'unlink'==_0x3ae4b6['commandName']?{'type':'format','content':c(_0xae7486,'*Remove\x20link*')}:void 0x0;}});}}class lt extends _0x16d8d0{['afterInit'](){const _0x23f283=this['editor'],_0x3755ab=_0x23f283['locale'];if(!_0x23f283['plugins']['has']('LegacyListEditing'))return;const _0x213607=_0x23f283['plugins']['get']('TrackChangesEditing'),_0x327296=_0x23f283['plugins']['has']('LegacyTodoListEditing');function _0x7621c2(_0x4417e6){return()=>{const _0x2c6630=_0x23f283['model']['document']['selection'],_0x3d352c=_0x23f283['commands']['get'](_0x4417e6);if(_0x3d352c['value'])return void _0x23f283['execute']('paragraph',{});const _0x2e6afb=_0x4417e6['slice'](0x0,-0x4),_0x212530=function(_0x2a342f,_0x544e1d,_0x321e68){let _0x5657df=Array['from'](_0x2a342f)['filter'](_0x1de065=>function(_0x21c01d,_0x56ff24){return _0x56ff24['checkChild'](_0x21c01d['parent'],'listItem')&&!_0x56ff24['isObject'](_0x21c01d);}(_0x1de065,_0x321e68));_0x5657df=_0x5657df['filter'](_0x41e8c3=>!_0x41e8c3['is']('element','listItem')||_0x41e8c3['getAttribute']('listType')!=_0x544e1d);const _0xa3dd8b=new Set();for(const _0x54b8ac of _0x5657df)_0x54b8ac['is']('element','listItem')?_0xa3dd8b['add'](Le(_0x54b8ac)):_0xa3dd8b['add'](_0x54b8ac);return Array['from'](_0xa3dd8b);}(_0x2c6630['getSelectedBlocks'](),_0x2e6afb,_0x23f283['model']['schema']);_0x23f283['model']['change'](()=>{for(const _0x3dc739 of _0x212530)_0x213607['markBlockFormat'](_0x3dc739,{'commandName':_0x4417e6,'commandParams':[{'forceValue':!_0x3d352c['value']}],'formatGroupId':'blockName'},Ee(_0x3dc739));});};}function _0x286fc4(_0x3a72f5){return()=>{const _0x40e98e=function(_0x18e0c7){let _0x35c029=Array['from'](_0x18e0c7);const _0xd786d7=_0x35c029['findIndex'](_0x4dadea=>'listItem'!=_0x4dadea['name']);return _0xd786d7>-0x1&&(_0x35c029=_0x35c029['slice'](0x0,_0xd786d7)),_0x35c029;}(_0x23f283['model']['document']['selection']['getSelectedBlocks']()),_0x111063=_0x23f283['model']['createRange'](_0x23f283['model']['createPositionAt'](_0x40e98e[0x0],'before'),_0x23f283['model']['createPositionAt'](_0x40e98e[_0x40e98e['length']-0x1],'end'));_0x23f283['model']['change'](()=>{_0x213607['markBlockFormat'](_0x111063,{'commandName':_0x3a72f5,'commandParams':[],'formatGroupId':'listIndent'},function(_0x1e5fd6){const _0x32d32b=new Set();for(const _0x36067b of _0x1e5fd6){let _0x5113d0=_0x36067b['nextSibling'];for(;_0x5113d0&&_0x5113d0['getAttribute']('listIndent')>_0x36067b['getAttribute']('listIndent');)_0x32d32b['add'](_0x5113d0),_0x5113d0=_0x5113d0['nextSibling'];}return Array['from'](_0x32d32b);}(_0x40e98e));});};}_0x213607['enableCommand']('numberedList',_0x7621c2('numberedList')),_0x213607['enableCommand']('bulletedList',_0x7621c2('bulletedList')),_0x327296&&_0x213607['enableCommand']('todoList',_0x7621c2('todoList')),_0x213607['enableCommand']('indentList',_0x286fc4('indentList')),_0x213607['enableCommand']('outdentList',_0x286fc4('outdentList')),_0x327296&&_0x213607['enableCommand']('checkTodoList',()=>{const _0x40cda6=_0x23f283['commands']['get']('checkTodoList'),_0x57a213=Array['from'](_0x40cda6['_selectedElements']);_0x57a213['filter'](_0x27119a=>_0x27119a['getAttribute']('todoListChecked')!=_0x40cda6['value']),_0x23f283['model']['change'](()=>{for(const _0x6ae835 of _0x57a213)_0x213607['markBlockFormat'](_0x6ae835,{'commandName':'checkTodoList','commandParams':[{'forceValue':!_0x40cda6['value']}]});});}),_0x213607['descriptionFactory']['registerElementLabel']('listItem',_0x264e62=>c(_0x3755ab,'ELEMENT_LIST_ITEM',_0x264e62)),_0x213607['descriptionFactory']['registerDescriptionCallback'](_0x125133=>{if('formatBlock'!=_0x125133['type']&&'formatInline'!=_0x125133['type'])return;const {data:_0x4d4755}=_0x125133;if(_0x4d4755){if('numberedList'==_0x4d4755['commandName']||'bulletedList'==_0x4d4755['commandName']||'todoList'==_0x4d4755['commandName'])switch(_0x4d4755['commandName']['replace']('List','')){case'bulleted':return _0x421209(c(_0x3755ab,'ELEMENT_BULLETED_LIST'));case'numbered':return _0x421209(c(_0x3755ab,'ELEMENT_NUMBERED_LIST'));case'todo':return _0x421209(c(_0x3755ab,'ELEMENT_TODO_LIST'));}if('indentList'==_0x4d4755['commandName'])return{'type':'format','content':c(_0x3755ab,'*Indent:*\x20%0',c(_0x3755ab,'ELEMENT_LIST_ITEM'))};if('outdentList'==_0x4d4755['commandName'])return{'type':'format','content':c(_0x3755ab,'*Outdent:*\x20%0',c(_0x3755ab,'ELEMENT_LIST_ITEM'))};if('checkTodoList'==_0x4d4755['commandName'])return _0x4d4755['commandParams'][0x0]['forceValue']?{'type':'format','content':c(_0x3755ab,'*Check\x20item*')}:{'type':'format','content':c(_0x3755ab,'*Uncheck\x20item*')};}function _0x421209(_0xb1054b){return{'type':'format','content':c(_0x3755ab,'*Change\x20to:*\x20%0',_0xb1054b)};}});}}function Le(_0x4132ea){const _0x3936fc=_0x4132ea['getAttribute']('listIndent');if(0x0==_0x3936fc)return _0x4132ea;let _0x443956=_0x4132ea;for(;_0x4132ea['previousSibling']&&_0x4132ea['previousSibling']['is']('element','listItem');){const _0x3338ab=_0x4132ea['previousSibling']['getAttribute']('listIndent');if(_0x3338ab==_0x3936fc)_0x443956=_0x4132ea['previousSibling'];else{if(_0x3338ab<_0x3936fc)break;}_0x4132ea=_0x4132ea['previousSibling'];}return _0x443956;}function Ee(_0x4cef96){const _0x39e852=[];if(_0x4cef96['is']('element','listItem')&&_0x4cef96['getAttribute']('listIndent')>0x0){let _0x4f2150=_0x4cef96['nextSibling'];for(;_0x4f2150&&'listItem'==_0x4f2150['name']&&_0x4f2150['getAttribute']('listIndent')==_0x4cef96['getAttribute']('listIndent');)_0x39e852['push'](_0x4f2150),_0x4f2150=_0x4f2150['nextSibling'];}return _0x39e852;}class Q extends _0x16d8d0{['afterInit'](){if(!this['editor']['plugins']['has']('LegacyListPropertiesEditing'))return;const _0x34eed9=this['editor']['config']['get']('list.properties'),_0x55896e=this['editor']['plugins']['get']('TrackChangesEditing');_0x34eed9['styles']&&_0x55896e['enableCommand']('listStyle',this['handleListStyleCommand']['bind'](this)),_0x34eed9['reversed']&&_0x55896e['enableCommand']('listReversed',this['handleListReversedCommand']['bind'](this)),_0x34eed9['startIndex']&&_0x55896e['enableCommand']('listStart',this['handleListStartCommand']['bind'](this)),_0x55896e['descriptionFactory']['registerDescriptionCallback'](this['handleDescriptions']['bind'](this));}['handleListStyleCommand'](_0x1b9a6d,_0x4a386={}){const _0xb45f84=this['editor']['plugins']['get']('TrackChangesEditing'),_0x2d4510=this['_getSuggestionBlocksForListStyle']();this['editor']['model']['change'](()=>{_0xb45f84['markMultiRangeBlockFormat'](_0x2d4510,{'commandName':'listStyle','commandParams':[{'type':_0x4a386['type']}],'formatGroupId':'listStyle'});});}['handleListReversedCommand'](_0x3518e3,_0x1e3ad8={}){const _0x3883bc=this['editor']['plugins']['get']('TrackChangesEditing'),_0x3cad75=this['_getSuggestionBlocks'](_0x1789c1=>_0x1789c1['is']('element','listItem')&&'numbered'===_0x1789c1['getAttribute']('listType'));if(_0x3cad75['length']<0x1)return;const _0x28ab95=_0x3cad75['map'](_0x2e4a7d=>this['editor']['model']['createRange'](this['editor']['model']['createPositionAt'](_0x2e4a7d,'before'),this['editor']['model']['createPositionAt'](_0x2e4a7d,0x0)));this['editor']['model']['change'](()=>{_0x3883bc['markMultiRangeBlockFormat'](_0x28ab95,{'commandName':'listReversed','commandParams':[{'reversed':_0x1e3ad8['reversed']}],'formatGroupId':'listReversed'});});}['handleListStartCommand'](_0x1c6d2c,_0x3ee5fa={}){const _0x1c73fa=this['editor']['plugins']['get']('TrackChangesEditing'),_0x482501=this['_getSuggestionBlocks'](_0xa42e9f=>_0xa42e9f['is']('element','listItem')&&'numbered'===_0xa42e9f['getAttribute']('listType'));if(_0x482501['length']<0x1)return;const _0x4977c8=_0x482501['map'](_0x2bb64c=>this['editor']['model']['createRange'](this['editor']['model']['createPositionAt'](_0x2bb64c,'before'),this['editor']['model']['createPositionAt'](_0x2bb64c,0x0)));this['editor']['model']['change'](()=>{_0x1c73fa['markMultiRangeBlockFormat'](_0x4977c8,{'commandName':'listStart','commandParams':[{'startIndex':_0x3ee5fa['startIndex']}],'formatGroupId':'listStart'});});}['handleDescriptions'](_0x447679){if('formatBlock'!=_0x447679['type']&&'formatInline'!=_0x447679['type'])return;const _0x55ffda=this['editor']['locale'],{data:_0x4ecb00}=_0x447679;if(!_0x4ecb00)return;let _0xd04c69,_0xfe13df;switch(_0x4ecb00['commandName']){case'listStyle':_0xd04c69='*Change\x20to:*\x20%0',_0xfe13df={'type':'format','content':c(_0x55ffda,_0xd04c69,c(_0x55ffda,this['_getTranslationKeyForListStyle'](_0x4ecb00['commandParams'][0x0]['type'])))};break;case'listReversed':_0xd04c69=_0x4ecb00['commandParams'][0x0]['reversed']?'*Format:*\x20set\x20order\x20to\x20reversed':'*Format:*\x20set\x20order\x20to\x20regular',_0xfe13df={'type':'format','content':c(_0x55ffda,_0xd04c69)};break;case'listStart':_0xd04c69='*Format:*\x20set\x20start\x20index\x20to\x20%0',_0xfe13df={'type':'format','content':c(_0x55ffda,_0xd04c69,_0x4ecb00['commandParams'][0x0]['startIndex'])};}return _0xfe13df;}['_getSuggestionBlocksForListStyle'](){const _0xbd7c7a=this['editor']['plugins']['get']('LegacyListUtils');let _0x24a98c=Array['from'](this['editor']['model']['document']['selection']['getSelectedBlocks']());return _0x24a98c[0x0]?.['is']('element','listItem')&&_0x24a98c['unshift'](..._0xbd7c7a['getSiblingNodes'](this['editor']['model']['document']['selection']['getFirstPosition'](),'backward')),_0x24a98c[_0x24a98c['length']-0x1]?.['is']('element','listItem')&&_0x24a98c['push'](..._0xbd7c7a['getSiblingNodes'](this['editor']['model']['document']['selection']['getLastPosition'](),'forward')),_0x24a98c=[...new Set(_0x24a98c)],this['editor']['model']['document']['selection']['getFirstPosition']()?.['parent']?.['is']('element','listItem')&&(_0x24a98c=_0x24a98c['filter'](_0x2e08a5=>_0x2e08a5['is']('element','listItem'))),_0x24a98c;}['_getSuggestionBlocks'](_0x1bd387){const _0x4e02c5=this['editor']['plugins']['get']('LegacyListUtils');let _0x2884a8=Array['from'](this['editor']['model']['document']['selection']['getSelectedBlocks']())['filter'](_0x1bd387)['map'](_0x1fa3c1=>{const _0x3d6938=this['editor']['model']['createPositionAt'](_0x1fa3c1,0x0);return[..._0x4e02c5['getSiblingNodes'](_0x3d6938,'backward'),..._0x4e02c5['getSiblingNodes'](_0x3d6938,'forward')];})['flat']();return _0x2884a8=[...new Set(_0x2884a8)],_0x2884a8;}['_getTranslationKeyForListStyle'](_0x2c1d21){return'ELEMENT_'+(this['editor']['plugins']['get']('LegacyListUtils')['getListTypeFromListStyleType'](_0x2c1d21)||'default')['toUpperCase']()+'_LIST_'+_0x2c1d21['toUpperCase']()['replace'](/-/g,'_');}}class mt extends _0x16d8d0{['afterInit'](){const _0x3318fd=this['editor'];if(!_0x3318fd['plugins']['has']('MediaEmbedEditing'))return;const _0x53b7d1=_0x3318fd['plugins']['get']('TrackChangesEditing'),_0x15e119=_0x3318fd['locale'];_0x53b7d1['enableCommand']('mediaEmbed'),_0x53b7d1['descriptionFactory']['registerElementLabel']('media',_0x55eb2a=>c(_0x15e119,'ELEMENT_MEDIA',_0x55eb2a)),_0x3318fd['conversion']['for']('dataDowncast')['elementToElement']({'model':'media','view':(_0x5aa46c,{writer:_0x2cc3a8,options:_0x38ca53})=>{if(_0x38ca53['showSuggestionHighlights'])return _0x2cc3a8['createEmptyElement']('div');},'converterPriority':'high'}),_0x3318fd['data']['downcastDispatcher']['on']('attribute:url:media',(_0xb99b6f,_0x526daf,_0x54e0aa)=>{_0x54e0aa['options']['showSuggestionHighlights']&&_0xb99b6f['stop']();},{'priority':'high'});}}class pt extends _0x16d8d0{['afterInit'](){const _0x5121d7=this['editor'];_0x5121d7['plugins']['has']('MentionEditing')&&_0x5121d7['plugins']['get']('TrackChangesEditing')['enableCommand']('mention');}}class kt extends _0x16d8d0{['afterInit'](){const _0x17347f=this['editor'];if(!_0x17347f['plugins']['has']('MergeFieldsEditing'))return;const _0x21eb8d=_0x17347f['plugins']['get']('TrackChangesEditing'),_0x56c687=_0x17347f['locale'];_0x21eb8d['enableCommand']('insertMergeField'),_0x21eb8d['enableCommand']('insertMergeFieldBlock'),_0x21eb8d['enableCommand']('insertMergeFieldImage'),_0x21eb8d['descriptionFactory']['registerElementLabel']('mergeField',_0x584e67=>c(_0x56c687,'ELEMENT_MERGE_FIELD',_0x584e67)),_0x21eb8d['descriptionFactory']['registerElementLabel']('mergeFieldBlock',_0x267caa=>c(_0x56c687,'ELEMENT_MERGE_FIELD',_0x267caa)),_0x21eb8d['descriptionFactory']['registerDescriptionCallback'](_0x3de44e=>{if('insertion'!=_0x3de44e['type']&&'deletion'!=_0x3de44e['type'])return;const _0x56a64e=_0x3de44e['getContainedElement']();if(null==_0x56a64e)return;const _0xeea047=_0x17347f['plugins']['get']('MergeFieldsEditing');let _0x156693;switch(_0xeea047['getMergeFieldType'](_0x56a64e)){case null:return;case'image':{const _0x1e6a02=_0xeea047['unwrapAffixes'](_0x56a64e['getAttribute']('src'));_0x156693=_0xeea047['getLabel'](_0x1e6a02)||_0x1e6a02;break;}default:{const _0x18480c=_0x56a64e['getAttribute']('id');_0x156693=_0xeea047['getLabel'](_0x18480c)||_0x18480c;break;}}return'insertion'==_0x3de44e['type']?{'type':'insertion','content':c(_0x56c687,'*Insert:*\x20%0','\x22'+_0x156693+'\x22\x20'+c(_0x56c687,'ELEMENT_MERGE_FIELD'))}:{'type':'deletion','content':c(_0x56c687,'*Remove:*\x20%0','\x22'+_0x156693+'\x22\x20'+c(_0x56c687,'ELEMENT_MERGE_FIELD'))};});}}class wt extends _0x16d8d0{['afterInit'](){const _0x147027=this['editor'],_0xba3f8e=_0x147027['plugins']['get']('TrackChangesEditing');_0x147027['plugins']['has']('MultiLevelList')&&(_0xba3f8e['enableDefaultAttributesIntegration']('multiLevelList'),_0xba3f8e['registerBlockAttribute']('listMarkerStyle'),_0xba3f8e['descriptionFactory']['registerDescriptionCallback'](_0x1ebd94=>this['handleDescriptions'](_0x1ebd94)));}['handleDescriptions'](_0x1ed532){const _0x46355d=this['editor']['locale'],{data:_0x3b0526}=_0x1ed532,_0x5b0eb7={'type':'format','content':''};if(_0x3b0526&&'listMarkerStyle'==_0x3b0526['key']){if(!_0x3b0526['oldValue'])return{'type':'format','content':c(_0x46355d,'*Set\x20format:*\x20%0',c(_0x46355d,'ELEMENT_MULTI_LEVEL_LIST'))+'\x20('+_0x3b0526['newValue']+')'};if(!_0x3b0526['newValue']){let _0x1787be=_0x1ed532['head'];for(;_0x1787be;){if(_0x1787be['data']&&'listType'==_0x1787be['data']['key']&&_0x1787be['data']['newValue'])return _0x5b0eb7;_0x1787be=_0x1787be['next'];}return{'type':'format','content':c(_0x46355d,'*Remove\x20format:*\x20%0',c(_0x46355d,'ELEMENT_MULTI_LEVEL_LIST'))+'\x20('+_0x3b0526['oldValue']+')'};}}}}class bt extends _0x16d8d0{['afterInit'](){const _0x4df971=this['editor'];if(!_0x4df971['plugins']['has']('PageBreakEditing'))return;_0x4df971['plugins']['get']('TrackChangesEditing')['enableCommand']('pageBreak');const _0x7790f2=_0x4df971['plugins']['get']('TrackChangesEditing'),_0x12a6ec=_0x4df971['locale'];_0x7790f2['descriptionFactory']['registerElementLabel']('pageBreak',_0xa83485=>c(_0x12a6ec,'ELEMENT_PAGE_BREAK',_0xa83485));}}class yt extends _0x16d8d0{['afterInit'](){const _0x161133=this['editor'];if(!_0x161133['plugins']['has']('Paragraph'))return;const _0x4c89c2=_0x161133['locale'],_0x5daf2e=_0x161133['plugins']['get']('TrackChangesEditing');_0x5daf2e['descriptionFactory']['registerElementLabel']('paragraph',_0x31ed25=>c(_0x4c89c2,'ELEMENT_PARAGRAPH',_0x31ed25)),_0x5daf2e['enableDefaultAttributesIntegration']('paragraph'),_0x5daf2e['enableCommand']('insertParagraph'),_0x161133['editing']['downcastDispatcher']['on']('addMarker:suggestion:insertion',nr(_0x161133),{'priority':'highest'}),_0x161133['data']['downcastDispatcher']['on']('addMarker:suggestion:insertion',(_0x12f41f,_0x22598d,_0x54420c)=>{_0x54420c['options']['showSuggestionHighlights']&&nr(_0x161133,{'showActiveMarker':!0x1})(_0x12f41f,_0x22598d,_0x54420c);},{'priority':'highest'});const _0x49483e=_0x5daf2e['descriptionFactory'];_0x49483e['registerDescriptionCallback'](_0x203fd0=>{if('insertion'!==_0x203fd0['type'])return;const {start:_0x440b42,end:_0x1da81b}=_0x203fd0['getFirstRange']();if(!_0x440b42['isTouching'](_0x1da81b)||!_0x440b42['nodeAfter'])return;const _0x2db4f6=_0x161133['model']['schema'],_0x43e9ab=_0x440b42['nodeAfter'];return _0x2db4f6['isBlock'](_0x43e9ab)&&!_0x2db4f6['isLimit'](_0x43e9ab)&&_0x2db4f6['checkChild'](_0x43e9ab,'$text')?{'type':'insertion','content':c(_0x4c89c2,'*Insert:*\x20%0',_0x49483e['getItemLabel'](_0x43e9ab,0x1))}:void 0x0;}),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x1d8b9a=this['editor'],_0x58ae89=_0x1d8b9a['locale'];_0x1d8b9a['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x16bb39=>{if('formatBlock'!=_0x16bb39['type'])return;const {data:_0x74a4a3}=_0x16bb39;return _0x74a4a3&&'paragraph'==_0x74a4a3['commandName']?{'type':'format','content':c(_0x58ae89,'*Change\x20to:*\x20%0',c(_0x58ae89,'ELEMENT_PARAGRAPH'))}:void 0x0;});}}function nr(_0x1a2ecc,{showActiveMarker:_0x5bceb5=!0x0}={}){return(_0x52a5f8,_0x4b8c00,_0x49b504)=>{const _0x4c521b=_0x1a2ecc['plugins']['get']('TrackChangesEditing'),_0x3e029c=_0x4b8c00['markerRange']['start'],_0x2bca2e=_0x4b8c00['markerRange']['end'],_0x4e69e6=_0x1a2ecc['model']['schema'];if(!_0x3e029c['isTouching'](_0x2bca2e)||!_0x3e029c['nodeAfter'])return;const _0x12aeb0=_0x3e029c['nodeAfter'];if(_0x4e69e6['isBlock'](_0x12aeb0)&&!_0x4e69e6['isLimit'](_0x12aeb0)&&_0x4e69e6['checkChild'](_0x12aeb0,'$text')){if(!_0x49b504['consumable']['consume'](_0x4b8c00['markerRange'],_0x52a5f8['name']))return;const {id:_0x149bf7,authorId:_0x29e413}=_0x4c521b['_splitMarkerName'](_0x4b8c00['markerName']),_0x4be5ed=_0x49b504['writer']['createUIElement']('span',{'class':'ck-suggestion-marker-split','data-suggestion':_0x149bf7,'data-author-id':_0x29e413}),_0xc074f9=_0x49b504['mapper']['toViewPosition'](_0x2bca2e);_0x5bceb5&&_0x4c521b['activeMarkers']['includes'](_0x4b8c00['markerName'])&&_0x49b504['writer']['addClass']('ck-suggestion-marker--active',_0x4be5ed),_0x49b504['writer']['insert'](_0xc074f9,_0x4be5ed),_0x49b504['mapper']['bindElementToMarker'](_0x4be5ed,_0x4b8c00['markerName']);}};}class St extends _0x16d8d0{['afterInit'](){const _0x2150bc=this['editor'];_0x2150bc['commands']['get']('replaceSource')&&_0x2150bc['plugins']['get']('TrackChangesEditing')['enableCommand']('replaceSource');}}class jt extends _0x16d8d0{['afterInit'](){const _0x606c74=this['editor'];if(!_0x606c74['plugins']['has']('RemoveFormatEditing'))return;_0x606c74['plugins']['get']('TrackChangesEditing')['enableDefaultAttributesIntegration']('removeFormat'),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x8aba5f=this['editor'];_0x8aba5f['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x35b4ac=>{if('formatBlock'!=_0x35b4ac['type']&&'formatInline'!=_0x35b4ac['type'])return;const {data:_0xdb569f}=_0x35b4ac;return _0xdb569f&&'removeFormat'==_0xdb569f['commandName']?{'type':'format','content':c(_0x8aba5f['locale'],'*Remove\x20all\x20formatting*')}:void 0x0;});}}class It extends _0x16d8d0{['afterInit'](){const _0x112408=this['editor'];if(!_0x112408['plugins']['has']('RestrictedEditingModeEditing'))return;const _0x5a173a=_0x112408['plugins']['get']('TrackChangesEditing');_0x5a173a['enableCommand']('goToPreviousRestrictedEditingException'),_0x5a173a['enableCommand']('goToNextRestrictedEditingException');const _0x12988f=_0x112408['plugins']['get']('RestrictedEditingModeEditing');_0x12988f['enableCommand']('trackChanges'),_0x12988f['enableCommand']('acceptSuggestion'),_0x12988f['enableCommand']('discardSuggestion'),_0x12988f['enableCommand']('acceptAllSuggestions'),_0x12988f['enableCommand']('discardAllSuggestions'),_0x12988f['enableCommand']('acceptSelectedSuggestions'),_0x12988f['enableCommand']('discardSelectedSuggestions');}}class At extends _0x16d8d0{['afterInit'](){const _0x25d9ae=this['editor'];if(!_0x25d9ae['plugins']['has']('ShiftEnter'))return;const _0xb284bc=_0x25d9ae['plugins']['get']('TrackChangesEditing');_0xb284bc['enableCommand']('shiftEnter'),_0x25d9ae['editing']['downcastDispatcher']['on']('addMarker:suggestion:insertion',je(_0x25d9ae),{'priority':'high'}),_0x25d9ae['editing']['downcastDispatcher']['on']('addMarker:suggestion:deletion',je(_0x25d9ae),{'priority':'high'}),_0x25d9ae['data']['downcastDispatcher']['on']('addMarker:suggestion',(_0x56cd27,_0x527aab,_0x122c26)=>{_0x122c26['options']['showSuggestionHighlights']&&je(_0x25d9ae,{'showActiveMarker':!0x1})(_0x56cd27,_0x527aab,_0x122c26);}),_0xb284bc['descriptionFactory']['registerElementLabel']('softBreak',_0x3f50a0=>c(_0x25d9ae['locale'],'ELEMENT_LINE_BREAK',_0x3f50a0));}}function je(_0x5ef403,{showActiveMarker:_0x599d9e=!0x0}={}){return(_0x12588b,_0x38c049,_0x4ad122)=>{const _0x364a1c=_0x5ef403['plugins']['get']('TrackChangesEditing');if(!_0x4ad122['consumable']['test'](_0x38c049['markerRange'],_0x12588b['name']))return;const _0x1ff4bd=_0x5ef403['model'];for(const _0x503505 of _0x38c049['markerRange']['getItems']()){if(!_0x503505['is']('element','softBreak'))continue;const _0x4fe63a='deletion'==_0x38c049['markerName']['split'](':')[0x1]?'merge':'split',{id:_0x4549e7,authorId:_0x30342a}=_0x364a1c['_splitMarkerName'](_0x38c049['markerName']),_0x2144ac=_0x4ad122['writer']['createUIElement']('span',{'class':'ck-suggestion-marker-'+_0x4fe63a,'data-suggestion':_0x4549e7,'data-author-id':_0x30342a}),_0x27a644=_0x4ad122['mapper']['toViewPosition'](_0x1ff4bd['createPositionBefore'](_0x503505));_0x599d9e&&_0x364a1c['activeMarkers']['includes'](_0x38c049['markerName'])&&_0x4ad122['writer']['addClass']('ck-suggestion-marker--active',_0x2144ac),_0x4ad122['writer']['insert'](_0x27a644,_0x2144ac),_0x4ad122['mapper']['bindElementToMarker'](_0x2144ac,_0x38c049['markerName']);}};}class _t extends _0x16d8d0{['afterInit'](){const _0x4b8c41=this['editor'],_0x2c7475=_0x4b8c41['model'],_0x53bbcd=_0x4b8c41['locale'];if(!_0x4b8c41['plugins']['has']('StandardEditingModeEditing'))return;const _0x595c69=_0x4b8c41['plugins']['get']('TrackChangesEditing'),_0x630664='restrictedEditingException',_0x5b028d=_0x4b8c41['commands']['get'](_0x630664);_0x595c69['enableCommand'](_0x630664,(_0x244cbb,_0xe24a28={})=>{const _0x14a107=_0x2c7475['document']['selection'];if(_0x14a107['isCollapsed'])return void _0x244cbb(_0xe24a28);const _0x418345=void 0x0!==_0xe24a28['forceValue']?_0xe24a28['forceValue']:!_0x5b028d['value'];_0x2c7475['change'](()=>{const _0x3b7cfc=Array['from'](_0x14a107['getRanges']());for(const _0x472a6b of _0x3b7cfc){const _0x23e0ce=_0x418345?[_0x472a6b]:io(_0x630664,_0x472a6b,_0x2c7475);for(const _0x30ccb5 of _0x23e0ce)_0x595c69['markInlineFormat'](_0x30ccb5,{'commandName':_0x630664,'commandParams':[{'forceValue':_0x418345}]});}});}),_0x595c69['descriptionFactory']['registerDescriptionCallback'](_0x2d1e07=>{if('formatBlock'!=_0x2d1e07['type']&&'formatInline'!=_0x2d1e07['type'])return;const {data:_0x1ea057}=_0x2d1e07;return _0x1ea057&&_0x1ea057['commandName']==_0x630664?_0x1ea057['commandParams'][0x0]['forceValue']?{'type':'format','content':c(_0x53bbcd,'FORMAT_RESTRICTED_ENABLED')}:{'type':'format','content':c(_0x53bbcd,'FORMAT_RESTRICTED_DISABLED')}:void 0x0;});}}class vt extends _0x16d8d0{['afterInit'](){const _0x107188=this['editor'];if(!_0x107188['plugins']['has']('Style')||!_0x107188['plugins']['has']('DataSchema'))return;const _0xc4ac30=_0x107188['plugins']['get']('TrackChangesEditing'),_0x3b3d74=_0x107188['locale'],_0x95bfaf=_0x107188['config']['get']('style')||{},_0x4b3c7d=_0x107188['plugins']['get']('GeneralHtmlSupport'),_0x1b7766=_0x107188['plugins']['get']('StyleUtils')['normalizeConfig'](_0x107188['plugins']['get']('DataSchema'),_0x95bfaf['definitions']);_0xc4ac30['enableDefaultAttributesIntegration']('style');const _0x512962=new Set();for(const _0xeb6a45 of _0x1b7766['block']){const _0x5878c6=_0x4b3c7d['getGhsAttributeNameForElement'](_0xeb6a45['element']);_0x512962['add'](_0x5878c6);}const _0x197e73=new Set();for(const _0x38cc09 of _0x1b7766['inline']){const _0x1d8001=_0x4b3c7d['getGhsAttributeNameForElement'](_0x38cc09['element']);_0x197e73['add'](_0x1d8001);for(const _0x4f49b7 of _0x38cc09['ghsAttributes'])_0x197e73['add'](_0x4f49b7);}for(const _0x366a55 of _0x512962)_0xc4ac30['registerBlockAttribute'](_0x366a55),_0xc4ac30['descriptionFactory']['registerAttributeLabel'](_0x366a55,c(_0x3b3d74,'FORMAT_STYLE'));for(const _0x4a5c86 of _0x197e73)_0xc4ac30['registerInlineAttribute'](_0x4a5c86),_0xc4ac30['descriptionFactory']['registerAttributeLabel'](_0x4a5c86,c(_0x3b3d74,'FORMAT_STYLE'));this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x11f25c=this['editor'],_0xc7c959=_0x11f25c['locale'];_0x11f25c['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x15f56c=>{if('formatBlock'!=_0x15f56c['type']&&'formatInline'!=_0x15f56c['type'])return;const {data:_0x1e5916}=_0x15f56c;return _0x1e5916&&'style'===_0x1e5916['commandName']?_0x1e5916['commandParams'][0x0]['forceValue']?{'type':'format','content':c(_0xc7c959,'*Set\x20format:*\x20%0',_0x1e5916['commandParams'][0x0]['styleName']['toLowerCase']())}:{'type':'format','content':c(_0xc7c959,'*Remove\x20format:*\x20%0',_0x1e5916['commandParams'][0x0]['styleName']['toLowerCase']())}:void 0x0;});}}class Ct extends _0x16d8d0{['_tablePostFixingSubtypes'];['_tableSuggestions'];constructor(_0x30284c){super(_0x30284c),this['_tablePostFixingSubtypes']=['tableRow','tableColumn'],this['_tableSuggestions']=new Set();}['afterInit'](){const _0x32c4ad=this['editor'],_0x25fa82=_0x32c4ad['model']['document']['selection'];if(!_0x32c4ad['plugins']['has']('TableEditing'))return;const _0x5e42d9=_0x32c4ad['locale'],_0x26ce42=_0x32c4ad['plugins']['get']('TrackChangesEditing'),_0x2c102c=_0x32c4ad['plugins']['get']('TableUtils');_0x26ce42['descriptionFactory']['registerElementLabel']('table',_0x54e1f3=>c(_0x5e42d9,'ELEMENT_TABLE',_0x54e1f3)),this['_setupColumnsRowsFixing'](),_0x26ce42['enableCommand']('insertTable'),_0x26ce42['enableCommand']('selectTableRow'),_0x26ce42['enableCommand']('selectTableColumn');for(const _0x434e19 of['insertTableRowAbove','insertTableRowBelow']){const _0x422515=_0x32c4ad['commands']['get'](_0x434e19);_0x26ce42['enableCommand'](_0x434e19,_0x1cf814=>{_0x32c4ad['model']['change'](_0x261069=>{_0x1cf814();const _0x12338c='above'===_0x422515['order'],_0x5470a5=_0x2c102c['getSelectionAffectedTableCells'](_0x25fa82),_0x4e7179=_0x2c102c['getRowIndexes'](_0x5470a5),_0x89f70d=_0x12338c?_0x4e7179['first']-0x1:_0x4e7179['last']+0x1,_0x484d8b=_0x5470a5[0x0]['findAncestor']('table'),_0x17e3e6=_0x2c102c['createTableWalker'](_0x484d8b,{'startRow':_0x89f70d,'endRow':_0x89f70d}),_0x377d57=Array['from'](_0x17e3e6)['map'](_0x1bccac=>_0x261069['createRangeOn'](_0x1bccac['cell']));_0x26ce42['markMultiRangeInsertion'](_0x377d57,'tableRow');});});}for(const _0x7df766 of['insertTableColumnLeft','insertTableColumnRight']){const _0x301235=_0x32c4ad['commands']['get'](_0x7df766);_0x26ce42['enableCommand'](_0x7df766,_0x2f6235=>{_0x32c4ad['model']['change'](_0x5d2daf=>{_0x2f6235();const _0x8570df='left'===_0x301235['order'],_0x260b21=_0x2c102c['getSelectionAffectedTableCells'](_0x25fa82),_0x1ab937=_0x2c102c['getColumnIndexes'](_0x260b21),_0x56b534=_0x8570df?_0x1ab937['first']-0x1:_0x1ab937['last']+0x1,_0x1fd4a1=_0x260b21[0x0]['findAncestor']('table'),_0x2eadea=_0x2c102c['createTableWalker'](_0x1fd4a1,{'startRow':0x0,'column':_0x56b534,'includeAllSlots':!0x1}),_0x5d5786=Array['from'](_0x2eadea)['map'](_0x4f4ae9=>_0x5d2daf['createRangeOn'](_0x4f4ae9['cell']));_0x26ce42['markMultiRangeInsertion'](_0x5d5786,'tableColumn');});});}for(const _0xd10424 of['removeTableRow','removeTableColumn']){const _0xac5c21=_0xd10424['substr'](0xb),_0x2d57d4=_0xac5c21['toLowerCase'](),_0x5839b6=_0x2d57d4['substr'](0x0,0x3)+'span',_0x2acb23='table'+_0xac5c21,_0x391cd1='min'+_0xac5c21,_0x5a0690='max'+_0xac5c21;_0x26ce42['enableCommand'](_0xd10424,()=>{_0x32c4ad['model']['change'](_0x303b1e=>{const _0xeb13e0=_0x2c102c['getSelectionAffectedTableCells'](_0x25fa82),_0x294f18=_0xeb13e0[0x0]['findAncestor']('table');let _0x42aa73;if('removeTableRow'==_0xd10424){const _0x4699c7=_0x2c102c['getRowIndexes'](_0xeb13e0);_0x42aa73={'startRow':_0x4699c7['first'],'endRow':_0x4699c7['last'],'includeAllSlots':!0x0};}else{const _0x4013f0=_0x2c102c['getColumnIndexes'](_0xeb13e0);_0x42aa73={'startColumn':_0x4013f0['first'],'endColumn':_0x4013f0['last'],'includeAllSlots':!0x0};}const _0x4e6c59=_0x2c102c['createTableWalker'](_0x294f18,_0x42aa73),_0x99ca96=Array['from'](_0x4e6c59)['map'](({cell:_0x2917be})=>_0x2917be),_0x5ae5ed=xe(_0x99ca96['filter'](_0xf3fe96=>_0xf3fe96['hasAttribute'](_0x5839b6))),_0x322b6b=xe(_0x99ca96['filter'](_0x3403f4=>!_0x3403f4['hasAttribute'](_0x5839b6)))['map'](_0x22b054=>_0x303b1e['createRangeOn'](_0x22b054)),_0x312971=_0x26ce42['markMultiRangeDeletion'](_0x322b6b,_0x2acb23);if(_0x312971&&('tableRow'==_0x312971['subType']||'tableColumn'==_0x312971['subType'])){const _0x22e8bb=this['_getSuggestionCoords'](_0x312971);for(const _0x578394 of _0x5ae5ed){const _0x353181=_0x303b1e['createRangeOn'](_0x578394),_0x19e7b2=_0x2c102c['getCellLocation'](_0x578394),_0x1e0950=_0x578394['getAttribute'](_0x5839b6)-0x1,_0x57e425=_0x22e8bb[_0x391cd1],_0x42de83=_0x22e8bb[_0x5a0690];_0x57e425<=_0x19e7b2[_0x2d57d4]&&_0x19e7b2[_0x2d57d4]+_0x1e0950<=_0x42de83&&_0x312971['addRange'](_0x353181);}}});});}function _0x361aae(_0x4132d2){const _0xe968e5=Array['from'](_0x25fa82['getRanges']())['map'](_0x5d9045=>_0x13b424['fromRange'](_0x5d9045));_0x32c4ad['model']['change'](_0x4b5927=>{const _0x442734=_0x4b5927['batch'];_0x4132d2=_0x4132d2['filter'](_0x3d3e33=>'$graveyard'!=_0x3d3e33['root']['rootName']),_0x4b5927['setSelection'](_0x4132d2),_0x32c4ad['commands']['get']('removeTableRow')['refresh'](),_0x32c4ad['execute']('removeTableRow',{'forceDefaultExecution':!0x0}),_0x32c4ad['model']['enqueueChange'](()=>{_0x32c4ad['model']['enqueueChange'](_0x442734,_0x34ff86=>{const _0xe5b480=_0xe968e5['filter'](_0x3be00b=>'$graveyard'!=_0x3be00b['root']['rootName']);_0xe5b480['length']>0x0&&_0x34ff86['setSelection'](_0xe5b480);for(const _0x433b85 of _0xe968e5)_0x433b85['detach']();});});});}function _0x21334c(_0x5aac6b){_0x32c4ad['model']['change'](_0x25516a=>{const _0x4da543=Array['from'](_0x25fa82['getRanges']())['map'](_0x169d8e=>_0x13b424['fromRange'](_0x169d8e)),_0x274306=[];for(const _0x208003 of _0x5aac6b)for(const _0x42be44 of _0x208003['getItems']({'shallow':!0x0}))_0x274306['push'](_0x42be44);for(const _0x21d6b9 of _0x274306)'$graveyard'!=_0x21d6b9['root']['rootName']&&(_0x25516a['setSelection'](_0x25516a['createPositionAt'](_0x21d6b9,0x0)),_0x32c4ad['commands']['get']('removeTableColumn')['refresh'](),_0x32c4ad['execute']('removeTableColumn',{'forceDefaultExecution':!0x0}));const _0x178f7d=_0x4da543['filter'](_0x419c3c=>'$graveyard'!=_0x419c3c['root']['rootName']);_0x178f7d['length']>0x0&&_0x25516a['setSelection'](_0x178f7d);for(const _0x25dfe7 of _0x4da543)_0x25dfe7['detach']();});}function _0x41a3c0(_0x12251a,_0xb8702c){return _0xb8702c['every'](_0x39be78=>_0x12251a['some'](_0x2c664e=>_0x2c664e['end']['isEqual'](_0x39be78['start'])||_0x39be78['end']['isEqual'](_0x2c664e['start'])));}function _0x2336b9(_0x356d15,_0x37f385){return!_0x356d15['some'](_0xadd1b=>_0x37f385['some'](_0x297b4e=>_0xadd1b['isIntersecting'](_0x297b4e)))&&_0x356d15['some'](_0x1cb7dc=>_0x37f385['some'](_0x33cfc0=>_0x1cb7dc['end']['isTouching'](_0x33cfc0['start'])));}_0x32c4ad['data']['downcastDispatcher']['on']('addMarker:suggestion',(_0xa1ae45,_0x57e214,_0x2a0642)=>{if(!_0x2a0642['options']['showSuggestionHighlights'])return;const _0x2fa571=_0x57e214['item'];if(!_0x2fa571||!_0x2fa571['is']('element','tableCell'))return;const _0x20922c=_0x2a0642['mapper']['toViewElement'](_0x2fa571);if(_0x20922c){const {id:_0x2b905f,authorId:_0x5e6e0}=_0x26ce42['_splitMarkerName'](_0x57e214['markerName']);_0xf3ead2(_0x20922c,_0x2a0642['writer'],(_0x445c5d,_0x5f20fe,_0x44222a)=>{_0x44222a['addClass'](_0x1b10a2(_0x5f20fe['classes']),_0x445c5d),_0x44222a['setAttribute']('data-suggestion-id',_0x2b905f,_0x445c5d),_0x44222a['setAttribute']('data-author-id',_0x5e6e0,_0x445c5d);},(_0x4db91a,_0x1e5cd6,_0x4c229a)=>{_0x4c229a['removeClass'](_0x1b10a2(_0x1e5cd6['classes']),_0x4db91a),_0x4c229a['removeAttribute']('data-suggestion-id',_0x4db91a),_0x4c229a['removeAttribute']('data-author-id',_0x4db91a);});}},{'priority':'highest'}),_0x26ce42['descriptionFactory']['registerDescriptionCallback'](_0x3bcdd8=>{if('insertion'!=_0x3bcdd8['type']&&'deletion'!=_0x3bcdd8['type'])return;const _0x3685cc=_0x3bcdd8['getContainedElement']();if(null!=_0x3685cc&&_0x3685cc['is']('element','table')){if('insertion'==_0x3bcdd8['type']){const _0x10f31f=_0x3bcdd8['getItems']()['filter'](_0x2783e6=>_0x2783e6['is']('$textProxy'))['map'](_0x3ad5fb=>_0x3ad5fb['data']);if(_0x10f31f['length'])return{'type':'insertion','content':c(_0x5e42d9,'*Insert:*\x20%0',c(_0x5e42d9,'ELEMENT_TABLE_WITH_TEXT','\x22'+_0x10f31f['join']('\x20')+'\x22'))};}if('deletion'==_0x3bcdd8['type']){const _0x285e66=_0x3bcdd8['getItems']()['filter'](_0x5bc0f9=>_0x5bc0f9['is']('$textProxy'))['map'](_0x23d025=>_0x23d025['data']);if(_0x285e66['length'])return{'type':'deletion','content':c(_0x5e42d9,'*Remove:*\x20%0',c(_0x5e42d9,'ELEMENT_TABLE_WITH_TEXT','\x22'+_0x285e66['join']('\x20')+'\x22'))};}}}),_0x26ce42['descriptionFactory']['registerDescriptionCallback'](_0x4ab1c5=>{if('tableRow'==_0x4ab1c5['subType']){const _0x3e3843=_0x4ab1c5['getItems']()['filter'](_0x44722b=>_0x44722b['is']('$textProxy'))['map'](_0x4db0f4=>_0x4db0f4['data']),_0x52884e=this['_getSuggestionCoords'](_0x4ab1c5),_0x199f5b=_0x52884e['maxRow']-_0x52884e['minRow']+0x1;if('insertion'==_0x4ab1c5['type'])return _0x3e3843['length']?{'type':'insertion','content':c(_0x5e42d9,'*Insert:*\x20%0',c(_0x5e42d9,'ELEMENT_TABLE_ROW_WITH_TEXT',[_0x199f5b,'\x22'+_0x3e3843['join']('\x20')+'\x22']))}:{'type':'insertion','content':c(_0x5e42d9,'*Insert:*\x20%0',c(_0x5e42d9,'ELEMENT_TABLE_ROW',_0x199f5b))};if('deletion'==_0x4ab1c5['type'])return _0x3e3843['length']?{'type':'deletion','content':c(_0x5e42d9,'*Remove:*\x20%0',c(_0x5e42d9,'ELEMENT_TABLE_ROW_WITH_TEXT',[_0x199f5b,'\x22'+_0x3e3843['join']('\x20')+'\x22']))}:{'type':'deletion','content':c(_0x5e42d9,'*Remove:*\x20%0',c(_0x5e42d9,'ELEMENT_TABLE_ROW',_0x199f5b))};}if('tableColumn'==_0x4ab1c5['subType']){const _0x151eaf=_0x4ab1c5['getItems']()['filter'](_0x108925=>_0x108925['is']('$textProxy'))['map'](_0x326b88=>_0x326b88['data']),_0x1cbbfe=this['_getSuggestionCoords'](_0x4ab1c5),_0x512be7=_0x1cbbfe['maxColumn']-_0x1cbbfe['minColumn']+0x1;if('insertion'==_0x4ab1c5['type'])return _0x151eaf['length']?{'type':'insertion','content':c(_0x5e42d9,'*Insert:*\x20%0',c(_0x5e42d9,'ELEMENT_TABLE_COLUMN_WITH_TEXT',[_0x512be7,'\x22'+_0x151eaf['join']('\x20')+'\x22']))}:{'type':'insertion','content':c(_0x5e42d9,'*Insert:*\x20%0',c(_0x5e42d9,'ELEMENT_TABLE_COLUMN',_0x512be7))};if('deletion'==_0x4ab1c5['type'])return _0x151eaf['length']?{'type':'deletion','content':c(_0x5e42d9,'*Remove:*\x20%0',c(_0x5e42d9,'ELEMENT_TABLE_COLUMN_WITH_TEXT',[_0x512be7,'\x22'+_0x151eaf['join']('\x20')+'\x22']))}:{'type':'deletion','content':c(_0x5e42d9,'*Remove:*\x20%0',c(_0x5e42d9,'ELEMENT_TABLE_COLUMN',_0x512be7))};}}),_0x26ce42['_suggestionFactory']['registerCustomCallback']('insertion','tableRow','discard',_0x361aae),_0x26ce42['_suggestionFactory']['registerCustomCallback']('deletion','tableRow','accept',_0x361aae),_0x26ce42['_suggestionFactory']['registerCustomCallback']('insertion','tableColumn','discard',_0x21334c),_0x26ce42['_suggestionFactory']['registerCustomCallback']('deletion','tableColumn','accept',_0x21334c),_0x26ce42['_suggestionFactory']['registerCustomCallback']('insertion','tableColumn','join',_0x41a3c0),_0x26ce42['_suggestionFactory']['registerCustomCallback']('deletion','tableColumn','join',_0x41a3c0),_0x26ce42['_suggestionFactory']['registerCustomCallback']('insertion','tableRow','join',_0x2336b9),_0x26ce42['_suggestionFactory']['registerCustomCallback']('deletion','tableRow','join',_0x2336b9);}['_acceptFormatSuggestionCallbackFactory'](){const _0x515854=this['editor'],_0x2eba7c=_0x515854['model']['document']['selection'];return(_0x44b6ab,_0x2d3847)=>{_0x515854['model']['change'](_0x1fb19c=>{const {commandName:_0x15b627,commandParams:_0x823b7}=_0x2d3847;let _0x2a52b3=_0x44b6ab[0x0]['end']['nodeBefore'];_0x823b7&&_0x823b7[0x0]&&!0x1===_0x823b7[0x0]['forceValue']&&(_0x2a52b3=_0x44b6ab[0x0]['start']['nodeAfter']);const _0x3898f7=_0x1fb19c['createRangeIn'](_0x2a52b3);if('$graveyard'==_0x3898f7['root']['rootName'])return;const _0x6f93c2=Array['from'](_0x2eba7c['getRanges']())['map'](_0x20707f=>_0x13b424['fromRange'](_0x20707f));_0x1fb19c['setSelection'](_0x3898f7),_0x515854['commands']['get'](_0x15b627)['refresh'](),_0x823b7['push']({'forceDefaultExecution':!0x0}),_0x515854['execute'](_0x15b627,..._0x823b7);const _0x36f3a6=_0x6f93c2['filter'](_0x42e846=>'$graveyard'!=_0x42e846['root']['rootName']);_0x36f3a6['length']>0x0&&_0x1fb19c['setSelection'](_0x36f3a6);for(const _0xb7cadf of _0x6f93c2)_0xb7cadf['detach']();});};}['_getCoordsForCells'](_0x2b3cd0){const _0x54bccd=this['editor']['plugins']['get']('TableUtils');let _0x2342dd=Number['MAX_SAFE_INTEGER'],_0x51de72=Number['MIN_SAFE_INTEGER'],_0x1e7d22=Number['MAX_SAFE_INTEGER'],_0x9040e1=Number['MIN_SAFE_INTEGER'];for(const _0x2bffad of _0x2b3cd0){if('$graveyard'==_0x2bffad['root']['rootName'])continue;const {row:_0x7b3096,column:_0x62be37}=_0x54bccd['getCellLocation'](_0x2bffad),_0x248250=_0x2bffad['hasAttribute']('rowspan')?_0x2bffad['getAttribute']('rowspan')-0x1:0x0,_0x30d943=_0x2bffad['hasAttribute']('colspan')?_0x2bffad['getAttribute']('colspan')-0x1:0x0;_0x2342dd=_0x7b3096<_0x2342dd?_0x7b3096:_0x2342dd,_0x51de72=_0x7b3096+_0x248250>_0x51de72?_0x7b3096+_0x248250:_0x51de72,_0x1e7d22=_0x62be37<_0x1e7d22?_0x62be37:_0x1e7d22,_0x9040e1=_0x62be37+_0x30d943>_0x9040e1?_0x62be37+_0x30d943:_0x9040e1;}return{'minRow':_0x2342dd,'maxRow':_0x51de72,'minColumn':_0x1e7d22,'maxColumn':_0x9040e1};}['_setupColumnsRowsFixing'](){const _0x5d656b=this['editor'],_0x304254=_0x5d656b['plugins']['get']('TrackChangesEditing'),_0x43cc8c=_0x5d656b['plugins']['get']('TableUtils');_0x5d656b['model']['document']['on']('change:data',()=>{const _0x45b682=Array['from'](_0x5d656b['model']['document']['differ']['getChangedMarkers']());for(const {name:_0x5da571,data:_0x236bd7}of _0x45b682){const {group:_0x119dde,id:_0x17dd53,subType:_0x38cdf7}=_0x304254['_splitMarkerName'](_0x5da571);if('suggestion'!=_0x119dde)continue;if(null!=_0x236bd7['oldRange'])continue;const _0x5763ec=_0x304254['getSuggestion'](_0x17dd53);this['_tablePostFixingSubtypes']['includes'](_0x38cdf7)&&this['_tableSuggestions']['add'](_0x5763ec);}},{'priority':'low'});const _0x5b8839=(_0x311a2d,_0x503edd)=>{let _0x15af60=!0x1;const _0x38bc23=_0x503edd['createRangeOn'](_0x311a2d),_0x1cc6c3=_0x311a2d['findAncestor']('table'),_0x597b63=_0x43cc8c['getCellLocation'](_0x311a2d);for(const _0x4c2ae7 of this['_tableSuggestions']){const _0x557c64=_0x4c2ae7['subType'],_0x58804f=_0x557c64['startsWith']('tablePaste'),_0x3f84f9=_0x557c64['substr'](_0x58804f?0xa:0x5),_0x41920e=_0x3f84f9['toLowerCase'](),_0x319b7c=_0x41920e['substr'](0x0,0x3)+'span',_0x3ba382='min'+_0x3f84f9,_0xb16fa4='max'+_0x3f84f9;if(!_0x4c2ae7['isInContent'])continue;if(_0x1cc6c3!=_0x4c2ae7['getFirstRange']()['start']['findAncestor']('table'))continue;if(_0x4c2ae7['isIntersectingWithRange'](_0x38bc23))continue;const _0x5c9e15=_0x311a2d['hasAttribute'](_0x319b7c)?_0x311a2d['getAttribute'](_0x319b7c)-0x1:0x0,_0x3f6781=this['_getSuggestionCoords'](_0x4c2ae7),_0x1f4035=_0x3f6781[_0x3ba382],_0x165f30=_0x3f6781[_0xb16fa4];_0x1f4035<=_0x597b63[_0x41920e]&&_0x597b63[_0x41920e]+_0x5c9e15<=_0x165f30&&(_0x4c2ae7['addRange'](_0x38bc23),_0x15af60=!0x0);}return _0x15af60;};_0x5d656b['model']['document']['registerPostFixer'](_0xd0c4f6=>{let _0x4a5171=!0x1;for(const _0x57438a of _0x5d656b['model']['document']['differ']['getChanges']())if('insert'==_0x57438a['type']){if('tableRow'==_0x57438a['name']){for(const _0x46dc67 of _0x57438a['position']['nodeAfter']['getChildren']())_0x4a5171=_0x4a5171||_0x5b8839(_0x46dc67,_0xd0c4f6);}else'tableCell'==_0x57438a['name']&&(_0x4a5171=_0x4a5171||_0x5b8839(_0x57438a['position']['nodeAfter'],_0xd0c4f6));}return _0x4a5171;});}['_getSuggestionCoords'](_0x12b837){return this['_getCoordsForCells'](_0x12b837['getRanges']()['map'](_0x101db8=>_0x101db8['start']['nodeAfter']));}}function xe(_0x4041a7){return Array['from'](new Set(_0x4041a7)['values']());}class Nt extends _0x16d8d0{static get['requires'](){return[Ct];}['afterInit'](){const _0x221224=this['editor'],_0x3a9bd2=_0x221224['model']['document']['selection'],_0x375028=_0x221224['locale'];if(!_0x221224['plugins']['has']('TableEditing'))return;const _0x56e201=_0x221224['plugins']['get']('TrackChangesEditing'),_0x422c38=_0x221224['plugins']['get']('TableUtils'),_0x2e244d=_0x221224['plugins']['get'](Ct);_0x2e244d['_tablePostFixingSubtypes']['push']('mergeTableCells'),_0x56e201['enableCommand']('mergeTableCells',()=>{const _0x4a78d3=_0x422c38['getSelectionAffectedTableCells'](_0x221224['model']['document']['selection']);_0x221224['model']['change'](()=>{_0x56e201['markMultiRangeBlockFormat'](_0x4a78d3,{'commandName':'mergeTableCells','commandParams':[]},[],'mergeTableCells');});}),_0x221224['commands']['get']('mergeTableCells')['on']('execute',(_0x4004b4,_0x510642)=>{_0x221224['commands']['get']('trackChanges')['value']&&(_0x510642['length']>0x0&&_0x510642[_0x510642['length']-0x1]&&_0x510642[_0x510642['length']-0x1]['forceDefaultExecution']||_0x56e201['_isForcedDefaultExecutionBlock']||this['_areSelectedCellsMergable']()||_0x4004b4['stop']());},{'priority':'highest'});for(const _0x19a44e of['mergeTableCellUp','mergeTableCellRight','mergeTableCellDown','mergeTableCellLeft']){const _0x548793=_0x221224['commands']['get'](_0x19a44e);_0x56e201['enableCommand'](_0x19a44e,()=>{const _0x1a54d4=_0x221224['model']['document']['selection']['getFirstPosition']()['getAncestors']()['find'](_0x1cde15=>_0x1cde15['is']('element','tableCell')),_0x2f4077=_0x548793['value'];_0x221224['model']['change'](()=>{_0x56e201['markMultiRangeBlockFormat']([_0x1a54d4,_0x2f4077],{'commandName':'mergeTableCells','commandParams':[]},[],'mergeTableCells');});});}for(const _0x302531 of['splitTableCellVertically','splitTableCellHorizontally']){const _0x599dbb=_0x221224['commands']['get'](_0x302531);_0x56e201['enableCommand'](_0x302531,()=>{const _0x2ee88d=_0x422c38['getSelectionAffectedTableCells'](_0x221224['model']['document']['selection'])[0x0],_0x1cf0a0=_0x2ee88d['findAncestor']('table'),{column:_0x889d8c,row:_0x542fd2}=_0x422c38['getCellLocation'](_0x2ee88d);let _0x52a5d5=[];if('horizontally'==_0x599dbb['direction']){const _0x42e32f=_0x422c38['createTableWalker'](_0x1cf0a0,{'startRow':_0x542fd2,'endRow':_0x542fd2,'includeAllSlots':!0x0});_0x52a5d5=Array['from'](_0x42e32f)['map'](_0x5685ba=>_0x5685ba['cell']);}else{const _0x133696=_0x422c38['createTableWalker'](_0x1cf0a0,{'column':_0x889d8c,'includeAllSlots':!0x0});_0x52a5d5=Array['from'](_0x133696)['map'](_0x262da2=>_0x262da2['cell']);}_0x221224['model']['change'](_0x4a7a22=>{_0x56e201['markBlockFormat'](_0x4a7a22['createRangeOn'](_0x2ee88d),{'commandName':_0x302531,'commandParams':[]},_0x52a5d5,_0x302531);});});}_0x56e201['descriptionFactory']['registerDescriptionCallback'](_0x1f08c0=>{if('formatBlock'!=_0x1f08c0['type']&&'formatInline'!=_0x1f08c0['type'])return;const {data:_0x4e9b92}=_0x1f08c0;return _0x4e9b92&&'mergeTableCells'==_0x4e9b92['commandName']?{'type':'format','content':c(_0x375028,'*Merge\x20cells*')}:void 0x0;}),_0x56e201['descriptionFactory']['registerDescriptionCallback'](_0x2404dd=>{if('formatBlock'!=_0x2404dd['type']&&'formatInline'!=_0x2404dd['type'])return;const {data:_0x403bc9}=_0x2404dd;return _0x403bc9?'splitTableCellVertically'==_0x403bc9['commandName']?{'type':'format','content':c(_0x375028,'*Split\x20cell:*\x20vertically')}:'splitTableCellHorizontally'==_0x403bc9['commandName']?{'type':'format','content':c(_0x375028,'*Split\x20cell:*\x20horizontally')}:void 0x0:void 0x0;});const _0x1daa46=_0x2e244d['_acceptFormatSuggestionCallbackFactory']();for(const _0x2c6860 of['mergeTableCellUp','mergeTableCellRight','mergeTableCellDown','mergeTableCellLeft'])_0x56e201['_suggestionFactory']['registerCustomCallback']('formatBlock',_0x2c6860,'accept',_0x1daa46);for(const _0x2f2b98 of['splitTableCellVertically','splitTableCellHorizontally'])_0x56e201['_suggestionFactory']['registerCustomCallback']('formatBlock',_0x2f2b98,'accept',_0x1daa46);_0x56e201['_suggestionFactory']['registerCustomCallback']('formatBlock','mergeTableCells','accept',_0x58ef40=>{_0x221224['model']['change'](_0x416d43=>{const _0x142554=Array['from'](_0x3a9bd2['getRanges']())['map'](_0x32b6d5=>_0x13b424['fromRange'](_0x32b6d5));_0x416d43['setSelection'](_0x58ef40),_0x221224['commands']['get']('mergeTableCells')['refresh'](),_0x221224['execute']('mergeTableCells',{'forceDefaultExecution':!0x0});const _0x569a40=_0x142554['filter'](_0x3626f4=>'$graveyard'!=_0x3626f4['root']['rootName']);_0x569a40['length']>0x0&&_0x416d43['setSelection'](_0x569a40);for(const _0x13d934 of _0x142554)_0x13d934['detach']();});});for(const _0x2c11f2 of['mergeTableCellUp','mergeTableCellDown','mergeTableCellLeft','mergeTableCellRight']){const _0x2b569a=_0x221224['commands']['get'](_0x2c11f2);_0x2b569a['on']('set:isEnabled',(_0x59086c,_0x5eae7d,_0x4db76e)=>{if(_0x4db76e){const _0x28f21b=_0x221224['model']['document']['selection']['getFirstPosition']()['getAncestors']()['find'](_0x2b2537=>_0x2b2537['is']('element','tableCell'));this['_areMergableCells'](_0x2b569a['value'],_0x28f21b)||(_0x59086c['return']=!0x1,_0x59086c['stop']());}},{'priority':'low'});}}['_areSelectedCellsMergable'](){const _0x19254a=this['editor']['commands']['get']('mergeTableCells'),_0x29da08=this['editor']['plugins']['get']('TableUtils');if(!_0x19254a['isEnabled'])return!0x1;const _0x5d3016=_0x29da08['getSelectionAffectedTableCells'](this['editor']['model']['document']['selection']);for(const _0x36e179 of _0x5d3016)for(const _0x4cd067 of _0x5d3016)if(_0x36e179!=_0x4cd067&&!this['_areMergableCells'](_0x36e179,_0x4cd067))return!0x1;return!0x0;}['_areMergableCells'](_0xad2e1f,_0x367b88){const _0x4c03be=this['editor']['plugins']['get']('TrackChangesEditing'),_0xf8ca9e=this['editor']['model']['createRangeOn'](_0xad2e1f),_0xbea633=this['editor']['model']['createRangeOn'](_0x367b88),_0x4b4603=new Set(),_0x313d7f=new Set();for(const _0x25fbbf of _0x4c03be['getSuggestions']())if(('insertion'==_0x25fbbf['type']||'deletion'==_0x25fbbf['type']||'mergeTableCells'==_0x25fbbf['subType'])&&_0x25fbbf['isInContent']){for(const _0x1d6d5f of _0x25fbbf['getRanges']())_0x1d6d5f['containsRange'](_0xf8ca9e,!0x0)&&_0x4b4603['add'](_0x25fbbf['type']+':'+_0x25fbbf['author']['id']),_0x1d6d5f['containsRange'](_0xbea633,!0x0)&&_0x313d7f['add'](_0x25fbbf['type']+':'+_0x25fbbf['author']['id']);}if(_0x4b4603['size']!=_0x313d7f['size'])return!0x1;for(const _0x4973c5 of _0x4b4603)if(!_0x313d7f['has'](_0x4973c5))return!0x1;return!0x0;}}class Dt extends _0x16d8d0{static get['requires'](){return[Ct];}['afterInit'](){const _0xf2b19e=this['editor'];if(!_0xf2b19e['plugins']['has']('TableEditing'))return;const _0x2d757d=_0xf2b19e['locale'],_0x5249e9=_0xf2b19e['plugins']['get']('TrackChangesEditing');_0x5249e9['enableDefaultAttributesIntegration']('setTableRowHeader'),_0x5249e9['enableDefaultAttributesIntegration']('setTableColumnHeader'),_0x5249e9['registerBlockAttribute']('headingRows'),_0x5249e9['registerBlockAttribute']('headingColumns'),_0x5249e9['descriptionFactory']['registerAttributeLabel']('headingRows',c(_0x2d757d,'FORMAT_HEADER_ROW')),_0x5249e9['descriptionFactory']['registerAttributeLabel']('headingColumns',c(_0x2d757d,'FORMAT_HEADER_COLUMN')),this['_handleLegacySuggestions']();}['_handleLegacySuggestions'](){const _0x324423=this['editor']['plugins']['get']('TrackChangesEditing'),_0x398688=this['editor']['plugins']['get']('TableUtils'),_0x58c36c=this['editor']['plugins']['get'](Ct)['_acceptFormatSuggestionCallbackFactory']();function _0xe70a8({showActiveMarker:_0x4a4eab=!0x0,setDataAttribute:_0x58c104=!0x0}={}){return(_0x3b3f6f,_0x31cbcf,_0x353111)=>{const {type:_0x92268a,id:_0x201d23}=_0x324423['_splitMarkerName'](_0x31cbcf['markerName']),_0x511dd4=_0x324423['getSuggestion'](_0x201d23),_0x37631c=_0x511dd4['data'];if('formatBlock'!=_0x511dd4['type']||!_0x37631c||'setTableColumnHeader'!=_0x37631c['commandName'])return;if(_0x31cbcf['item'])return void _0x3b3f6f['stop']();if(!_0x353111['consumable']['consume'](_0x31cbcf['markerRange'],_0x3b3f6f['name']))return;const _0x1bdd04=_0x31cbcf['markerRange']['start']['nodeAfter'],_0x52867d=_0x31cbcf['markerRange']['end']['nodeBefore'],_0x289b3b=_0x1bdd04['parent']['parent'],{column:_0x39a61b}=_0x398688['getCellLocation'](_0x1bdd04),{column:_0x4ab019}=_0x398688['getCellLocation'](_0x52867d);for(let _0x9e9d2f=_0x39a61b;_0x9e9d2f<=_0x4ab019;_0x9e9d2f++){const _0x16cefb=_0x398688['createTableWalker'](_0x289b3b,{'column':_0x9e9d2f,'includeAllSlots':!0x1});for(const _0x126826 of _0x16cefb){const _0x3ca576=_0x126826['cell'],_0x1bc218=_0x353111['mapper']['toViewElement'](_0x3ca576);_0x353111['writer']['addClass']('ck-suggestion-marker-'+_0x92268a,_0x1bc218),_0x58c104&&_0x353111['writer']['setAttribute']('data-suggestion',_0x201d23,_0x1bc218),_0x353111['mapper']['bindElementToMarker'](_0x1bc218,_0x31cbcf['markerName']),_0x4a4eab&&(_0x324423['activeMarkers']['includes'](_0x31cbcf['markerName'])?_0x353111['writer']['addClass']('ck-suggestion-marker--active',_0x1bc218):_0x353111['writer']['removeClass']('ck-suggestion-marker--active',_0x1bc218));}}};}_0x324423['_suggestionFactory']['registerCustomCallback']('formatBlock','setTableRowHeader','accept',_0x58c36c),_0x324423['_suggestionFactory']['registerCustomCallback']('formatBlock','setTableColumnHeader','accept',_0x58c36c),this['editor']['editing']['downcastDispatcher']['on']('addMarker:suggestion',_0xe70a8(),{'priority':'highest'}),this['editor']['data']['downcastDispatcher']['on']('addMarker:suggestion',(_0x1eb10e,_0x459ed1,_0x12de65)=>{_0x12de65['options']['showSuggestionHighlights']&&_0xe70a8({'showActiveMarker':!0x1,'setDataAttribute':!0x1})(_0x1eb10e,_0x459ed1,_0x12de65);},{'priority':'highest'}),this['editor']['editing']['downcastDispatcher']['on']('removeMarker:suggestion',(_0x296519,_0xd1dee7,_0x2703ea)=>{const {type:_0x354924,id:_0x139692}=_0x324423['_splitMarkerName'](_0xd1dee7['markerName']),_0x2dc11d=_0x324423['getSuggestion'](_0x139692),_0x529ebf=_0x2dc11d['data'];if('formatBlock'!=_0x2dc11d['type']||!_0x529ebf||'setTableColumnHeader'!=_0x529ebf['commandName'])return;const _0x3bb908=_0x2703ea['mapper']['markerNameToElements'](_0xd1dee7['markerName']);if(_0x3bb908){for(const _0x327858 of _0x3bb908)_0x2703ea['writer']['removeClass']('ck-suggestion-marker-'+_0x354924,_0x327858),_0x2703ea['writer']['removeClass']('ck-suggestion-marker--active',_0x327858),_0x2703ea['writer']['removeAttribute']('data-suggestion',_0x327858),_0x2703ea['mapper']['unbindElementFromMarkerName'](_0x327858,_0xd1dee7['markerName']);}},{'priority':'highest'}),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x2196b6=this['editor'],_0x34e438=_0x2196b6['locale'];function _0x2a3f3b(_0x130eac){return{'type':'format','content':c(_0x34e438,'*Format:*\x20%0',_0x130eac)};}_0x2196b6['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x39f530=>{if('formatBlock'!=_0x39f530['type'])return;const {data:_0x2070dd}=_0x39f530;if(_0x2070dd){if('setTableRowHeader'==_0x2070dd['commandName']){const _0x2d0006=_0x2070dd['commandParams'][0x0]['forceValue'];return _0x2a3f3b(c(_0x34e438,_0x2d0006?'FORMAT_HEADER_ROW':'FORMAT_REGULAR_ROW'));}if('setTableColumnHeader'==_0x2070dd['commandName']){const _0x59a88e=_0x2070dd['commandParams'][0x0]['forceValue'];return _0x2a3f3b(c(_0x34e438,_0x59a88e?'FORMAT_HEADER_COLUMN':'FORMAT_REGULAR_COLUMN'));}}});}}class Ye extends _0x16d8d0{['afterInit'](){const _0x6c8c5b=this['editor'],_0x561dd6=_0x6c8c5b['locale'],_0x596c30=_0x6c8c5b['plugins']['get']('TrackChangesEditing');function _0x2e0316(_0x24789a){return{'type':'format','content':''+c(_0x561dd6,'*Set\x20table\x20type:*\x20%0',_0x24789a)};}_0x6c8c5b['plugins']['has']('TableLayout')&&(_0x596c30['enableCommand']('insertTableLayout'),_0x596c30['enableDefaultAttributesIntegration']('tableType'),_0x596c30['registerBlockAttribute']('tableType'),_0x596c30['descriptionFactory']['registerElementLabel'](_0x377ce1=>_0x377ce1['is']('element','table')&&'layout'===_0x377ce1['getAttribute']('tableType'),_0x1c13f1=>c(_0x561dd6,'ELEMENT_LAYOUT_TABLE',_0x1c13f1)),_0x596c30['descriptionFactory']['registerDescriptionCallback'](_0x46daaa=>{const {data:_0x44562c}=_0x46daaa;if(_0x44562c&&'tableType'==_0x44562c['key'])switch(_0x44562c['newValue']){case'layout':return _0x2e0316(c(_0x561dd6,'ELEMENT_LAYOUT_TABLE'));case'content':return _0x2e0316(c(_0x561dd6,'ELEMENT_CONTENT_TABLE'));}}));}}const Oe=['tableCellBorderWidth','tableCellBorderColor','tableCellBorderStyle','tableCellHorizontalAlignment','tableCellVerticalAlignment','tableCellBackgroundColor','tableCellPadding'],Ue=Object['fromEntries'](Oe['map'](_0x399222=>[_0x399222,null]));class $t extends _0x16d8d0{static get['requires'](){return[Ct];}['afterInit'](){const _0x157a25=this['editor'];if(!_0x157a25['plugins']['has']('TableClipboard'))return;const _0x5805d4=_0x157a25['plugins']['get']('TrackChangesEditing'),_0x2f194c=_0x157a25['plugins']['get']('TableUtils'),_0x2af177=_0x157a25['plugins']['get'](Ct),_0x54afb0=_0x157a25['plugins']['get']('TableClipboard'),_0x40c469=_0x157a25['plugins']['get']('TableSelection'),_0x3e7624=_0x157a25['plugins']['get'](_0x163d70);_0x2af177['_tablePostFixingSubtypes']['push']('tablePasteRow','tablePasteColumn'),_0x157a25['model']['schema']['register']('tableCellSuggestion',{'allowIn':'tableCell','allowContentOf':'tableCell','isLimit':!0x0}),_0x157a25['conversion']['elementToElement']({'model':'tableCellSuggestion','view':'suggestion-td'});let _0x3bc5ab=null,_0x3e79c2=!0x1;_0x3e7624['on']('contentInsertion',(_0x39f22f,_0x1cbc61)=>{_0x3e79c2='paste'===_0x1cbc61['method'];}),_0x157a25['model']['on']('insertContent',(_0x384d07,_0x157d68)=>{if(!_0x3e79c2&&null===_0x40c469['getSelectedTableCells']())return;const [_0x1ba308,_0x1a01c9]=_0x157d68,_0x343892=_0x157d68[_0x157d68['length']-0x1];_0x343892&&_0x343892['forceDefaultExecution']||_0x5805d4['_isForcedDefaultExecutionBlock']||this['editor']['commands']['get']('trackChanges')['value']&&function(_0x33dfb8,_0x3d78a5,_0x53fa29,_0xd79833,_0x5bef8a){if(_0x3d78a5&&!_0x3d78a5['is']('documentSelection'))return!0x1;const _0x21afe5=_0x5bef8a['getTableIfOnlyTableInContent'](_0x33dfb8,_0x53fa29);if(!_0x21afe5||!He(_0x21afe5,void 0x0,_0xd79833))return!0x1;const _0x5410cc=_0xd79833['getSelectionAffectedTableCells'](_0x53fa29['document']['selection']);if(!_0x5410cc['length'])return!0x1;const _0x25d0fe=_0x5410cc[0x0]['findAncestor']('table'),_0x1c42ec=_0xd79833['getRowIndexes'](_0x5410cc),_0x351078=_0xd79833['getColumnIndexes'](_0x5410cc),_0x45d07a={'startRow':_0x1c42ec['first'],'endRow':_0x1c42ec['last'],'startColumn':_0x351078['first'],'endColumn':_0x351078['last']};return 0x1==_0x5410cc['length']&&(_0x45d07a['endRow']+=_0xd79833['getRows'](_0x21afe5)-0x1,_0x45d07a['endColumn']+=_0xd79833['getColumns'](_0x21afe5)-0x1),He(_0x25d0fe,_0x45d07a,_0xd79833);}(_0x1ba308,_0x1a01c9,_0x157a25['model'],_0x2f194c,_0x54afb0)&&(_0x384d07['stop'](),_0x3bc5ab={'cells':[],'insertionRanges':[],'deletionRanges':[],'rowInsertionRanges':[],'rowInsertionIndexes':[],'columnInsertionRanges':[],'columnInsertionIndexes':[]},_0x157a25['model']['change'](()=>{_0x157a25['model']['insertContent'](_0x157d68[0x0],_0x157d68[0x1],_0x157d68[0x2],{'forceDefaultExecution':!0x0});const _0x3811ea=_0x4ae66e(),{rowInsertionRanges:_0x375dae,columnInsertionRanges:_0x1cf07f,insertionRanges:_0x20b464,deletionRanges:_0xdde1c4,cells:_0x16f187}=_0x3bc5ab;_0x375dae['length']&&_0x5805d4['markMultiRangeInsertion'](_0x375dae,'tablePasteRow',{'tablePasteChainId':_0x3811ea}),_0x1cf07f['length']&&_0x5805d4['markMultiRangeInsertion'](_0x1cf07f,'tablePasteColumn',{'tablePasteChainId':_0x3811ea}),_0x20b464['length']&&(_0x5805d4['markMultiRangeInsertion'](_0x20b464,'tablePaste',{'tablePasteChainId':_0x3811ea,'skipNestingCheck':!0x0}),_0x20b464['forEach'](_0x41fd91=>_0x41fd91['detach']?.())),_0xdde1c4['length']&&(_0x5805d4['markMultiRangeDeletion'](_0xdde1c4,'tablePaste',{'tablePasteChainId':_0x3811ea,'skipNestingCheck':!0x0}),_0xdde1c4['forEach'](_0x15ad89=>_0x15ad89['detach']?.()));const _0x396923=_0x5805d4['markMultiRangeBlockFormat'](_0x16f187['map'](({element:_0x5a3173})=>_0x5a3173),{'formatGroupId':_0x4ae66e()},[],'tablePasteCell',{'tablePasteChainId':_0x3811ea});if(_0x396923){const _0x449215=_0x396923['getMarkers'](),_0x17ce05=[];for(const {element:_0x33f24a,attributes:_0x376ac7}of _0x16f187){if(!_0x376ac7)continue;const _0x4c7e38=_0x157a25['model']['createRangeOn'](_0x33f24a),_0x1a077d=_0x449215['find'](_0x598fb0=>_0x598fb0['getRange']()['isEqual'](_0x4c7e38));_0x1a077d&&_0x17ce05['push']([_0x1a077d['name'],_0x376ac7]);}_0x17ce05['length']&&_0x396923['setAttribute']('markerAttributes',Object['fromEntries'](_0x17ce05));}_0x3bc5ab=null;}));},{'priority':_0x252a98['high']+0xa}),_0x3e7624['on']('contentInsertion',()=>{_0x3e79c2=!0x1;},{'priority':'lowest'}),_0x157a25['plugins']['get']('TableClipboard')['on']('_replaceTableSlotCell',(_0x14ca5a,_0x1d532c)=>{const [_0x407775,_0x203afd,,_0x4f0afb]=_0x1d532c;if(!_0x3bc5ab)return;_0x14ca5a['stop']();const _0x131288=_0x407775['cell'],_0x148a00=_0x203afd,_0x3193a2=De(_0x131288),_0xbcdc5=De(_0x148a00);_0x14ca5a['return']=_0x131288;let _0x50df0d=null,_0x4cf94f=null;if(_0xbcdc5||_0x3193a2){if(_0x3193a2&&!_0xbcdc5){_0x4f0afb['remove'](_0x131288['getChild'](0x0));for(const _0x10e701 of Array['from'](_0x148a00['getChildren']()))_0x4f0afb['insert'](_0x10e701,_0x131288,'end');const _0x505902=_0x3bc5ab['rowInsertionIndexes']['includes'](_0x407775['row']),_0x2ee817=_0x3bc5ab['columnInsertionIndexes']['includes'](_0x407775['column']);_0x505902||_0x2ee817||(_0x50df0d=_0x13b424['fromRange'](_0x4f0afb['createRangeIn'](_0x131288)));}else _0xbcdc5&&!_0x3193a2&&(_0x4cf94f=_0x4f0afb['createRangeIn'](_0x131288));}else{const _0x3b7b00=_0x4f0afb['createElement']('tableCellSuggestion'),_0x15ccdf=_0x4f0afb['createElement']('tableCellSuggestion');_0x4f0afb['wrap'](_0x4f0afb['createRangeIn'](_0x131288),_0x15ccdf),_0x4f0afb['insert'](_0x3b7b00,_0x131288,0x0);for(const _0xdc876 of Array['from'](_0x148a00['getChildren']()))_0x4f0afb['insert'](_0xdc876,_0x3b7b00,'end');_0x50df0d=_0x13b424['fromRange'](_0x4f0afb['createRangeOn'](_0x3b7b00)),_0x4cf94f=_0x13b424['fromRange'](_0x4f0afb['createRangeOn'](_0x15ccdf));}const _0x6f2674=Array['from'](_0x148a00['getAttributes']())['filter'](([_0x4ef3ed])=>Oe['includes'](_0x4ef3ed));_0x3bc5ab['cells']['push']({'element':_0x131288,'attributes':_0x6f2674['length']?Object['fromEntries'](_0x6f2674):null}),_0x50df0d&&_0x3bc5ab['insertionRanges']['push'](_0x50df0d),_0x4cf94f&&_0x3bc5ab['deletionRanges']['push'](_0x4cf94f);},{'priority':'high'}),_0x2f194c['on']('insertColumns',(_0x586bd1,_0x5bc780)=>{const [_0xbc7a4b,_0x394d5d={}]=_0x5bc780;if(!_0x3bc5ab)return;const _0x90749d=_0x394d5d['at']||0x0,_0x5c7530=_0x394d5d['columns']||0x1;_0x3bc5ab['columnInsertionIndexes']=new Array(_0x5c7530)['fill'](_0x90749d)['map']((_0x446b07,_0x386c85)=>_0x446b07+_0x386c85);for(const {cell:_0x2147f4}of _0x2f194c['createTableWalker'](_0xbc7a4b,{'startColumn':_0x90749d,'endColumn':_0x90749d+_0x5c7530-0x1}))_0x3bc5ab['columnInsertionRanges']['push'](_0x157a25['model']['createRangeOn'](_0x2147f4));},{'priority':'low'}),_0x2f194c['on']('insertRows',(_0xdde660,_0x2812cf)=>{const [_0x183e78,_0x20aaaa={}]=_0x2812cf;if(!_0x3bc5ab)return;const _0x34a509=_0x20aaaa['at']||0x0,_0x1a85a4=_0x20aaaa['rows']||0x1;_0x3bc5ab['rowInsertionIndexes']=new Array(_0x1a85a4)['fill'](_0x34a509)['map']((_0x5577d8,_0x3c64c5)=>_0x5577d8+_0x3c64c5);for(const {cell:_0x3a54b2}of _0x2f194c['createTableWalker'](_0x183e78,{'startRow':_0x34a509,'endRow':_0x34a509+_0x1a85a4-0x1}))_0x3bc5ab['rowInsertionRanges']['push'](_0x157a25['model']['createRangeOn'](_0x3a54b2));},{'priority':'low'}),_0x5805d4['descriptionFactory']['registerDescriptionCallback'](_0x2db8f7=>{if(_0x2db8f7['subType']&&_0x2db8f7['subType']['startsWith']('tablePaste'))return _0x2db8f7['previous']?{}:{'type':'insertion','content':c(_0x157a25['locale'],'*Replace\x20table\x20cells*')};});const _0x21050c=()=>!0x1;for(const _0xd820bd of['tablePaste','tablePasteColumn','tablePasteRow','tablePasteCell'])_0x5805d4['_suggestionFactory']['registerCustomCallback']('insertion',_0xd820bd,'join',_0x21050c),_0x5805d4['_suggestionFactory']['registerCustomCallback']('deletion',_0xd820bd,'join',_0x21050c),_0x5805d4['_suggestionFactory']['registerCustomCallback']('formatBlock',_0xd820bd,'join',_0x21050c);_0x5805d4['_suggestionFactory']['registerCustomCallback']('formatBlock','tablePasteCell','discard',_0x21050c),_0x5805d4['_suggestionFactory']['registerCustomCallback']('formatBlock','tablePasteCell','accept',(_0x5d8457,_0x3c88a6,_0x37b6d6)=>{const _0x3417bb=_0x5d8457['map'](_0x2ab2da=>_0x2ab2da['getContainedElement']())['filter'](_0x183c7b=>_0x183c7b),_0x39902d=new Map(_0x3417bb['map'](_0x44e1bb=>[_0x44e1bb,null]));if(_0x3bc5ab){for(const {element:_0x456b0a,attributes:_0x46a8c7}of _0x3bc5ab['cells'])_0x46a8c7&&_0x39902d['set'](_0x456b0a,_0x46a8c7);}else{if(_0x37b6d6&&_0x37b6d6['markerAttributes'])for(const [_0x5b53d7,_0x69b626]of Object['entries'](_0x37b6d6['markerAttributes'])){const _0x1ca8e6=_0x157a25['model']['markers']['get'](_0x5b53d7),_0x1a4009=_0x1ca8e6?_0x1ca8e6['getRange']()['getContainedElement']():null;_0x1a4009&&_0x39902d['set'](_0x1a4009,_0x69b626);}}_0x157a25['model']['change'](_0x3b19dc=>{for(const [_0x539a2f,_0x20cc06]of _0x39902d)_0x3b19dc['setAttributes']({...Ue,..._0x20cc06},_0x539a2f);});});const _0x37fff0=(_0x45fb6c,_0x5a4a2a)=>{_0x5805d4['_suggestionFactory']['registerCustomCallback'](_0x45fb6c,'tablePaste',_0x5a4a2a,(_0xc53adc,_0x16480f,_0x5d6b25)=>{_0x157a25['model']['change'](_0x939388=>{const _0x4739e1=[];for(const _0x3b399f of _0xc53adc){const _0x144415=_0x3b399f['start']['nodeAfter'];_0x144415['is']('element','tableCellSuggestion')&&_0x4739e1['push'](_0x144415);}_0x5805d4['_suggestionFactory']['getSuggestionCallback'](_0x45fb6c,null,_0x5a4a2a)(_0xc53adc,_0x16480f,_0x5d6b25);for(const _0x423a4c of _0x4739e1)'$graveyard'!=_0x423a4c['root']['rootName']&&_0x939388['unwrap'](_0x423a4c);});});};_0x37fff0('insertion','accept'),_0x37fff0('insertion','discard'),_0x37fff0('deletion','accept'),_0x37fff0('deletion','discard'),_0x5805d4['_suggestionFactory']['registerCustomCallback']('insertion','tablePasteRow','discard',_0x36157c=>{const _0x1dc12d=_0x36157c['map'](_0x5a2bb6=>_0x5a2bb6['getContainedElement']()),_0x31e5b1=_0x1dc12d[0x0]['findAncestor']('table'),{minRow:_0x3405bd,maxRow:_0x14960f}=_0x2af177['_getCoordsForCells'](_0x1dc12d);_0x2f194c['removeRows'](_0x31e5b1,{'at':_0x3405bd,'rows':_0x14960f-_0x3405bd+0x1});}),_0x5805d4['_suggestionFactory']['registerCustomCallback']('insertion','tablePasteColumn','discard',_0x4aa957=>{const _0x512eba=_0x4aa957['map'](_0x33e8aa=>_0x33e8aa['getContainedElement']()),_0x2a722f=_0x512eba[0x0]['findAncestor']('table'),{minColumn:_0x292893,maxColumn:_0x58293d}=_0x2af177['_getCoordsForCells'](_0x512eba);_0x2f194c['removeColumns'](_0x2a722f,{'at':_0x292893,'columns':_0x58293d-_0x292893+0x1});});const _0x4743be=(_0x55005b,_0x84820f)=>{if(!_0x84820f['subType']||!_0x84820f['subType']['startsWith']('tablePaste'))return;const _0x27cc35=_0x84820f['attributes']['tablePasteChainId'],_0x36af9a=_0x5805d4['getSuggestions']()['filter'](_0x2dd6f1=>_0x2dd6f1['isInContent']&&_0x2dd6f1['attributes']&&_0x2dd6f1['attributes']['tablePasteChainId']==_0x27cc35);_0x36af9a['length']&&_0x84820f['getAllAdjacentSuggestions']()['length']!=_0x36af9a['length']&&_0x36af9a['reduce']((_0x801d9c,_0x3f7b41)=>(_0x801d9c['next']=_0x3f7b41,_0x3f7b41['previous']=_0x801d9c,_0x3f7b41));};function _0x3f7f47(_0x5bd7c3,_0x2c4344=!0x0){const {id:_0x1299d6,authorId:_0x445f5b}=_0x5805d4['_splitMarkerName'](_0x5bd7c3['markerName']),_0x245b04=['ck-suggestion-marker','ck-suggestion-marker-insertion'],_0x20da9c=_0x5805d4['activeMarkers']['includes'](_0x5bd7c3['markerName']);return _0x20da9c&&_0x245b04['push']('ck-suggestion-marker--active'),{'classes':_0x245b04,'attributes':{'data-suggestion':_0x1299d6,'data-author-id':_0x445f5b},'priority':_0x20da9c&&_0x2c4344?0xbc2:0xbb8};}_0x5805d4['on']('suggestionLoaded',_0x4743be,{'priority':'high'}),_0x5805d4['on']('suggestionUnloaded',_0x4743be,{'priority':'high'}),_0x157a25['model']['document']['registerPostFixer'](()=>{let _0x124ab4=!0x1;const _0x1c5a37=Array['from'](_0x157a25['model']['document']['differ']['getChangedMarkers']());for(const {name:_0xec1163,data:_0x2ddd1d}of _0x1c5a37){const {group:_0x35f0c4,type:_0x2769a1,id:_0xd0e4d8}=_0x5805d4['_splitMarkerName'](_0xec1163);if('suggestion'!=_0x35f0c4||'deletion'!=_0x2769a1||_0x2ddd1d['oldRange'])continue;if(!_0x5805d4['hasSuggestion'](_0xd0e4d8))continue;const _0xd0257c=_0x5805d4['getSuggestion'](_0xd0e4d8)['getRanges'](),_0x3ca708=_0x157a25['plugins']['get']('Users')['me'];for(const _0x44ea4a of _0x5805d4['getSuggestions']()){if(!_0x44ea4a['isInContent']||_0x44ea4a['author']!=_0x3ca708)continue;if('formatBlock'!=_0x44ea4a['type']||'tablePasteCell'!=_0x44ea4a['subType'])continue;if(_0x44ea4a['getRanges']()['every'](_0x2bd97e=>_0xd0257c['some'](_0x52f2df=>_0x52f2df['containsRange'](_0x2bd97e,!0x0)))){for(const _0x4d3c51 of _0x44ea4a['getAllAdjacentSuggestions']())_0x4d3c51['isInContent']&&(_0x4d3c51['discard'](),_0x124ab4=!0x0);}}}return _0x124ab4;}),_0x157a25['model']['document']['registerPostFixer'](_0x3376fb=>{const _0x2aca5c=_0x157a25['commands']['get']('redo');if(!_0x2aca5c||!_0x2aca5c['_createdBatches']['has'](_0x3376fb['batch']))return!0x1;let _0x54315d=!0x1;const _0x3cbb60=_0x157a25['plugins']['get']('Users')['me'],_0x40112e=_0x157a25['model']['document']['differ']['getChanges'](),_0x5d0875=Array['from'](_0x157a25['model']['document']['differ']['getChangedMarkers']())['filter'](({name:_0x25602c,data:_0x53454d})=>{const {group:_0x3cb1a8,subType:_0x279030,authorId:_0x18eaed}=_0x5805d4['_splitMarkerName'](_0x25602c);return'suggestion'==_0x3cb1a8&&'tablePaste'==_0x279030&&_0x18eaed==_0x3cbb60['id']&&!_0x53454d['oldRange'];});for(const _0x4c9a1b of _0x40112e){if('insert'!=_0x4c9a1b['type']||'tableCellSuggestion'!=_0x4c9a1b['name']||0x1!=_0x4c9a1b['length'])continue;const _0x36e1fe=_0x3376fb['createRange'](_0x4c9a1b['position'],_0x4c9a1b['position']['getShiftedBy'](0x1));if(!_0x5d0875['find'](({data:_0x56f42f})=>_0x56f42f['newRange']['isEqual'](_0x36e1fe))){for(const {name:_0x247a4c,data:_0x764903}of _0x5d0875)if(_0x36e1fe['containsRange'](_0x764903['newRange'])){_0x3376fb['updateMarker'](_0x247a4c,{'range':_0x36e1fe}),_0x54315d=!0x0;break;}}}return _0x54315d;}),_0x157a25['model']['document']['registerPostFixer'](_0x5b8028=>{let _0x23a282=!0x1;const _0x405fc6=_0x157a25['plugins']['get']('Users')['me'],_0xc4a8ba=_0x5805d4['getSuggestions']()['filter'](_0x16bf84=>_0x16bf84['isInContent']&&_0x16bf84['author']==_0x405fc6),_0x144279=new Set(),_0x38a2c3=new Set();for(const _0xc9246b of _0xc4a8ba)if('tablePaste'==_0xc9246b['subType'])for(const _0x11118c of _0xc9246b['getMarkers']()){const _0x5b080c=_0x11118c['getRange']()['getContainedElement']();if(_0x5b080c){if(_0x5b080c['is']('element','tableCellSuggestion')&&De(_0x5b080c)){_0xc9246b['removeMarker'](_0x11118c['name']),_0x144279['add'](_0x5b080c),_0x23a282=!0x0;const _0x2585b7=_0x5b080c['nextSibling'],_0x5ef8a6=_0x5b080c['previousSibling'],_0x4979f0=_0x2585b7&&_0x2585b7['is']('element','tableCellSuggestion'),_0x317fca=_0x5ef8a6&&_0x5ef8a6['is']('element','tableCellSuggestion');_0x4979f0&&!_0x144279['has'](_0x2585b7)&&_0x38a2c3['add'](_0x2585b7),_0x317fca&&!_0x144279['has'](_0x5ef8a6)&&_0x38a2c3['add'](_0x5ef8a6);}else _0x5b080c['is']('element','paragraph')&&_0x5b080c['isEmpty']&&(_0xc9246b['removeMarker'](_0x11118c['name']),_0x23a282=!0x0);}}else{if('tablePasteCell'==_0xc9246b['subType']){if(!_0xc9246b['attributes']||!_0xc9246b['attributes']['tablePasteChainId'])continue;const _0x2b7ec3=_0xc9246b['attributes']['markerAttributes'];if(_0x2b7ec3&&Object['keys'](_0x2b7ec3)['length'])continue;const _0x11ec10=_0xc9246b['attributes']['tablePasteChainId'];let _0x19d728=!0x0,_0x49a297=!0x0;for(const _0x2379ef of _0xc4a8ba)if(_0x2379ef['subType']&&_0x2379ef['subType']['startsWith']('tablePaste')){if(!_0x2379ef['attributes']['tablePasteChainId']){_0x49a297=!0x1;break;}if(_0x2379ef['id']!=_0xc9246b['id']&&_0x2379ef['attributes']['tablePasteChainId']==_0x11ec10){_0x19d728=!0x1;break;}}_0x49a297&&_0x19d728&&(_0xc9246b['removeMarkers'](),_0x23a282=!0x0);}}for(const _0x4f4c92 of _0x144279)_0x5b8028['remove'](_0x4f4c92);for(const _0x2bcd41 of _0x38a2c3)_0x5b8028['unwrap'](_0x2bcd41);return _0x23a282;}),_0x157a25['conversion']['for']('editingDowncast')['markerToHighlight']({'model':'suggestion:formatBlock:tablePasteCell','view':_0x5ebdd0=>_0x3f7f47(_0x5ebdd0),'converterPriority':'high'}),_0x157a25['conversion']['for']('dataDowncast')['markerToHighlight']({'model':'suggestion:formatBlock:tablePasteCell','view':(_0x2a280a,_0x4304cb)=>_0x4304cb['options']['showSuggestionHighlights']?_0x3f7f47(_0x2a280a,!0x1):null,'converterPriority':'high'});const _0xf41c44=_0x157a25['editing']['view'];this['listenTo'](_0xf41c44['document'],'clipboardOutput',(_0x13293a,_0x1c7ba0)=>{const _0x32fcc3=[];for(const _0x25628d of _0xf41c44['createRangeIn'](_0x1c7ba0['content'])['getItems']())_0x25628d['is']('element','suggestion-td')&&_0x32fcc3['push'](_0x25628d);_0xf41c44['change'](_0x153556=>{for(const _0xfaa853 of _0x32fcc3)_0x153556['move'](_0x153556['createRangeIn'](_0xfaa853),_0x153556['createPositionBefore'](_0xfaa853)),_0x153556['remove'](_0xfaa853);});});}}function De(_0x147400){if(_0x147400['isEmpty'])return!0x0;const _0x1869a8=_0x147400['getChild'](0x0);return _0x1869a8['is']('element','paragraph')&&_0x1869a8['isEmpty'];}function He(_0x31e794,_0x8d164c={},_0x142d2a){for(const {isAnchor:_0x2ca19f,cellHeight:_0x1a1546,cellWidth:_0x358360}of _0x142d2a['createTableWalker'](_0x31e794,{'includeAllSlots':!0x0,..._0x8d164c}))if(!_0x2ca19f||0x1!=_0x1a1546||0x1!=_0x358360)return!0x1;return!0x0;}class Bt extends _0x16d8d0{['afterInit'](){if(!this['editor']['plugins']['has']('TableColumnResizeEditing'))return;const _0x3ecd71=this['editor']['plugins']['get']('TrackChangesEditing');_0x3ecd71['enableCommand']('resizeTableWidth',this['handleResizeTableWidthCommand']['bind'](this)),_0x3ecd71['_suggestionFactory']['registerCustomCallback']('formatBlock','resizeTable','accept',_0x3ecd71['_suggestionFactory']['getSuggestionCallback']('formatBlock',null,'discard')),_0x3ecd71['_suggestionFactory']['registerCustomCallback']('formatBlock','resizeTable','discard',_0x3ecd71['_suggestionFactory']['getSuggestionCallback']('formatBlock',null,'accept')),_0x3ecd71['descriptionFactory']['registerDescriptionCallback'](this['handleSuggestionDescription']['bind'](this));}['handleResizeTableWidthCommand'](_0x50c3e8,_0x89d892){const _0x4fca79=this['editor']['plugins']['get']('TrackChangesEditing'),_0x3c62a8=this['editor']['plugins']['get']('TableColumnResizeEditing'),_0x16938c=_0x89d892['table']||this['editor']['model']['document']['selection']['getSelectedElement']();this['editor']['model']['change'](()=>{const _0x4f3300=_0x3c62a8['getColumnGroupElement'](_0x16938c);let _0x5a9c27=_0x4f3300?_0x3c62a8['getTableColumnsWidths'](_0x4f3300):null,_0x109613=_0x16938c['getAttribute']('tableWidth')||null;const _0x5bdf56=_0x89d892['tableWidth']||_0x109613,_0x160203=_0x89d892['columnWidths']||_0x5a9c27,_0x247452=this['editor']['plugins']['get']('Users')['me'];for(const _0x532c33 of _0x4fca79['getSuggestions']()){const _0x575b69=_0x532c33['getContainedElement']();if('resizeTable'===_0x532c33['subType']&&_0x575b69===_0x16938c){_0x532c33['author']!==_0x247452&&_0x532c33['discard']();const _0x10bef8=_0x532c33['data']['commandParams'];_0x109613=_0x10bef8[0x0]['tableWidth'],_0x5a9c27=_0x10bef8[0x0]['columnWidths'];break;}}_0x50c3e8({'table':_0x16938c,'tableWidth':_0x5bdf56,'columnWidths':_0x160203}),_0x4fca79['markBlockFormat'](_0x16938c,{'commandName':'resizeTableWidth','commandParams':[{'tableWidth':_0x109613,'columnWidths':_0x5a9c27}],'formatGroupId':'resizeTable'},[],'resizeTable');});}['handleSuggestionDescription'](_0xabfa4a){if('formatBlock'!=_0xabfa4a['type']&&'formatInline'!=_0xabfa4a['type'])return;const {data:_0x9f146d}=_0xabfa4a;if(_0x9f146d&&'resizeTable'===_0x9f146d['formatGroupId']){const _0x5c9366='*Format:*\x20resize\x20table';return{'type':'format','content':c(this['editor']['locale'],_0x5c9366)};}}}class xt extends _0x16d8d0{['afterInit'](){const _0x14f108=this['editor'];_0x14f108['plugins']['has']('Template')&&_0x14f108['plugins']['get']('TrackChangesEditing')['enableCommand']('insertTemplate');}}class Ot extends _0x16d8d0{['afterInit'](){const _0x1bbc1b=this['editor'];if(!_0x1bbc1b['commands']['get']('insertTableOfContents'))return;_0x1bbc1b['plugins']['get']('TrackChangesEditing')['enableCommand']('insertTableOfContents');const _0x4f1687=_0x1bbc1b['plugins']['get']('TrackChangesEditing'),_0x56fe27=_0x1bbc1b['locale'];_0x4f1687['descriptionFactory']['registerElementLabel']('tableOfContents',_0x1111cd=>c(_0x56fe27,'ELEMENT_TABLE_OF_CONTENTS',_0x1111cd));}}class Rt extends _0x16d8d0{['afterInit'](){const _0x3b9b59=this['editor'];if(!_0x3b9b59['plugins']['has']('Title'))return;const _0x4b7e4e=_0x3b9b59['plugins']['get']('TrackChangesEditing');_0x4b7e4e['descriptionFactory']['registerElementLabel']('title-content',()=>c(_0x3b9b59['locale'],'ELEMENT_TITLE')),_0x3b9b59['model']['document']['registerPostFixer'](_0x498168=>{let _0x3e1927=!0x1;const _0x3a41b3=Array['from'](_0x3b9b59['model']['document']['differ']['getChangedMarkers']());for(const {name:_0x441c8f,data:_0x11c21e}of _0x3a41b3){const {group:_0x70b7c0}=_0x4b7e4e['_splitMarkerName'](_0x441c8f);if('suggestion'!==_0x70b7c0||!_0x11c21e['newRange'])continue;const _0x7f3dbc=_0x11c21e['newRange'],_0x2ffe5d=_0x7f3dbc['end']['nodeBefore'];if(!_0x2ffe5d||!_0x2ffe5d['is']('element','title-content'))continue;if(!_0x7f3dbc['start']['isTouching'](_0x7f3dbc['end']))continue;const _0x58fec4=_0x3b9b59['model']['schema']['getNearestSelectionRange'](_0x7f3dbc['end'],'forward');if(_0x58fec4&&_0x58fec4['isCollapsed']){const _0x3a08ca=_0x498168['createRange'](_0x7f3dbc['start'],_0x58fec4['start']);_0x3a08ca['isEqual'](_0x7f3dbc)||(_0x498168['updateMarker'](_0x441c8f,{'range':_0x3a08ca}),_0x3e1927=!0x0);}_0x3e1927||(_0x498168['removeMarker'](_0x441c8f),_0x3e1927=!0x0);}return _0x3e1927;});}}class Tt extends _0x16d8d0{['afterInit'](){const _0x32abaf=this['editor'],_0x11bccc=_0x32abaf['plugins']['get']('TrackChangesEditing');_0x32abaf['plugins']['has']('Uploadcare')&&(_0x11bccc['enableCommand']('uploadcare'),_0x32abaf['plugins']['has']('UploadcareImageEdit')&&(_0x11bccc['enableCommand']('uploadcareImageEdit'),_0x11bccc['enableDefaultAttributesIntegration']('uploadcareImageReplace'),_0x11bccc['registerBlockAttribute']('uploadcareImageId'),_0x11bccc['descriptionFactory']['registerDescriptionCallback'](_0x2a1c4b=>{if('attribute'!=_0x2a1c4b['type'])return;const {data:_0x4cd4e1}=_0x2a1c4b;return _0x4cd4e1&&'uploadcareImageId'==_0x4cd4e1['key']?{'type':'format','content':''}:void 0x0;})));}}class Et extends _0x16d8d0{['afterInit'](){const _0x2966fc=this['editor'],_0x47282e=_0x2966fc['plugins']['get']('TrackChangesEditing');_0x2966fc['plugins']['has']('UndoEditing')&&(_0x47282e['enableCommand']('undo'),_0x47282e['enableCommand']('redo'));}}class Ut extends _0x16d8d0{static get['requires'](){return[Ct];}['afterInit'](){const _0x5399e0=this['editor'];if(!_0x5399e0['plugins']['has']('TableCaptionEditing'))return;_0x5399e0['plugins']['get']('TrackChangesEditing')['enableCommand']('toggleTableCaption');}}class Vt extends _0x16d8d0{['tableProperties'];['tableCellProperties'];constructor(_0x35cc13){super(_0x35cc13),this['tableProperties']=['tableBorderColor','tableBorderStyle','tableBorderWidth','tableAlignment','tableWidth','tableHeight','tableBackgroundColor'],this['tableCellProperties']=['tableCellBorderColor','tableCellBorderStyle','tableCellBorderWidth','tableCellPadding','tableCellWidth','tableCellHeight','tableCellBackgroundColor','tableCellHorizontalAlignment','tableCellVerticalAlignment'];}static get['pluginName'](){return'TrackChangesTableProperties';}static get['isOfficialPlugin'](){return!0x0;}static get['isPremiumPlugin'](){return!0x0;}['afterInit'](){const _0x33542d=this['editor']['plugins']['get']('TrackChangesEditing');if(this['editor']['plugins']['has']('TablePropertiesEditing')){for(const _0x10f34a of this['tableProperties'])_0x33542d['enableCommand'](_0x10f34a,(_0x4e4511,_0x388a5e)=>{const _0x3c6399=this['editor']['model']['document']['selection']['getFirstPosition']()['findAncestor']('table');this['_handlePropertyChange'](_0x10f34a,[_0x3c6399],this['tableProperties'],'tableProperties',_0x4e4511,_0x388a5e);});_0x33542d['_suggestionFactory']['registerCustomCallback']('formatBlock','tableProperties','accept',_0x33542d['_suggestionFactory']['getSuggestionCallback']('formatBlock',null,'discard')),_0x33542d['_suggestionFactory']['registerCustomCallback']('formatBlock','tableProperties','discard',(_0x40437d,_0x42fc36)=>this['handleDiscardAction'](this['tableProperties'],_0x40437d,_0x42fc36)),_0x33542d['_suggestionFactory']['registerCustomCallback']('formatBlock','tableProperties','join',()=>!0x1);}if(this['editor']['plugins']['has']('TableCellPropertiesEditing')){for(const _0x3ba6a9 of this['tableCellProperties'])_0x33542d['enableCommand'](_0x3ba6a9,(_0x40ac23,_0x1e6ea0)=>{const _0x29af0b=this['editor']['plugins']['get']('TableUtils')['getSelectionAffectedTableCells'](this['editor']['model']['document']['selection']);this['_handlePropertyChange'](_0x3ba6a9,_0x29af0b,this['tableCellProperties'],'tableCellProperties',_0x40ac23,_0x1e6ea0);});_0x33542d['_suggestionFactory']['registerCustomCallback']('formatBlock','tableCellProperties','accept',_0x33542d['_suggestionFactory']['getSuggestionCallback']('formatBlock',null,'discard')),_0x33542d['_suggestionFactory']['registerCustomCallback']('formatBlock','tableCellProperties','discard',(_0x29a588,_0x348eb1)=>this['handleDiscardAction'](this['tableCellProperties'],_0x29a588,_0x348eb1)),_0x33542d['_suggestionFactory']['registerCustomCallback']('formatBlock','tableCellProperties','join',()=>!0x1);}_0x33542d['descriptionFactory']['registerDescriptionCallback'](_0x3c2132=>this['handleSuggestionDescription'](_0x3c2132));}['_handlePropertyChange'](_0x693dcd,_0x81bf35,_0x466fef,_0x1d572f,_0x26ab84,_0x1bbf49){const _0x355a48=this['editor']['plugins']['get']('TrackChangesEditing');this['editor']['model']['enqueueChange'](_0x1bbf49['batch'],()=>{for(const _0x275ab3 of _0x81bf35){if(this['_getSuggestion'](_0x275ab3,_0x1d572f))_0x26ab84(_0x1bbf49);else{const _0xd1da22={};for(const _0x1720aa of _0x466fef){const _0x474951=_0x275ab3['getAttribute'](_0x1720aa);void 0x0!==_0x474951&&(_0xd1da22[_0x1720aa]=_0x474951);}_0x26ab84(_0x1bbf49),_0x355a48['markBlockFormat'](_0x275ab3,{'commandParams':[_0xd1da22]},[],_0x1d572f);}}});}['handleDiscardAction'](_0x2b19c2,_0x1e08ce,_0x413535){const _0x2b4d7c=_0x1e08ce[0x0]['start']['nodeAfter'],_0x32aa83=_0x413535['commandParams'][0x0];this['editor']['model']['change'](_0x41d9b8=>{for(const _0x3ac8dc of _0x2b19c2)void 0x0!==_0x32aa83[_0x3ac8dc]?_0x41d9b8['setAttribute'](_0x3ac8dc,_0x32aa83[_0x3ac8dc],_0x2b4d7c):_0x41d9b8['removeAttribute'](_0x3ac8dc,_0x2b4d7c);});}['handleSuggestionDescription'](_0x11de15){if(_0x11de15['data'])switch(_0x11de15['subType']){case'tableProperties':return{'type':'format','content':c(this['editor']['locale'],'*Format:*\x20change\x20table\x20properties')};case'tableCellProperties':return{'type':'format','content':c(this['editor']['locale'],'*Format:*\x20change\x20table\x20cell\x20properties')};}}['_getSuggestion'](_0x43b3ba,_0x358369){const _0x524efc=this['editor']['plugins']['get']('TrackChangesEditing');for(const _0x2d3a33 of _0x524efc['getSuggestions']({'skipNotAttached':!0x0})){const _0x7c8d34=_0x2d3a33['getContainedElement']();if(_0x2d3a33['subType']===_0x358369&&_0x7c8d34===_0x43b3ba)return _0x2d3a33;}return null;}}const u='$elementName';class p extends _0x16d8d0{['descriptionFactory'];['trackChangesCommand'];['_adapter'];['_suggestionFactory'];['_suggestions'];['_commentsRepository'];['_enabledCommands'];['_model'];['_suggestionState'];['_isForcedDefaultExecutionBlock'];['_trackFormatChanges'];['_mergeNestedSuggestions'];['_blockAttributeKeys'];['_inlineAttributeKeys'];['_recordAttributeSuggestions']=!0x1;['_trackingSessionId']=null;static get['requires'](){return['CommentsRepository',_0x28be2f,_0x36ed04,U,V,F,G,L,K,J,H,q,z,X,Y,Z,tt,it,et,nt,st,ot,rt,ct,at,ut,ft,ht,lt,Q,wt,gt,W,Se,mt,pt,kt,bt,yt,St,jt,It,At,_t,vt,Ct,Nt,Dt,Ye,Ut,$t,Bt,Ot,Vt,xt,Rt,Tt,Et];}static get['pluginName'](){return'TrackChangesEditing';}static get['isOfficialPlugin'](){return!0x0;}static get['isPremiumPlugin'](){return!0x0;}constructor(_0x22330b){super(_0x22330b),this['set']('activeMarkers',[]),this['on']('change:activeMarkers',(_0x237a42,_0x28e995,_0x389d63,_0x2d48e4)=>{this['_model']['change'](()=>{for(const _0x394622 of[..._0x2d48e4,..._0x389d63])this['_model']['markers']['has'](_0x394622)&&_0x22330b['editing']['reconvertMarker'](_0x394622);});}),this['descriptionFactory']=new f(this['editor']['model']['schema'],this['editor']['locale']),this['_adapter']=null,this['_suggestionFactory']=new Pt(this['editor']),this['_suggestions']=new Map(),this['_commentsRepository']=_0x22330b['plugins']['get']('CommentsRepository'),this['_enabledCommands']=new Set(),this['_model']=this['editor']['model'],this['_suggestionState']=new WeakMap(),this['_isForcedDefaultExecutionBlock']=!0x1,this['_blockAttributeKeys']=new Set([u]),this['_inlineAttributeKeys']=new Set(),_0x22330b['config']['define']('trackChanges.trackFormatChanges','default'),this['_trackFormatChanges']=_0x22330b['config']['get']('trackChanges.trackFormatChanges'),_0x22330b['config']['define']('trackChanges.mergeNestedSuggestions',!0x0),this['_mergeNestedSuggestions']=_0x22330b['config']['get']('trackChanges.mergeNestedSuggestions'),this['trackChangesCommand']=new B(_0x22330b,this['_enabledCommands']),this['_initAriaMarkerChangeAnnouncements']();}['init'](){const _0x433330=this['editor'],_0x1645ae=(_0x1bcd95,_0x1dde6a)=>{if('attribute'!=_0x1bcd95)return'ck-suggestion-marker-'+_0x1bcd95;const _0x3e1b57=_0x1dde6a['split']('|')[0x0];return this['_isBlockAttribute'](_0x3e1b57)?'ck-suggestion-marker-formatBlock':'ck-suggestion-marker-formatInline';};_0x433330['conversion']['for']('editingDowncast')['markerToHighlight']({'model':'suggestion','view':_0x2d1e96=>{const {id:_0x310c91,authorId:_0x625e8b,type:_0x217c22,subType:_0x442c24}=this['_splitMarkerName'](_0x2d1e96['markerName']),_0x4741bc=['ck-suggestion-marker',_0x1645ae(_0x217c22,_0x442c24)];let _0x3a4ecb=0xbb8;return this['activeMarkers']['includes'](_0x2d1e96['markerName'])&&(_0x4741bc['push']('ck-suggestion-marker--active'),_0x3a4ecb=0xbc2),'deletion'==_0x217c22&&(_0x3a4ecb+=0x5),{'classes':_0x4741bc,'attributes':{'data-suggestion':_0x310c91,'data-author-id':_0x625e8b},'priority':_0x3a4ecb};}}),_0x433330['conversion']['for']('dataDowncast')['add'](_0x4ef873=>{_0x4ef873['on']('addMarker:suggestion',(_0x1b24da,_0x5b0aee,_0x4db193)=>{if(!_0x4db193['options']['showSuggestionHighlights'])return;const _0x1c6f40=_0x5b0aee['item'];if(!_0x1c6f40)return;const _0x195f9f=_0x4db193['mapper']['toViewElement'](_0x1c6f40);_0x433330['model']['schema']['isObject'](_0x1c6f40)&&_0x195f9f&&!_0x195f9f['getCustomProperty']('widget')&&_0x195f9f['is']('containerElement')&&_0x491249(_0x195f9f,_0x4db193['writer']);},{'priority':'high'});}),_0x433330['conversion']['for']('dataDowncast')['markerToHighlight']({'model':'suggestion','view':(_0x22493b,_0xce1bcb)=>{if(!_0xce1bcb['options']['showSuggestionHighlights'])return null;const {id:_0x3a2fae,authorId:_0x3050ae,type:_0x31d1df,subType:_0x28d3b6}=this['_splitMarkerName'](_0x22493b['markerName']);return{'classes':['ck-suggestion-marker',_0x1645ae(_0x31d1df,_0x28d3b6)],'priority':0xbb8,'attributes':{'data-suggestion':_0x3a2fae,'data-author-id':_0x3050ae}};}});const _0x30e240=({showActiveMarkers:_0x10b432=!0x0,isAttributeSuggestion:_0x53b2f4=!0x1}={})=>(_0x28a150,_0x2c1b11,_0x23abb1)=>{if(!_0x2c1b11['item'])return;const {id:_0x1c3629,authorId:_0x3301eb}=this['_splitMarkerName'](_0x2c1b11['markerName']);if(_0x53b2f4){const _0x2d9c03=this['_suggestions']['get'](_0x1c3629),_0x21ef0c=this['_getAttributeKey'](_0x2d9c03);if(!this['_isBlockAttribute'](_0x21ef0c))return;}if(_0x2c1b11['item']['is']('selection'))return void _0x23abb1['consumable']['consume'](_0x2c1b11['item'],_0x28a150['name']);const _0x436e68=_0x23abb1['mapper']['toViewElement'](_0x2c1b11['item']);if(_0x2c1b11['item']['is']('element')&&_0x433330['model']['schema']['isBlock'](_0x2c1b11['item'])&&!_0x436e68['getCustomProperty']('addHighlight')){_0x23abb1['writer']['addClass'](['ck-suggestion-marker','ck-suggestion-marker-formatBlock'],_0x436e68),_0x23abb1['writer']['setAttribute']('data-suggestion',_0x1c3629,_0x436e68),_0x23abb1['writer']['setAttribute']('data-author-id',_0x3301eb,_0x436e68),_0x23abb1['mapper']['bindElementToMarker'](_0x436e68,_0x2c1b11['markerName']),_0x10b432&&(this['activeMarkers']['includes'](_0x2c1b11['markerName'])?_0x23abb1['writer']['addClass']('ck-suggestion-marker--active',_0x436e68):_0x23abb1['writer']['removeClass']('ck-suggestion-marker--active',_0x436e68));for(const _0x44f71e of _0x433330['model']['createRangeIn'](_0x2c1b11['item'])['getItems']())_0x23abb1['consumable']['consume'](_0x44f71e,_0x28a150['name']);_0x23abb1['consumable']['consume'](_0x2c1b11['item'],_0x28a150['name']);}};_0x433330['conversion']['for']('dataDowncast')['add'](_0x21cd5e=>{_0x21cd5e['on']('addMarker:suggestion:formatBlock',(_0x1204d7,_0x7f439b,_0x348bcf)=>{_0x348bcf['options']['showSuggestionHighlights']&&_0x30e240({'showActiveMarkers':!0x1})(_0x1204d7,_0x7f439b,_0x348bcf);},{'priority':'highest'});}),_0x433330['conversion']['for']('dataDowncast')['add'](_0x4930c8=>{_0x4930c8['on']('addMarker:suggestion:attribute',(_0x5b1ee1,_0x31ef81,_0x5eec84)=>{_0x5eec84['options']['showSuggestionHighlights']&&_0x30e240({'showActiveMarkers':!0x1,'isAttributeSuggestion':!0x0})(_0x5b1ee1,_0x31ef81,_0x5eec84);},{'priority':'highest'});}),_0x433330['conversion']['for']('dataDowncast')['markerToData']({'model':'suggestion','view':(_0x17b5db,_0x27e7b5)=>{if(_0x27e7b5['options']['showSuggestionHighlights']){const {id:_0x40362a,authorId:_0x2fddf9}=this['_splitMarkerName'](_0x17b5db);return _0x17b5db['includes'](':split')||_0x17b5db['includes'](':merge')?{'group':'suggestion','name':_0x17b5db['substr'](0xb),'attributes':{'data-suggestion':_0x40362a,'data-author-id':_0x2fddf9}}:null;}return{'group':'suggestion','name':_0x17b5db['substr'](0xb)};}}),_0x433330['conversion']['for']('upcast')['elementToElement']({'view':{'name':'suggestion','attributes':{'id':/^\w/,'suggestion-type':/^\w/}},'model':(_0x226c52,{writer:_0xdbe2b2})=>{let _0x8fe826='suggestion:'+_0x226c52['getAttribute']('suggestion-type')+':'+_0x226c52['getAttribute']('id');return _0x226c52['getAttribute']('marker-count')&&(_0x8fe826+=':'+_0x226c52['getAttribute']('marker-count')),_0xdbe2b2['createElement']('$marker',{'data-name':_0x8fe826});}}),_0x433330['conversion']['for']('upcast')['dataToMarker']({'view':'suggestion'}),_0x433330['conversion']['for']('editingDowncast')['add'](_0x493c8a=>{_0x493c8a['on']('addMarker:suggestion:formatBlock',_0x30e240(),{'priority':'high'});}),_0x433330['conversion']['for']('editingDowncast')['add'](_0x498379=>{_0x498379['on']('addMarker:suggestion:attribute',_0x30e240({'isAttributeSuggestion':!0x0}),{'priority':'high'});}),_0x433330['conversion']['for']('editingDowncast')['add'](_0x5ef7ba=>{_0x5ef7ba['on']('removeMarker:suggestion:formatBlock',(_0x3bfe9c,_0x3bf55a,_0x1f958f)=>{const _0x78839d=_0x1f958f['mapper']['markerNameToElements'](_0x3bf55a['markerName']);if(_0x78839d){for(const _0x1096b5 of _0x78839d)_0x1096b5['getCustomProperty']('addHighlight')||(_0x1f958f['writer']['removeClass'](['ck-suggestion-marker','ck-suggestion-marker-formatBlock','ck-suggestion-marker--active'],_0x1096b5),_0x1f958f['writer']['removeAttribute']('data-suggestion',_0x1096b5),_0x1f958f['writer']['removeAttribute']('data-author-id',_0x1096b5),_0x1f958f['mapper']['unbindElementFromMarkerName'](_0x1096b5,_0x3bf55a['markerName']));}},{'priority':'high'});}),_0x433330['conversion']['for']('editingDowncast')['add'](_0xf01197=>{_0xf01197['on']('removeMarker:suggestion:attribute',(_0x482710,_0xd36ae0,_0x6c5472)=>{const _0xeffb38=_0x6c5472['mapper']['markerNameToElements'](_0xd36ae0['markerName']);if(!_0xeffb38)return;const {id:_0x1c1024}=this['_splitMarkerName'](_0xd36ae0['markerName']),_0xbee45d=this['_suggestions']['get'](_0x1c1024),_0x4e68f9=this['_getAttributeKey'](_0xbee45d);if(this['_isBlockAttribute'](_0x4e68f9)){for(const _0x577e74 of _0xeffb38)_0x577e74['getCustomProperty']('addHighlight')||(_0x6c5472['writer']['removeClass'](['ck-suggestion-marker','ck-suggestion-marker-formatBlock','ck-suggestion-marker--active'],_0x577e74),_0x6c5472['writer']['removeAttribute']('data-suggestion',_0x577e74),_0x6c5472['writer']['removeAttribute']('data-author-id',_0x577e74),_0x6c5472['mapper']['unbindElementFromMarkerName'](_0x577e74,_0xd36ae0['markerName']));}},{'priority':'high'});}),_0x433330['model']['document']['registerPostFixer'](_0x5651e4=>{let _0x12a094=!0x1;const _0x468ad3=Array['from'](_0x433330['model']['document']['differ']['getChangedMarkers']()),_0x5b06d3=new Set();for(const {name:_0xb7c9a1,data:_0x53e99d}of _0x468ad3){const {group:_0x350311,type:_0x1cffbe,subType:_0x48cd44,id:_0x1c8cc6}=this['_splitMarkerName'](_0xb7c9a1);if('suggestion'!==_0x350311)continue;const _0x46b639=this['_suggestions']['get'](_0x1c8cc6);if(null!=_0x53e99d['newRange']){'formatInline'==_0x1cffbe&&(_0x12a094=_0x12a094||Jt(_0x53e99d['newRange'],_0xb7c9a1,_0x5651e4,_0x433330['model']['schema']));const _0x2527c4='attribute'==_0x1cffbe&&this['_isBlockAttribute'](_0x48cd44['split']('|')[0x0]);if(_0x53e99d['newRange']['isCollapsed']||'$graveyard'==_0x53e99d['newRange']['root']['rootName']||'formatBlock'==_0x1cffbe&&!Ht(_0x53e99d['newRange'])||_0x2527c4&&!Ht(_0x53e99d['newRange'])||'deletion'==_0x1cffbe&&!qt(_0x53e99d['newRange']))_0x5651e4['removeMarker'](_0xb7c9a1),_0x12a094=!0x0;else{if(!_0x46b639||!_0x46b639['isInContent'])continue;if(_0x53e99d['newRange']&&_0x53e99d['oldRange']&&_0x53e99d['newRange']['isEqual'](_0x53e99d['oldRange']))continue;_0x5b06d3['add'](_0x46b639);}}}return _0x5b06d3['size']>0x0&&(_0x12a094=!!this['_joinWithAdjacentSuggestions'](_0x5b06d3)||_0x12a094),_0x12a094;}),_0x433330['model']['document']['registerPostFixer'](_0x4d55bb=>{let _0x5f4fa6=!0x1;for(const _0x5f536a of _0x433330['model']['document']['differ']['getChanges']())if('insert'==_0x5f536a['type'])for(const _0x341a88 of this['_suggestions']['values']()){if(_0x341a88['isMultiRange']||!_0x341a88['isInContent'])continue;const _0x21de18='formatBlock'==_0x341a88['type'],_0xdb3394=this['_getAttributeKey'](_0x341a88),_0x36d204=_0xdb3394&&this['_isBlockAttribute'](_0xdb3394);if(!_0x21de18&&!_0x36d204)continue;const _0x2fe307=_0x341a88['getFirstRange']();if(_0x2fe307['start']['parent']!=_0x2fe307['end']['parent']&&!_0x2fe307['end']['isAtEnd']){const _0x16bed6=_0x433330['model']['createPositionAt'](_0x2fe307['start']['nodeAfter'],'end'),_0x587f75=_0x433330['model']['createRange'](_0x2fe307['start'],_0x16bed6);_0x4d55bb['updateMarker'](_0x341a88['getFirstMarker'](),{'range':_0x587f75}),_0x5f4fa6=!0x0;}}return _0x5f4fa6;}),_0x433330['model']['document']['registerPostFixer'](_0x1c80ee=>this['_processAttributeChanges'](_0x1c80ee)),_0x433330['model']['document']['registerPostFixer'](_0x12682f=>!_0x12682f['batch']['isLocal']&&this['_processAttributeSuggestions'](_0x12682f)),_0x433330['model']['on']('_afterChanges',()=>{this['_recordAttributeSuggestions']=!0x1;}),_0x433330['model']['document']['on']('change:data',(_0x25e14c,_0x5547fe)=>{if(!_0x5547fe['isLocal']||_0x5547fe['isUndo'])return;if(!this['_recordAttributeSuggestions'])return;const _0x22efdf=_0x433330['model']['document']['differ']['getChanges']();if(0x0==_0x22efdf['length'])return;const _0x46328d=[],_0x193bf8=_0x22efdf['filter'](_0x106f62=>'attribute'==_0x106f62['type']),_0x1e3625=_0x22efdf['filter'](_0x106e07=>'insert'==_0x106e07['type']&&'$text'!=_0x106e07['name']);for(const _0x4e0417 of _0x193bf8)this['_isRegisteredAttribute'](_0x4e0417['attributeKey'])&&_0x46328d['push']({'key':_0x4e0417['attributeKey'],'newValue':_0x4e0417['attributeNewValue'],'oldValue':_0x4e0417['attributeOldValue'],'range':zt(_0x4e0417['range'],_0x433330['model'])});for(const _0x52eef1 of _0x1e3625){if('rename'!=_0x52eef1['action']&&'refresh'!=_0x52eef1['action'])continue;const _0x2b6e6f=Wt(_0x52eef1['position']['nodeAfter'],_0x433330['model']),_0x773989=_0x52eef1['before'];'rename'==_0x52eef1['action']&&_0x46328d['push']({'key':u,'newValue':_0x52eef1['name'],'oldValue':_0x773989['name'],'range':_0x2b6e6f});for(const [_0xc8d2f5,_0x15e9f5]of _0x773989['attributes']){if(!this['_isRegisteredAttribute'](_0xc8d2f5))continue;const _0x26a4cd=_0x52eef1['attributes']['get'](_0xc8d2f5);_0x15e9f5!==_0x26a4cd&&_0x46328d['push']({'key':_0xc8d2f5,'newValue':_0x26a4cd,'oldValue':_0x15e9f5,'range':_0x2b6e6f});}for(const [_0x127022,_0x5576dd]of _0x52eef1['attributes'])this['_isRegisteredAttribute'](_0x127022)&&(_0x773989['attributes']['has'](_0x127022)||_0x46328d['push']({'key':_0x127022,'newValue':_0x5576dd,'oldValue':null,'range':_0x2b6e6f}));}0x0!=_0x46328d['length']&&_0x433330['model']['enqueueChange'](_0x5547fe,_0x2f453e=>{const _0x3069b4=_0x4ae66e();for(const {range:_0x2528b8,key:_0x5d5f29,oldValue:_0x3729fd,newValue:_0x3220c1}of _0x46328d)this['markAttributeChange'](_0x2528b8,_0x5d5f29,_0x3729fd,_0x3220c1,{'groupId':_0x3069b4});this['_reduceExistingSuggestions'](_0x2f453e,_0x46328d);});},{'priority':'lowest'}),_0x433330['model']['markers']['on']('update:suggestion',(_0x82c962,_0x2b1aa6,_0x424b90)=>{if(null==_0x424b90){const {id:_0x39917a}=this['_splitMarkerName'](_0x2b1aa6['name']),_0x432ab3=this['_suggestions']['get'](_0x39917a);_0x432ab3&&_0x432ab3['addMarkerName'](_0x2b1aa6['name']);}}),_0x433330['model']['document']['on']('change:data',()=>{const _0xc64177=Array['from'](_0x433330['model']['document']['differ']['getChangedMarkers']())['filter'](_0x9b26b9=>'suggestion'===this['_splitMarkerName'](_0x9b26b9['name'])['group']);if(0x0===_0xc64177['length'])return;_0xc64177['sort']((_0x2fdd53,_0x1f2c68)=>{const _0x2476ac=_0x2fdd53['data']['oldRange'],_0xa0d678=_0x1f2c68['data']['oldRange'];return null===_0x2476ac&&null===_0xa0d678?0x0:null===_0x2476ac&&null!==_0xa0d678?-0x1:null!==_0x2476ac&&null===_0xa0d678?0x1:_0x2476ac['start']['isBefore'](_0xa0d678['start'])?-0x1:0x1;});const _0x9af353=new Set(),_0x27911e=new Set();for(const {name:_0x48de9a,data:_0x3d9d04}of _0xc64177){const {id:_0x160d2b}=this['_splitMarkerName'](_0x48de9a);if(null===_0x3d9d04['oldRange']){const _0xaaa2b6=this['_handleNewSuggestionMarker'](_0x48de9a);_0x27911e['add'](_0xaaa2b6);}else{const _0x59c9a5=this['_suggestions']['get'](_0x160d2b);null!==_0x3d9d04['newRange']||_0x59c9a5['isInContent']?(_0x9af353['add'](_0x59c9a5['head']),_0x27911e['add'](_0x59c9a5)):this['_removeSuggestion'](_0x59c9a5);}}_0x27911e['size']>0x0&&this['_refreshSuggestionsChain'](_0x27911e);for(const _0x16aa1e of _0x9af353)this['fire']('suggestionChanged',_0x16aa1e);}),_0x433330['model']['on']('applyOperation',(_0x1503bf,_0x5e63bd)=>{const _0x23cb1c=_0x5e63bd[0x0];if(!this['_suggestions']['size'])return;if(!_0x23cb1c['isDocumentOperation'])return;if(_0x23cb1c['batch']['isUndo']||!_0x23cb1c['batch']['isLocal'])return;let _0x5b7938,_0x23c529;switch(_0x23cb1c['type']){case'insert':_0x5b7938=_0x433330['model']['createPositionAt'](_0x23cb1c['position']),_0x23c529=_0x5b7938['getShiftedBy'](_0x23cb1c['howMany']);break;case'split':_0x5b7938=_0x433330['model']['createPositionAt'](_0x23cb1c['splitPosition']),_0x23c529=_0x433330['model']['createPositionAt'](_0x23cb1c['moveTargetPosition']);break;case'move':_0x5b7938=_0x433330['model']['createPositionAt'](_0x23cb1c['targetPosition']),_0x23c529=_0x5b7938['getShiftedBy'](_0x23cb1c['howMany']);break;default:return;}const _0x5d1337=_0x433330['model']['createRange'](_0x5b7938,_0x23c529);_0x433330['model']['change'](()=>{for(const {suggestion:_0xa37024,meta:_0x51295c}of this['_findSuggestions'](_0x5d1337)){if(_0xa37024['isMultiRange'])continue;if('formatInline'==_0xa37024['type'])continue;const _0x408439=this['_getAttributeKey'](_0xa37024);if(_0x408439&&this['_isBlockAttribute'](_0x408439)&&'split'!=_0x23cb1c['type'])continue;const _0x3499e2=_0xa37024['data']&&_0xa37024['data']['multipleBlocks'];('formatBlock'!=_0xa37024['type']||'split'==_0x23cb1c['type']&&!_0x3499e2)&&(_0x51295c['containsRangeInObject']||'insertion'==_0xa37024['type']&&_0x51295c['isOwn']||_0xa37024['getFirstRange']()['containsRange'](_0x5d1337)&&this['_breakSuggestionMarker'](_0xa37024,_0x5b7938,_0x23c529));}});},{'priority':'lowest'}),_0x433330['model']['on']('deleteContent',(_0x5722d5,_0x85f7da)=>{const _0x2892af=_0x85f7da[0x0],_0x20553e=_0x85f7da[0x1];if(_0x20553e&&_0x20553e['forceDefaultExecution'])return;if(this['_isForcedDefaultExecutionBlock'])return;if(!this['trackChangesCommand']['value'])return;if(_0x2892af['isCollapsed'])return;const _0x16dd6f=_0x433330['model']['schema'],{start:_0x18f892,end:_0x120470}=_0x2892af['getFirstRange'](),_0x4ae885=_0x18f892['nodeAfter']&&_0x16dd6f['isLimit'](_0x18f892['nodeAfter'])?null:_0x16dd6f['getNearestSelectionRange'](_0x18f892,'forward'),_0x1eefa0=_0x120470['nodeBefore']&&_0x16dd6f['isLimit'](_0x120470['nodeBefore'])?null:_0x16dd6f['getNearestSelectionRange'](_0x120470,'backward'),_0x15352b=_0x433330['model']['createRange'](_0x4ae885?_0x4ae885['start']:_0x18f892,_0x1eefa0?_0x1eefa0['end']:_0x120470);_0x433330['model']['change'](_0x2b7f12=>{this['markDeletion'](_0x15352b);const _0x532070=_0x433330['model']['schema']['getNearestSelectionRange'](_0x15352b['start']);_0x2892af['is']('documentSelection')?_0x2b7f12['setSelection'](_0x532070):_0x2892af['setTo'](_0x532070);}),_0x5722d5['stop']();},{'priority':_0x252a98['normal']+0xa}),_0x433330['model']['on']('insertContent',(_0x2f4ddc,_0x1cb083)=>{const _0x157a4c=_0x1cb083[_0x1cb083['length']-0x1];_0x157a4c&&_0x157a4c['forceDefaultExecution']||this['_isForcedDefaultExecutionBlock']||this['trackChangesCommand']['value']&&(_0x433330['model']['change'](()=>{let _0x517ec5=_0x433330['model']['insertContent'](_0x1cb083[0x0],_0x1cb083[0x1],_0x1cb083[0x2],{'forceDefaultExecution':!0x0});if(!_0x517ec5)return;_0x2f4ddc['return']=_0x517ec5['clone']();const _0x560005=_0x517ec5['end']['nodeBefore'],_0x38be24=_0x433330['model']['schema'];_0x560005&&_0x38be24['isBlock'](_0x560005)&&!_0x38be24['isObject'](_0x560005)&&(_0x517ec5=_0x433330['model']['createRange'](_0x517ec5['start'],_0x433330['model']['createPositionAt'](_0x560005,'end'))),this['markInsertion'](_0x517ec5);}),_0x2f4ddc['stop']());},{'priority':'high'}),this['editor']['commands']['add']('trackChanges',this['trackChangesCommand']),this['enableCommand']('trackChanges');const _0x543712=new x(_0x433330,this['_suggestions']);_0x433330['commands']['add']('acceptSuggestion',_0x543712),this['enableCommand']('acceptSuggestion');const _0x43c3ed=new O(_0x433330,this['_suggestions']);_0x433330['commands']['add']('discardSuggestion',_0x43c3ed),this['enableCommand']('discardSuggestion'),_0x433330['commands']['add']('acceptAllSuggestions',new R(_0x433330,_0x543712,this['_suggestions'])),this['enableCommand']('acceptAllSuggestions'),_0x433330['commands']['add']('discardAllSuggestions',new R(_0x433330,_0x43c3ed,this['_suggestions'])),this['enableCommand']('discardAllSuggestions'),_0x433330['commands']['add']('acceptSelectedSuggestions',new E(_0x433330,_0x543712,this['_suggestions'])),this['enableCommand']('acceptSelectedSuggestions'),_0x433330['commands']['add']('discardSelectedSuggestions',new E(_0x433330,_0x43c3ed,this['_suggestions'])),this['enableCommand']('discardSelectedSuggestions');const _0x4cff55=_0x433330['plugins']['get']('CommentsRepository');this['listenTo'](_0x4cff55,'addComment',(_0x17e3c7,{threadId:_0x20b14b})=>{const _0x5604df=this['_suggestions']['get'](_0x20b14b);_0x5604df&&_0x5604df['commentThread']&&0x1===_0x5604df['commentThread']['length']&&this['_updateSuggestionData'](_0x20b14b,{'hasComments':!0x0});},{'priority':'low'}),this['listenTo'](_0x4cff55,'removeComment',(_0x4d35ca,{threadId:_0x2a29c0})=>{const _0x13109a=this['_suggestions']['get'](_0x2a29c0);_0x13109a&&_0x13109a['commentThread']&&!_0x13109a['commentThread']['length']&&this['_updateSuggestionData'](_0x2a29c0,{'hasComments':!0x1});},{'priority':'low'});}['afterInit'](){!async function(_0x409e92){const _0x3f8dd2=_0x46f5e7([0x6f,0x71,0x48,0x76,0x44,0x52,0x43,0x56,0x78,0x61,0x39,0x4d,0x4e,0x59,0x74,0x47,0x4a,0x58,0x38,0x45,0x4f,0x68,0x33,0x73,0x6e,0x53,0x34,0x66,0x57,0x49,0x6a,0x4c,0x79,0x5a,0x64,0x41,0x67,0x31,0x70,0x6b,0x46,0x6d,0x75,0x30,0x50,0x65,0x55,0x32,0x37,0x62,0x54,0x7a,0x72,0x6c,0x42,0x63,0x77,0x36,0x69,0x51,0x4b,0x35]),_0x24f86b=0x454c579,_0x4bdb3c=0x453b729^_0x24f86b,_0x4d8963=window[_0x46f5e7([0x44,0x61,0x74,0x65])][_0x46f5e7([0x6e,0x6f,0x77])](),_0x5d7bbb=_0x409e92[_0x46f5e7([0x65,0x64,0x69,0x74,0x6f,0x72])],_0x22b8ed=new window[(_0x46f5e7([0x50,0x72,0x6f,0x6d,0x69,0x73,0x65]))](_0x1e045a=>{_0x5d7bbb[_0x46f5e7([0x6f,0x6e,0x63,0x65])](_0x46f5e7([0x72,0x65,0x61,0x64,0x79]),_0x1e045a);}),_0x5da49f={[_0x46f5e7([0x6b,0x74,0x79])]:_0x46f5e7([0x45,0x43]),[_0x46f5e7([0x75,0x73,0x65])]:_0x46f5e7([0x73,0x69,0x67]),[_0x46f5e7([0x63,0x72,0x76])]:_0x46f5e7([0x50,0x2d,0x32,0x35,0x36]),[_0x46f5e7([0x78])]:_0x46f5e7([0x69,0x43,0x6a,0x4f,0x43,0x76,0x44,0x46,0x49,0x36,0x6c,0x51,0x48,0x48,0x54,0x31,0x38,0x6a,0x56,0x77,0x52,0x66,0x6b,0x66,0x48,0x51,0x32,0x61,0x5f,0x4d,0x79,0x6d,0x54,0x33,0x35,0x4c,0x51,0x56,0x6f,0x46,0x53,0x41,0x49]),[_0x46f5e7([0x79])]:_0x46f5e7([0x6b,0x58,0x49,0x79,0x4a,0x34,0x65,0x76,0x74,0x43,0x45,0x46,0x52,0x6d,0x78,0x4b,0x53,0x55,0x70,0x4b,0x39,0x66,0x44,0x57,0x34,0x35,0x39,0x76,0x58,0x4f,0x76,0x56,0x72,0x68,0x66,0x36,0x75,0x51,0x41,0x65,0x4f,0x69,0x6f]),[_0x46f5e7([0x61,0x6c,0x67])]:_0x46f5e7([0x45,0x53,0x32,0x35,0x36])},_0x269318=_0x5d7bbb[_0x46f5e7([0x63,0x6f,0x6e,0x66,0x69,0x67])][_0x46f5e7([0x67,0x65,0x74])](_0x46f5e7([0x6c,0x69,0x63,0x65,0x6e,0x73,0x65,0x4b,0x65,0x79]));async function _0x325548(){let _0x295862,_0x5b8655=null,_0x1302a6=null;try{if(_0x269318==_0x46f5e7([0x47,0x50,0x4c]))return _0x46f5e7([0x4e,0x6f,0x74,0x41,0x6c,0x6c,0x6f,0x77,0x65,0x64]);if(_0x295862=_0x4deae4(),!_0x295862)return _0x46f5e7([0x49,0x6e,0x76,0x61,0x6c,0x69,0x64]);return _0x295862[_0x46f5e7([0x75,0x73,0x61,0x67,0x65,0x45,0x6e,0x64,0x70,0x6f,0x69,0x6e,0x74])]&&(_0x1302a6=_0x40508a(_0x295862[_0x46f5e7([0x75,0x73,0x61,0x67,0x65,0x45,0x6e,0x64,0x70,0x6f,0x69,0x6e,0x74])],_0x295862[_0x46f5e7([0x6a,0x74,0x69])])),await _0x31a12b()?_0x25c7c8()?_0x1cd546()?_0x46f5e7([0x45,0x78,0x70,0x69,0x72,0x65,0x64]):_0x3749ae()?(_0x295862[_0x46f5e7([0x6c,0x69,0x63,0x65,0x6e,0x73,0x65,0x54,0x79,0x70,0x65])]==_0x46f5e7([0x65,0x76,0x61,0x6c,0x75,0x61,0x74,0x69,0x6f,0x6e])&&(_0x5b8655=_0x5544fe(_0x46f5e7([0x45,0x76,0x61,0x6c,0x75,0x61,0x74,0x69,0x6f,0x6e,0x4c,0x69,0x6d,0x69,0x74]))),_0x295862[_0x46f5e7([0x6c,0x69,0x63,0x65,0x6e,0x73,0x65,0x54,0x79,0x70,0x65])]==_0x46f5e7([0x74,0x72,0x69,0x61,0x6c])&&(_0x5b8655=_0x5544fe(_0x46f5e7([0x54,0x72,0x69,0x61,0x6c,0x4c,0x69,0x6d,0x69,0x74]))),await _0x255e85()):_0x46f5e7([0x44,0x6f,0x6d,0x61,0x69,0x6e,0x4c,0x69,0x6d,0x69,0x74]):_0x46f5e7([0x4e,0x6f,0x74,0x41,0x6c,0x6c,0x6f,0x77,0x65,0x64]):_0x46f5e7([0x49,0x6e,0x76,0x61,0x6c,0x69,0x64]);}catch{return _0x46f5e7([0x49,0x6e,0x76,0x61,0x6c,0x69,0x64]);}function _0x1cd546(){const _0x3fd1f0=[_0x46f5e7([0x65,0x76,0x61,0x6c,0x75,0x61,0x74,0x69,0x6f,0x6e]),_0x46f5e7([0x74,0x72,0x69,0x61,0x6c])][_0x46f5e7([0x69,0x6e,0x63,0x6c,0x75,0x64,0x65,0x73])](_0x295862[_0x46f5e7([0x6c,0x69,0x63,0x65,0x6e,0x73,0x65,0x54,0x79,0x70,0x65])])?_0x4d8963/0x3e8:0xe10*_0x4bdb3c;return _0x295862[_0x46f5e7([0x65,0x78,0x70])]<_0x3fd1f0;}function _0x25c7c8(){const _0x290ae3=_0x295862[_0x46f5e7([0x66,0x65,0x61,0x74,0x75,0x72,0x65,0x73])];if(!_0x290ae3)return!0x1;if(_0x290ae3[_0x46f5e7([0x69,0x6e,0x63,0x6c,0x75,0x64,0x65,0x73])](_0x46f5e7([0x2a])))return!0x0;if(_0x290ae3[_0x46f5e7([0x69,0x6e,0x63,0x6c,0x75,0x64,0x65,0x73])](_0x46f5e7([0x54,0x43])))return!0x0;if(_0x290ae3[_0x46f5e7([0x69,0x6e,0x63,0x6c,0x75,0x64,0x65,0x73])](_0x46f5e7([0x52,0x54,0x43]))){if(_0x1933af())return!0x0;if(_0x3b08cb()||_0x5ba60a())return!0x0;}return!0x1;}function _0x3749ae(){const _0x161671=_0x295862[_0x46f5e7([0x6c,0x69,0x63,0x65,0x6e,0x73,0x65,0x64,0x48,0x6f,0x73,0x74,0x73])];if(!_0x161671||0x0==_0x161671[_0x46f5e7([0x6c,0x65,0x6e,0x67,0x74,0x68])])return!0x0;const {hostname:_0x17a887}=new URL(window[_0x46f5e7([0x6c,0x6f,0x63,0x61,0x74,0x69,0x6f,0x6e])]['href']);if(_0x161671[_0x46f5e7([0x69,0x6e,0x63,0x6c,0x75,0x64,0x65,0x73])](_0x17a887))return!0x0;const _0x3c6120=_0x17a887[_0x46f5e7([0x73,0x70,0x6c,0x69,0x74])](_0x46f5e7([0x2e]));return _0x161671[_0x46f5e7([0x66,0x69,0x6c,0x74,0x65,0x72])](_0xb63f7d=>_0xb63f7d[_0x46f5e7([0x69,0x6e,0x63,0x6c,0x75,0x64,0x65,0x73])](_0x46f5e7([0x2a])))[_0x46f5e7([0x6d,0x61,0x70])](_0x538e53=>_0x538e53[_0x46f5e7([0x73,0x70,0x6c,0x69,0x74])](_0x46f5e7([0x2e])))[_0x46f5e7([0x66,0x69,0x6c,0x74,0x65,0x72])](_0x39696d=>_0x39696d[_0x46f5e7([0x6c,0x65,0x6e,0x67,0x74,0x68])]<=_0x3c6120[_0x46f5e7([0x6c,0x65,0x6e,0x67,0x74,0x68])])[_0x46f5e7([0x6d,0x61,0x70])](_0x43f5cd=>Array(_0x3c6120[_0x46f5e7([0x6c,0x65,0x6e,0x67,0x74,0x68])]-_0x43f5cd[_0x46f5e7([0x6c,0x65,0x6e,0x67,0x74,0x68])])[_0x46f5e7([0x66,0x69,0x6c,0x6c])](_0x43f5cd[0x0]===_0x46f5e7([0x2a])?_0x46f5e7([0x2a]):'')[_0x46f5e7([0x63,0x6f,0x6e,0x63,0x61,0x74])](_0x43f5cd))[_0x46f5e7([0x73,0x6f,0x6d,0x65])](_0x3d4612=>_0x3c6120[_0x46f5e7([0x65,0x76,0x65,0x72,0x79])]((_0x1919f7,_0xed7dc)=>_0x3d4612[_0xed7dc]===_0x1919f7||_0x3d4612[_0xed7dc]===_0x46f5e7([0x2a])));}function _0x255e85(){return _0x5b8655&&_0x1302a6?new window[(_0x46f5e7([0x50,0x72,0x6f,0x6d,0x69,0x73,0x65]))]((_0x208a8d,_0x26cc76)=>{_0x5b8655[_0x46f5e7([0x74,0x68,0x65,0x6e])](_0x208a8d,_0x26cc76),_0x1302a6[_0x46f5e7([0x74,0x68,0x65,0x6e])](_0x45cf72=>{_0x45cf72!=_0x46f5e7([0x56,0x61,0x6c,0x69,0x64])&&_0x208a8d(_0x45cf72);},_0x26cc76);}):_0x5b8655||_0x1302a6||_0x46f5e7([0x56,0x61,0x6c,0x69,0x64]);}}function _0x40508a(_0x14d25c,_0x2e6236){return new window[(_0x46f5e7([0x50,0x72,0x6f,0x6d,0x69,0x73,0x65]))](_0x2eb623=>{if(_0x130aa2())return _0x2eb623(_0x46f5e7([0x56,0x61,0x6c,0x69,0x64]));_0x5208d2(),_0x5d7bbb[_0x46f5e7([0x64,0x65,0x63,0x6f,0x72,0x61,0x74,0x65])](_0x46f5e7([0x5f,0x73,0x65,0x6e,0x64,0x55,0x73,0x61,0x67,0x65,0x52,0x65,0x71,0x75,0x65,0x73,0x74]));let _0x110cbf=!0x1;const _0x3752a5=_0x4ae66e();function _0x3436dd(_0x2876a3){return!!_0x2876a3&&(typeof _0x2876a3===_0x46f5e7([0x6f,0x62,0x6a,0x65,0x63,0x74])||typeof _0x2876a3===_0x46f5e7([0x66,0x75,0x6e,0x63,0x74,0x69,0x6f,0x6e]))&&typeof _0x2876a3[_0x46f5e7([0x74,0x68,0x65,0x6e])]===_0x46f5e7([0x66,0x75,0x6e,0x63,0x74,0x69,0x6f,0x6e])&&typeof _0x2876a3[_0x46f5e7([0x63,0x61,0x74,0x63,0x68])]===_0x46f5e7([0x66,0x75,0x6e,0x63,0x74,0x69,0x6f,0x6e]);}function _0x181c4e(_0x1dbbc5){_0x576aed(_0x1dbbc5)[_0x46f5e7([0x74,0x68,0x65,0x6e])](_0x1144c6=>{if(!_0x1144c6||_0x1144c6[_0x46f5e7([0x73,0x74,0x61,0x74,0x75,0x73])]!=_0x46f5e7([0x6f,0x6b]))return _0x46f5e7([0x55,0x73,0x61,0x67,0x65,0x4c,0x69,0x6d,0x69,0x74]);return _0x5a2eda(_0x358ea2(_0x3752a5+_0x2e6236))!=_0x1144c6[_0x46f5e7([0x76,0x65,0x72,0x69,0x66,0x69,0x63,0x61,0x74,0x69,0x6f,0x6e])]?_0x46f5e7([0x55,0x73,0x61,0x67,0x65,0x4c,0x69,0x6d,0x69,0x74]):_0x46f5e7([0x56,0x61,0x6c,0x69,0x64]);})[_0x46f5e7([0x74,0x68,0x65,0x6e])](_0x22133a=>(_0x3e9c58(),_0x22133a),()=>{const _0x3456b3=_0x1d02e2();return null==_0x3456b3?(_0x3e9c58(),_0x46f5e7([0x56,0x61,0x6c,0x69,0x64])):_0x46f5e7(_0x4d8963-_0x3456b3>(0x20584179^_0x24f86b)?[0x55,0x73,0x61,0x67,0x65,0x4c,0x69,0x6d,0x69,0x74]:[0x56,0x61,0x6c,0x69,0x64]);})[_0x46f5e7([0x74,0x68,0x65,0x6e])](_0x2eb623)[_0x46f5e7([0x63,0x61,0x74,0x63,0x68])](()=>{_0x2eb623(_0x46f5e7([0x55,0x73,0x61,0x67,0x65,0x4c,0x69,0x6d,0x69,0x74]));});const _0x253b2f=0x4622bf9^_0x24f86b;function _0x3e9c58(){const _0x1782c9=_0x46f5e7([0x6c,0x6c,0x63,0x74,0x2d])+_0x5a2eda(_0x358ea2(_0x14d25c)),_0x1a8f69=_0x48298b(_0x5a2eda(window[_0x46f5e7([0x4d,0x61,0x74,0x68])][_0x46f5e7([0x63,0x65,0x69,0x6c])](_0x4d8963/_0x253b2f)));window[_0x46f5e7([0x6c,0x6f,0x63,0x61,0x6c,0x53,0x74,0x6f,0x72,0x61,0x67,0x65])][_0x46f5e7([0x73,0x65,0x74,0x49,0x74,0x65,0x6d])](_0x1782c9,_0x1a8f69);}function _0x1d02e2(){const _0x24caf8=_0x46f5e7([0x6c,0x6c,0x63,0x74,0x2d])+_0x5a2eda(_0x358ea2(_0x14d25c)),_0x2b8f1d=window[_0x46f5e7([0x6c,0x6f,0x63,0x61,0x6c,0x53,0x74,0x6f,0x72,0x61,0x67,0x65])][_0x46f5e7([0x67,0x65,0x74,0x49,0x74,0x65,0x6d])](_0x24caf8);return _0x2b8f1d?window[_0x46f5e7([0x70,0x61,0x72,0x73,0x65,0x49,0x6e,0x74])](_0x48298b(_0x2b8f1d),0x10)*_0x253b2f:null;}function _0x576aed(_0x5a9107){return new window[(_0x46f5e7([0x50,0x72,0x6f,0x6d,0x69,0x73,0x65]))]((_0x3effd2,_0x2176b0)=>{_0x5a9107[_0x46f5e7([0x74,0x68,0x65,0x6e])](_0x3effd2,_0x2176b0),window[_0x46f5e7([0x73,0x65,0x74,0x54,0x69,0x6d,0x65,0x6f,0x75,0x74])](_0x2176b0,0x45511b9^_0x24f86b);});}}_0x5d7bbb[_0x46f5e7([0x6f,0x6e])](_0x46f5e7([0x5f,0x73,0x65,0x6e,0x64,0x55,0x73,0x61,0x67,0x65,0x52,0x65,0x71,0x75,0x65,0x73,0x74]),(_0x266683,_0x195681)=>{if(_0x195681[0x0]!=_0x14d25c)return _0x2eb623(_0x46f5e7([0x55,0x73,0x61,0x67,0x65,0x4c,0x69,0x6d,0x69,0x74]));_0x195681[0x1]={..._0x195681[0x1],[_0x46f5e7([0x72,0x65,0x71,0x75,0x65,0x73,0x74,0x49,0x64])]:_0x3752a5};},{[_0x46f5e7([0x70,0x72,0x69,0x6f,0x72,0x69,0x74,0x79])]:_0x46f5e7([0x68,0x69,0x67,0x68])}),_0x5d7bbb[_0x46f5e7([0x6f,0x6e])](_0x46f5e7([0x5f,0x73,0x65,0x6e,0x64,0x55,0x73,0x61,0x67,0x65,0x52,0x65,0x71,0x75,0x65,0x73,0x74]),_0x294142=>{_0x3436dd(_0x294142[_0x46f5e7([0x72,0x65,0x74,0x75,0x72,0x6e])])&&(_0x110cbf=!0x0,_0x181c4e(_0x294142[_0x46f5e7([0x72,0x65,0x74,0x75,0x72,0x6e])]));},{[_0x46f5e7([0x70,0x72,0x69,0x6f,0x72,0x69,0x74,0x79])]:_0x46f5e7([0x6c,0x6f,0x77])}),_0x22b8ed[_0x46f5e7([0x74,0x68,0x65,0x6e])](()=>{_0x110cbf||_0x2eb623(_0x46f5e7([0x55,0x73,0x61,0x67,0x65,0x4c,0x69,0x6d,0x69,0x74]));});});function _0x130aa2(){return _0x5d7bbb[_0x46f5e7([0x65,0x64,0x69,0x74,0x69,0x6e,0x67])][_0x46f5e7([0x76,0x69,0x65,0x77])][_0x46f5e7([0x5f,0x6f,0x76,0x65,0x72,0x6c,0x61,0x79,0x4d,0x6f,0x64,0x65,0x48,0x69,0x6e,0x74])]==_0x46f5e7([0x61,0x75,0x74,0x6f]);}function _0x5208d2(){_0x5d7bbb[_0x46f5e7([0x65,0x64,0x69,0x74,0x69,0x6e,0x67])][_0x46f5e7([0x76,0x69,0x65,0x77])][_0x46f5e7([0x5f,0x6f,0x76,0x65,0x72,0x6c,0x61,0x79,0x4d,0x6f,0x64,0x65,0x48,0x69,0x6e,0x74])]=_0x46f5e7([0x61,0x75,0x74,0x6f]);}}function _0x5544fe(_0x27b809){const _0x6c50c1=[new window[(_0x46f5e7([0x50,0x72,0x6f,0x6d,0x69,0x73,0x65]))](_0x2ac439=>setTimeout(_0x2ac439,0x45dfbb5^_0x24f86b)),_0x22b8ed[_0x46f5e7([0x74,0x68,0x65,0x6e])](()=>new window[(_0x46f5e7([0x50,0x72,0x6f,0x6d,0x69,0x73,0x65]))](_0x218f42=>{let _0x21b5f9=0x0;_0x5d7bbb[_0x46f5e7([0x6d,0x6f,0x64,0x65,0x6c])][_0x46f5e7([0x6f,0x6e])](_0x46f5e7([0x61,0x70,0x70,0x6c,0x79,0x4f,0x70,0x65,0x72,0x61,0x74,0x69,0x6f,0x6e]),(_0x3e8dbe,_0x2de146)=>{_0x2de146[0x0][_0x46f5e7([0x69,0x73,0x44,0x6f,0x63,0x75,0x6d,0x65,0x6e,0x74,0x4f,0x70,0x65,0x72,0x61,0x74,0x69,0x6f,0x6e])]&&_0x21b5f9++,_0x21b5f9==(0x454c481^_0x24f86b)&&(_0x218f42(),_0x3e8dbe[_0x46f5e7([0x6f,0x66,0x66])]());});}))];return window[_0x46f5e7([0x50,0x72,0x6f,0x6d,0x69,0x73,0x65])][_0x46f5e7([0x72,0x61,0x63,0x65])](_0x6c50c1)[_0x46f5e7([0x74,0x68,0x65,0x6e])](()=>_0x27b809);}async function _0x38a95c(){await _0x22b8ed,_0x5d7bbb[_0x46f5e7([0x6d,0x6f,0x64,0x65,0x6c])][_0x46f5e7([0x63,0x68,0x61,0x6e,0x67,0x65])]=_0x2af2f0,_0x5d7bbb[_0x46f5e7([0x6d,0x6f,0x64,0x65,0x6c])][_0x46f5e7([0x65,0x6e,0x71,0x75,0x65,0x75,0x65,0x43,0x68,0x61,0x6e,0x67,0x65])]=_0x2af2f0,_0x5d7bbb[_0x46f5e7([0x65,0x6e,0x61,0x62,0x6c,0x65,0x52,0x65,0x61,0x64,0x4f,0x6e,0x6c,0x79,0x4d,0x6f,0x64,0x65])](_0x46f5e7([0x6d,0x6f,0x64,0x65,0x6c]));}function _0x1933af(){return _0x44d8dd(_0x46f5e7([0x57,0x65,0x62,0x53,0x6f,0x63,0x6b,0x65,0x74,0x47,0x61,0x74,0x65,0x77,0x61,0x79]))&&_0x341c01(_0x46f5e7([0x57,0x65,0x62,0x53,0x6f,0x63,0x6b,0x65,0x74,0x47,0x61,0x74,0x65,0x77,0x61,0x79]))[_0x46f5e7([0x73,0x74,0x61,0x74,0x65])]==_0x46f5e7([0x63,0x6f,0x6e,0x6e,0x65,0x63,0x74,0x65,0x64]);}function _0x3b08cb(){return _0x44d8dd(_0x46f5e7([0x52,0x65,0x76,0x69,0x73,0x69,0x6f,0x6e,0x56,0x69,0x65,0x77,0x65,0x72,0x49,0x6e,0x74,0x65,0x67,0x72,0x61,0x74,0x69,0x6f,0x6e]));}function _0x5ba60a(){return _0x44d8dd(_0x46f5e7([0x54,0x72,0x61,0x63,0x6b,0x43,0x68,0x61,0x6e,0x67,0x65,0x73,0x44,0x61,0x74,0x61,0x47,0x65,0x74,0x74,0x65,0x72]));}function _0x18e35b(_0x51d142){const _0x13c484=_0x1ddb7d();_0x5d7bbb[_0x13c484]=_0x46f5e7([0x74,0x72,0x61,0x63,0x6b,0x43,0x68,0x61,0x6e,0x67,0x65,0x73,0x4c,0x69,0x63,0x65,0x6e,0x73,0x65,0x4b,0x65,0x79])+_0x51d142,_0x51d142!=_0x46f5e7([0x56,0x61,0x6c,0x69,0x64])&&_0x38a95c();}function _0x1ddb7d(){const _0x4207d2=window[_0x46f5e7([0x53,0x74,0x72,0x69,0x6e,0x67])](window[_0x46f5e7([0x70,0x65,0x72,0x66,0x6f,0x72,0x6d,0x61,0x6e,0x63,0x65])][_0x46f5e7([0x6e,0x6f,0x77])]())[_0x46f5e7([0x72,0x65,0x70,0x6c,0x61,0x63,0x65])](_0x46f5e7([0x2e]),'');let _0x4d7bae=_0x46f5e7([0x6f]);for(let _0x1727af=0x0;_0x1727af<_0x4207d2[_0x46f5e7([0x6c,0x65,0x6e,0x67,0x74,0x68])];_0x1727af+=0x2){let _0x3b9f1b=window[_0x46f5e7([0x70,0x61,0x72,0x73,0x65,0x49,0x6e,0x74])](_0x4207d2[_0x46f5e7([0x73,0x75,0x62,0x73,0x74,0x72,0x69,0x6e,0x67])](_0x1727af,_0x1727af+0x2));_0x3b9f1b>=_0x3f8dd2[_0x46f5e7([0x6c,0x65,0x6e,0x67,0x74,0x68])]&&(_0x3b9f1b-=_0x3f8dd2[_0x46f5e7([0x6c,0x65,0x6e,0x67,0x74,0x68])]),_0x4d7bae+=_0x3f8dd2[_0x3b9f1b];}return _0x4d7bae;}function _0x4deae4(){const _0x50d2f6=_0x269318[_0x46f5e7([0x73,0x70,0x6c,0x69,0x74])](_0x46f5e7([0x2e]));if(0x3!=_0x50d2f6[_0x46f5e7([0x6c,0x65,0x6e,0x67,0x74,0x68])])return null;return _0x3c5713(_0x50d2f6[0x1]);function _0x3c5713(_0x2999bd){const _0x2eb277=_0x270a1d(_0x2999bd);return _0x2eb277&&_0x2e5f78()?_0x2eb277:null;function _0x2e5f78(){const _0x212f38=_0x2eb277[_0x46f5e7([0x6a,0x74,0x69])],_0x4afceb=window[_0x46f5e7([0x70,0x61,0x72,0x73,0x65,0x49,0x6e,0x74])](_0x212f38[_0x46f5e7([0x73,0x75,0x62,0x73,0x74,0x72,0x69,0x6e,0x67])](_0x212f38[_0x46f5e7([0x6c,0x65,0x6e,0x67,0x74,0x68])]-0x8),0x10),_0x2581de={..._0x2eb277,[_0x46f5e7([0x6a,0x74,0x69])]:_0x212f38[_0x46f5e7([0x73,0x75,0x62,0x73,0x74,0x72,0x69,0x6e,0x67])](0x0,_0x212f38[_0x46f5e7([0x6c,0x65,0x6e,0x67,0x74,0x68])]-0x8)};return delete _0x2581de[_0x46f5e7([0x76,0x63])],_0x358ea2(_0x2581de)==_0x4afceb;}}}async function _0x31a12b(){let _0x57160a=!0x0;try{const _0x51f2c1=_0x269318[_0x46f5e7([0x73,0x70,0x6c,0x69,0x74])](_0x46f5e7([0x2e])),[_0x1ff812,_0x42e7a4,_0x40afe4]=_0x51f2c1;return _0x2d607c(_0x1ff812),await _0x5c6a02(_0x1ff812,_0x42e7a4,_0x40afe4),_0x57160a;}catch{return!0x1;}function _0x2d607c(_0x5df950){const _0x4f1ad3=_0x270a1d(_0x5df950);_0x4f1ad3&&_0x4f1ad3[_0x46f5e7([0x61,0x6c,0x67])]==_0x46f5e7([0x45,0x53,0x32,0x35,0x36])||(_0x57160a=!0x1);}async function _0x5c6a02(_0x20f9db,_0x5f1896,_0x439e06){const _0x480283=window[_0x46f5e7([0x55,0x69,0x6e,0x74,0x38,0x41,0x72,0x72,0x61,0x79])][_0x46f5e7([0x66,0x72,0x6f,0x6d])](_0x6f7c0a(_0x439e06),_0x1427cb=>_0x1427cb[_0x46f5e7([0x63,0x68,0x61,0x72,0x43,0x6f,0x64,0x65,0x41,0x74])](0x0)),_0x372f17=new window[(_0x46f5e7([0x54,0x65,0x78,0x74,0x45,0x6e,0x63,0x6f,0x64,0x65,0x72]))]()[_0x46f5e7([0x65,0x6e,0x63,0x6f,0x64,0x65])](_0x20f9db+_0x46f5e7([0x2e])+_0x5f1896),_0x3601ae=window[_0x46f5e7([0x63,0x72,0x79,0x70,0x74,0x6f])][_0x46f5e7([0x73,0x75,0x62,0x74,0x6c,0x65])];if(!_0x3601ae)return;const _0x18bc6b=await _0x3601ae[_0x46f5e7([0x69,0x6d,0x70,0x6f,0x72,0x74,0x4b,0x65,0x79])](_0x46f5e7([0x6a,0x77,0x6b]),_0x5da49f,{[_0x46f5e7([0x6e,0x61,0x6d,0x65])]:_0x46f5e7([0x45,0x43,0x44,0x53,0x41]),[_0x46f5e7([0x6e,0x61,0x6d,0x65,0x64,0x43,0x75,0x72,0x76,0x65])]:_0x46f5e7([0x50,0x2d,0x32,0x35,0x36])},!0x1,[_0x46f5e7([0x76,0x65,0x72,0x69,0x66,0x79])]);await _0x3601ae[_0x46f5e7([0x76,0x65,0x72,0x69,0x66,0x79])]({[_0x46f5e7([0x6e,0x61,0x6d,0x65])]:_0x46f5e7([0x45,0x43,0x44,0x53,0x41]),[_0x46f5e7([0x68,0x61,0x73,0x68])]:{[_0x46f5e7([0x6e,0x61,0x6d,0x65])]:_0x46f5e7([0x53,0x48,0x41,0x2d,0x32,0x35,0x36])}},_0x18bc6b,_0x480283,_0x372f17)||(_0x57160a=!0x1);}}function _0x270a1d(_0x59b330){return _0x59b330[_0x46f5e7([0x73,0x74,0x61,0x72,0x74,0x73,0x57,0x69,0x74,0x68])](_0x46f5e7([0x65,0x79]))?JSON[_0x46f5e7([0x70,0x61,0x72,0x73,0x65])](_0x6f7c0a(_0x59b330)):null;}function _0x6f7c0a(_0x823f82){return window[_0x46f5e7([0x61,0x74,0x6f,0x62])](_0x823f82[_0x46f5e7([0x72,0x65,0x70,0x6c,0x61,0x63,0x65])](/-/g,_0x46f5e7([0x2b]))[_0x46f5e7([0x72,0x65,0x70,0x6c,0x61,0x63,0x65])](/_/g,_0x46f5e7([0x2f])));}function _0x358ea2(_0x1aa3c6){let _0x4ac92a=0x1505;function _0x33379a(_0x82898){for(let _0x52e0b2=0x0;_0x52e0b2<_0x82898[_0x46f5e7([0x6c,0x65,0x6e,0x67,0x74,0x68])];_0x52e0b2++){const _0x505ca1=_0x82898[_0x46f5e7([0x63,0x68,0x61,0x72,0x43,0x6f,0x64,0x65,0x41,0x74])](_0x52e0b2);_0x4ac92a=(_0x4ac92a<<0x5)+_0x4ac92a+_0x505ca1,_0x4ac92a&=_0x4ac92a;}}function _0x7b3ef4(_0x15a15d){Array[_0x46f5e7([0x69,0x73,0x41,0x72,0x72,0x61,0x79])](_0x15a15d)?_0x15a15d[_0x46f5e7([0x66,0x6f,0x72,0x45,0x61,0x63,0x68])](_0x7b3ef4):_0x15a15d&&typeof _0x15a15d==_0x46f5e7([0x6f,0x62,0x6a,0x65,0x63,0x74])?Object[_0x46f5e7([0x65,0x6e,0x74,0x72,0x69,0x65,0x73])](_0x15a15d)[_0x46f5e7([0x73,0x6f,0x72,0x74])]()[_0x46f5e7([0x66,0x6f,0x72,0x45,0x61,0x63,0x68])](([_0x549423,_0x52981e])=>{_0x33379a(_0x549423),_0x7b3ef4(_0x52981e);}):_0x33379a(window[_0x46f5e7([0x53,0x74,0x72,0x69,0x6e,0x67])](_0x15a15d));}return _0x7b3ef4(_0x1aa3c6),_0x4ac92a>>>0x0;}function _0x5a2eda(_0x3458f3){return _0x3458f3[_0x46f5e7([0x74,0x6f,0x53,0x74,0x72,0x69,0x6e,0x67])](0x10)[_0x46f5e7([0x70,0x61,0x64,0x53,0x74,0x61,0x72,0x74])](0x8,_0x46f5e7([0x30]));}function _0x48298b(_0x29a6ca){return _0x29a6ca[_0x46f5e7([0x73,0x70,0x6c,0x69,0x74])]('')[_0x46f5e7([0x72,0x65,0x76,0x65,0x72,0x73,0x65])]()[_0x46f5e7([0x6a,0x6f,0x69,0x6e])]('');}function _0x44d8dd(_0x3118c9){return _0x5d7bbb[_0x46f5e7([0x70,0x6c,0x75,0x67,0x69,0x6e,0x73])][_0x46f5e7([0x68,0x61,0x73])](_0x3118c9);}function _0x341c01(_0x3eaf64){return _0x5d7bbb[_0x46f5e7([0x70,0x6c,0x75,0x67,0x69,0x6e,0x73])][_0x46f5e7([0x67,0x65,0x74])](_0x3eaf64);}function _0x2af2f0(){}function _0x46f5e7(_0x2bc977){return _0x2bc977['map'](_0x3ea80b=>String['fromCharCode'](_0x3ea80b))['join']('');}_0x18e35b(await _0x325548());}(this);}set['adapter'](_0x15cdd4){if(this['_adapter'])throw new _0x5a6152('track-changes-adapter-already-set',this);this['_adapter']=_0x15cdd4;}get['adapter'](){return this['_adapter'];}['getSuggestions']({skipNotAttached:_0x4d2d2e=!0x1,toJSON:_0x2cd7a8=!0x1}={}){const _0x2285f7=[];for(const _0x341c2d of this['_suggestions']['values']())_0x4d2d2e&&!_0x341c2d['isInContent']||_0x2285f7['push'](_0x341c2d);return _0x2cd7a8?_0x2285f7['map'](_0x5d5735=>_0x5d5735['toJSON']()):_0x2285f7;}['getSuggestion'](_0x2f929c){const _0x3e598e=this['_suggestions']['get'](_0x2f929c);if(!_0x3e598e)throw new _0x5a6152('track-changes-suggestion-not-found',this);return _0x3e598e;}['hasSuggestion'](_0x6b6380){return this['_suggestions']['has'](_0x6b6380);}['addSuggestionData'](_0x35665d){const {authorId:_0x274b2b,id:_0x30e71d,originalSuggestionId:_0xe30ef6,attributes:_0x38175d}=_0x35665d,[_0x572bf8,_0x9d8cc7]=_0x35665d['type']['split'](':'),_0x89055e=this['_suggestions']['get'](_0x30e71d)||this['_createSuggestion'](_0x572bf8,_0x9d8cc7,_0x30e71d,_0x274b2b,_0x38175d,_0xe30ef6);if(this['_addThreadToSuggestion'](_0x89055e),this['_checkSuggestionCorrectness'](_0x89055e,_0x572bf8,_0x9d8cc7||null,_0x274b2b),_0x89055e['createdAt']=_0x35665d['createdAt'],_0x89055e['_isDataLoaded']=!0x0,_0x38175d&&_0x38175d['@external']){const _0x3be64d=_0x38175d['@external'],_0x312a09=this['_getExternalAuthor'](_0x3be64d['authorName']);_0x89055e['authoredAt']=_0x3be64d['createdAt'],_0x89055e['author']=_0x312a09,_0x89055e['isExternal']=!0x0;}else _0x89055e['authoredAt']=_0x35665d['createdAt'];switch(_0x35665d['data']&&(_0x89055e['data']=_0x35665d['data']),_0x35665d['attributes']&&(_0x89055e['attributes']=_0x35665d['attributes']),this['_adapter']&&this['_adapter']['addSuggestion']||(_0x89055e['_saved']=!0x0),this['_suggestionState']['get'](_0x89055e)){case'notReady':this['_suggestionState']['set'](_0x89055e,'dataReady');break;case'markerReady':_0x89055e['isInContent']?(this['_joinWithAdjacentSuggestions'](new Set([_0x89055e])),this['_refreshSuggestionsChain'](new Set([_0x89055e])),this['_suggestionState']['set'](_0x89055e,'ready'),this['fire']('suggestionLoaded',_0x89055e)):this['_suggestionState']['set'](_0x89055e,'removed');}return _0x89055e;}['acceptSuggestion'](_0x204f2f){this['forceDefaultExecution'](()=>{this['editor']['model']['change'](()=>{for(const _0x4b66b9 of _0x204f2f['getAllAdjacentSuggestions']())_0x4b66b9['accept']();});});}['discardSuggestion'](_0x528054){this['forceDefaultExecution'](()=>{this['editor']['model']['change'](()=>{for(const _0x427248 of _0x528054['getAllAdjacentSuggestions']())_0x427248['discard']();});});}['enableCommand'](_0x5c01ab,_0x54d907){const _0x411c2a=this['editor']['commands']['get'](_0x5c01ab);if(!_0x411c2a)throw new _0x5a6152('track-changes-command-not-found',this,{'commandName':_0x5c01ab});if(this['_enabledCommands']['has'](_0x411c2a))throw new _0x5a6152('track-changes-enable-command-twice',this,{'commandName':_0x5c01ab});this['_enabledCommands']['add'](_0x411c2a),_0x54d907&&_0x411c2a['on']('execute',(_0x34b86f,_0xc2ae52)=>{this['trackChangesCommand']['value']&&(this['_isForcedDefaultExecutionBlock']||(_0xc2ae52['length']>0x0&&_0xc2ae52[_0xc2ae52['length']-0x1]&&_0xc2ae52[_0xc2ae52['length']-0x1]['forceDefaultExecution']?_0xc2ae52['pop']():(_0x34b86f['return']=_0x54d907((..._0x38d8cc)=>_0x411c2a['execute'](..._0x38d8cc,{'forceDefaultExecution':!0x0}),..._0xc2ae52),_0x34b86f['stop']())));},{'priority':'high'});}['forceDefaultExecution'](_0x140ebb){let _0x38b39b,_0x26dbba;const _0x46ce21=this['_isForcedDefaultExecutionBlock'];this['_isForcedDefaultExecutionBlock']=!0x0;try{_0x38b39b=_0x140ebb();}catch(_0x5eedb4){_0x26dbba=_0x5eedb4;}return _0x46ce21||(this['_isForcedDefaultExecutionBlock']=!0x1),_0x26dbba&&_0x5a6152['rethrowUnexpectedError'](_0x26dbba,this),_0x38b39b;}['markInsertion'](_0x191a76,_0x5bb953=null,_0x16562e={}){if(_0x191a76['isCollapsed'])return null;const _0xe5b106=this['editor']['plugins']['get']('Users')['me'];this['_trackingSessionId']&&(_0x16562e['trackingSessionId']=this['_trackingSessionId']);for(const {suggestion:_0x11204c,meta:_0x5d484f}of this['_findSuggestions'](_0x191a76,'insertion'))if(_0x5d484f['isOwn']){if(!_0x5d484f['isNextTo']){if(_0x5d484f['containsRangeInObject']){if(!this['_mergeNestedSuggestions']||!Yt(_0x11204c,_0x16562e))continue;return _0x11204c;}if(Yt(_0x11204c,_0x16562e))return _0x11204c;this['_breakSuggestionMarker'](_0x11204c,_0x191a76['start'],_0x191a76['end']);break;}if(_0x5bb953==_0x11204c['subType']&&Yt(_0x11204c,_0x16562e)){const _0x296eab=_0x11204c['getFirstRange']();return _0x296eab['start']['isEqual'](_0x191a76['end'])?this['_setSuggestionRange'](_0x11204c,this['_model']['createRange'](_0x191a76['start'],_0x296eab['end'])):this['_setSuggestionRange'](_0x11204c,this['_model']['createRange'](_0x296eab['start'],_0x191a76['end'])),_0x11204c;}}const _0x2aa0b4=_0x4ae66e(),_0xdd759a=_0xe5b106['id'],_0xcca13e=_0x5bb953?'insertion:'+_0x5bb953:'insertion',_0x44da1d=this['_setSuggestionData']({'id':_0x2aa0b4,'type':_0xcca13e,'createdAt':new Date(),'authorId':_0xdd759a,'attributes':_0x16562e});return this['_addSuggestionMarker'](_0xcca13e,_0x2aa0b4,_0xdd759a,_0x191a76),_0x44da1d;}['markMultiRangeInsertion'](_0x565fcb,_0x1d15ff='multi',_0x2400f3={}){const _0x2d15c9=this['editor']['plugins']['get']('Users')['me'],_0xf35388=this['_suggestionFactory']['getSuggestionCallback']('insertion',_0x1d15ff,'join');this['_trackingSessionId']&&(_0x2400f3['trackingSessionId']=this['_trackingSessionId']);for(const _0x37c36f of this['getSuggestions']())if(_0x37c36f['author']['id']==_0x2d15c9['id']&&'insertion'==_0x37c36f['type']&&_0x37c36f['subType']==_0x1d15ff&&Yt(_0x37c36f,_0x2400f3)&&(_0xf35388(_0x37c36f['getRanges'](),_0x565fcb)||_0xf35388(_0x565fcb,_0x37c36f['getRanges']()))){for(const _0x21c9ba of _0x565fcb)_0x37c36f['addRange'](_0x21c9ba);return _0x37c36f;}for(const {suggestion:_0x50db30,meta:_0x155b6f}of this['_findSuggestions'](_0x565fcb,'insertion')){if(!_0x155b6f['isOwn'])continue;if(!this['_mergeNestedSuggestions']&&_0x155b6f['containsRangeInObject'])continue;if(!Yt(_0x50db30,_0x2400f3))continue;let _0x2e599d=!0x0;for(const _0x4227ac of _0x50db30['getRanges']())for(const _0x484188 of _0x565fcb)if(!_0x4227ac['containsRange'](_0x484188)){_0x2e599d=!0x1;break;}if(_0x2e599d)return _0x50db30;}const _0x44ae9b=_0x4ae66e(),_0x4dfeb9=_0x2d15c9['id'],_0x4d5a97='insertion:'+_0x1d15ff,_0x37da70=this['_setSuggestionData']({'id':_0x44ae9b,'type':_0x4d5a97,'createdAt':new Date(),'authorId':_0x4dfeb9,'attributes':_0x2400f3});for(const _0x2ca817 of _0x565fcb)this['_addSuggestionMarker'](_0x4d5a97,_0x44ae9b,_0x4dfeb9,_0x2ca817,o['getMultiRangeId']());return _0x37da70;}['markInlineFormat'](_0x2c5fdd,_0xa13ef7,_0x3686b6=null,_0x4c029d={}){if(_0x3686b6=_0x3686b6||Kt(_0xa13ef7),_0x2c5fdd['isCollapsed'])return null;if(this['_trackingSessionId']&&(_0x4c029d['trackingSessionId']=this['_trackingSessionId']),'never'===this['_trackFormatChanges']){const _0x1ddc3b=this['_suggestionFactory']['getSuggestionCallback']('formatInline',_0x3686b6,'accept');return this['forceDefaultExecution'](()=>_0x1ddc3b([_0x2c5fdd],_0xa13ef7,_0x4c029d)),null;}const _0x43b83f=this['editor']['plugins']['get']('Users')['me'],_0x1e250d=[];if('always'!==this['_trackFormatChanges']){for(const {suggestion:_0x535686,meta:_0x50f27c}of this['_findSuggestions'](_0x2c5fdd,'insertion'))_0x50f27c['isOwn']&&!_0x50f27c['isInsideObject']&&_0x1e250d['push'](..._0x535686['getRanges']());}const _0x3b1823=function(_0x274f5a,_0x579eaa){const _0x557376=[];for(const _0x4e370b of _0x579eaa){const _0x2e19b6=_0x274f5a['getIntersection'](_0x4e370b);_0x2e19b6&&_0x557376['push'](_0x2e19b6);}return _0x557376;}(_0x2c5fdd,_0x1e250d),_0x320cf0=function(_0x15ef90,_0x47b970){const _0x27a3f2=[_0x15ef90];for(const _0x2bc88e of _0x47b970){let _0x283726=0x0;for(;_0x283726<_0x27a3f2['length'];){const _0x718707=_0x27a3f2[_0x283726]['getDifference'](_0x2bc88e);_0x27a3f2['splice'](_0x283726,0x1,..._0x718707),_0x283726+=_0x718707['length'];}}return _0x27a3f2;}(_0x2c5fdd,_0x1e250d);_0x3b1823['length']&&this['_model']['change'](()=>{for(const _0x2416cf of _0x3b1823){const _0xa64961=this['_suggestionFactory']['getSuggestionCallback']('formatInline',_0x3686b6,'accept');this['forceDefaultExecution'](()=>_0xa64961([_0x2416cf],_0xa13ef7,_0x4c029d));}});for(const _0x4566bb of _0x320cf0){let _0x5e9fab=null,_0x982c0f=_0x4566bb['start'],_0x388251=_0x4566bb['end'];for(const {suggestion:_0x134440,meta:_0x27d199}of this['_findSuggestions'](_0x4566bb,'formatInline')){if(!_0x27d199['isOwn'])continue;if(_0x134440['subType']!=_0x3686b6)continue;if(!Yt(_0x134440,_0x4c029d))continue;const _0x1a2760=_0x134440['getFirstRange']();if(_0x1a2760['containsRange'](_0x4566bb,!0x0))return null;_0x982c0f=_0x982c0f['isBefore'](_0x1a2760['start'])?_0x982c0f:_0x1a2760['start'],_0x388251=_0x388251['isAfter'](_0x1a2760['end'])?_0x388251:_0x1a2760['end'],_0x5e9fab?_0x1a2760['start']['isBefore'](_0x5e9fab['getFirstRange']()['start'])?(_0x5e9fab['removeMarkers'](),_0x5e9fab=_0x134440):_0x134440['removeMarkers']():_0x5e9fab=_0x134440;}const _0x2b44f5=this['_model']['createRange'](_0x982c0f,_0x388251);if(_0x5e9fab)this['_setSuggestionRange'](_0x5e9fab,_0x2b44f5);else{const _0x53592e=_0x4ae66e(),_0x4460c1=_0x43b83f['id'];this['_setSuggestionData']({'id':_0x53592e,'type':'formatInline:'+_0x3686b6,'data':_0xa13ef7,'createdAt':new Date(),'authorId':_0x4460c1,'attributes':_0x4c029d}),this['_addSuggestionMarker']('formatInline:'+_0x3686b6,_0x53592e,_0x4460c1,_0x2b44f5);}}return null;}['markBlockFormat'](_0x414be0,_0x2b8b83,_0x2a738d=[],_0x1cc505=null,_0x3e8dca={}){_0x2b8b83['formatGroupId']||(_0x2b8b83['formatGroupId']=_0x2b8b83['commandName']),_0x2b8b83['multipleBlocks']=_0x414be0['is']('range'),_0x1cc505=_0x1cc505||Kt(_0x2b8b83);const _0x199b78=_0x2a738d['map'](_0x49c9a1=>Wt(_0x49c9a1,this['_model'])),_0x43e00a=_0x414be0['is']('range')?_0x414be0:Wt(_0x414be0,this['_model']);if(this['_trackingSessionId']&&(_0x3e8dca['trackingSessionId']=this['_trackingSessionId']),'never'===this['_trackFormatChanges']){const _0x54fed0=this['_suggestionFactory']['getSuggestionCallback']('formatBlock',_0x1cc505,'accept');return this['forceDefaultExecution'](()=>_0x54fed0([_0x43e00a],_0x2b8b83,_0x3e8dca)),null;}_0x199b78['push'](_0x43e00a);let _0x4c9c47=!0x0;for(const _0x1aad99 of _0x199b78)if(!this['_rangeIsInLocalUserInsertion'](_0x1aad99)){_0x4c9c47=!0x1;break;}if(_0x4c9c47&&'always'!==this['_trackFormatChanges']){const _0x3e82d2=this['_suggestionFactory']['getSuggestionCallback']('formatBlock',_0x1cc505,'accept');return this['forceDefaultExecution'](()=>_0x3e82d2([_0x43e00a],_0x2b8b83,_0x3e8dca)),null;}let _0x16583d=null,_0xec6dc5=_0x43e00a['start'],_0x4bf12c=_0x43e00a['end'];for(const {suggestion:_0x1fd9bd,meta:_0x1f9cd2}of this['_findSuggestions'](_0x43e00a,'formatBlock')){if(!_0x1f9cd2['isOwn'])continue;if(_0x1f9cd2['isNextTo']||_0x1f9cd2['containsRangeInObject']||_0x1f9cd2['isInsideObject'])continue;if(_0x1fd9bd['data']['formatGroupId']!=_0x2b8b83['formatGroupId'])continue;if(!Yt(_0x1fd9bd,_0x3e8dca))continue;const _0x1bfb89=_0x1fd9bd['getFirstRange']();if(_0x1fd9bd['subType']==_0x1cc505){if(_0x1bfb89['containsRange'](_0x43e00a,!0x0))return null;_0xec6dc5=_0xec6dc5['isBefore'](_0x1bfb89['start'])?_0xec6dc5:_0x1bfb89['start'],_0x4bf12c=_0x4bf12c['isAfter'](_0x1bfb89['end'])?_0x4bf12c:_0x1bfb89['end'],_0x16583d?_0x1bfb89['start']['isBefore'](_0x16583d['getFirstRange']()['start'])?(_0x16583d['removeMarkers'](),_0x16583d=_0x1fd9bd):_0x1fd9bd['removeMarkers']():_0x16583d=_0x1fd9bd;}else{const _0x4d1ca0=_0x43e00a['getIntersection'](_0x1bfb89);this['_cutOutSuggestionMarker'](_0x1fd9bd,_0x4d1ca0);}}const _0x25bd91=this['editor']['plugins']['get']('Users')['me'],_0x541d32=_0x4ae66e(),_0x566267=_0x25bd91['id'];if(_0x16583d)return this['_setSuggestionRange'](_0x16583d,this['_model']['createRange'](_0xec6dc5,_0x4bf12c)),_0x16583d;{const _0x7015dc=this['_setSuggestionData']({'id':_0x541d32,'type':'formatBlock:'+_0x1cc505,'data':_0x2b8b83,'createdAt':new Date(),'authorId':_0x566267,'attributes':_0x3e8dca});return this['_addSuggestionMarker']('formatBlock:'+_0x1cc505,_0x541d32,_0x566267,this['_model']['createRange'](_0xec6dc5,_0x4bf12c)),_0x7015dc;}}['markMultiRangeBlockFormat'](_0x15ef3c,_0x3063cd,_0x41dbaa=[],_0xea21bb=null,_0x50d4a8={}){_0x3063cd['formatGroupId']||(_0x3063cd['formatGroupId']=_0x3063cd['commandName']);const _0xff0a10=_0x15ef3c[0x0];_0x3063cd['multipleBlocks']=_0xff0a10['is']('range'),_0xea21bb=_0xea21bb||Kt(_0x3063cd);const _0x2104b2=_0x41dbaa['map'](_0x1b3ef0=>Wt(_0x1b3ef0,this['_model'])),_0x4fda2d=_0xff0a10['is']('range')?_0x15ef3c:_0x15ef3c['map'](_0x26be56=>Wt(_0x26be56,this['_model']));if(this['_trackingSessionId']&&(_0x50d4a8['trackingSessionId']=this['_trackingSessionId']),'never'===this['_trackFormatChanges']){const _0x3fc713=this['_suggestionFactory']['getSuggestionCallback']('formatBlock',_0xea21bb,'accept');return this['forceDefaultExecution'](()=>_0x3fc713(_0x4fda2d,_0x3063cd,_0x50d4a8)),null;}_0x2104b2['push'](..._0x4fda2d);let _0x49555a=!0x0;for(const _0x1ad904 of _0x2104b2)if(!this['_rangeIsInLocalUserInsertion'](_0x1ad904)){_0x49555a=!0x1;break;}if(_0x49555a&&'always'!==this['_trackFormatChanges']){const _0x3de0c2=this['_suggestionFactory']['getSuggestionCallback']('formatBlock',_0xea21bb,'accept');return this['forceDefaultExecution'](()=>_0x3de0c2(_0x4fda2d,_0x3063cd,_0x50d4a8)),null;}const _0x488f08=this['editor']['plugins']['get']('Users')['me'];for(const _0xfa5d67 of this['getSuggestions']()){if(_0xfa5d67['author']['id']!=_0x488f08['id'])continue;if('formatBlock'!=_0xfa5d67['type']||_0xfa5d67['data']['formatGroupId']!=_0x3063cd['formatGroupId'])continue;if(!Yt(_0xfa5d67,_0x50d4a8))continue;const _0x1a1172=_0xfa5d67['subType']==_0xea21bb;for(let _0x1d873a=0x0;_0x1d873a<_0x4fda2d['length'];_0x1d873a++){const _0xe71d45=_0x4fda2d[_0x1d873a];for(const _0x117a17 of _0xfa5d67['getMarkers']()){const _0xb7935d=_0x117a17['getRange']();if(_0xe71d45['isEqual'](_0xb7935d)){_0x1a1172?(_0x4fda2d['splice'](_0x1d873a,0x1),_0x1d873a--):_0xfa5d67['removeMarker'](_0x117a17['name']);break;}}}}if(0x0==_0x4fda2d['length'])return null;const _0x52b998=this['_suggestionFactory']['getSuggestionCallback']('formatBlock',_0xea21bb,'join');for(const _0x2d8624 of this['getSuggestions']())if(_0x2d8624['author']['id']==_0x488f08['id']&&'formatBlock'==_0x2d8624['type']&&_0x2d8624['data']['formatGroupId']==_0x3063cd['formatGroupId']&&_0x2d8624['subType']==_0xea21bb&&Yt(_0x2d8624,_0x50d4a8)&&(_0x52b998(_0x2d8624['getRanges'](),_0x4fda2d)||_0x52b998(_0x4fda2d,_0x2d8624['getRanges']()))){for(const _0x115794 of _0x4fda2d)_0x2d8624['addRange'](_0x115794);return _0x2d8624;}const _0xce5e6f=_0x4ae66e(),_0x4c2846=_0x488f08['id'],_0x2c24aa='formatBlock:'+_0xea21bb,_0xe3bf33=this['_setSuggestionData']({'id':_0xce5e6f,'type':_0x2c24aa,'data':_0x3063cd,'createdAt':new Date(),'authorId':_0x4c2846,'attributes':_0x50d4a8});for(const _0x199b36 of _0x4fda2d)this['_addSuggestionMarker'](_0x2c24aa,_0xce5e6f,_0x4c2846,_0x199b36,o['getMultiRangeId']());return _0xe3bf33;}['markDeletion'](_0xbd59e7,_0x162f10=null,_0x5650f5={}){if(_0xbd59e7['isCollapsed'])return null;const _0x135288=this['editor']['plugins']['get']('Users')['me'],_0x4db36f=new _0x13b424(_0xbd59e7['start'],_0xbd59e7['end']);this['_trackingSessionId']&&(_0x5650f5['trackingSessionId']=this['_trackingSessionId']);for(const {suggestion:_0x172d8d,meta:_0x451eed}of this['_findSuggestions'](_0x4db36f,'insertion'))if(_0x451eed['isOwn']&&!_0x451eed['isNextTo']){if(_0x172d8d['isMultiRange']){const _0x356587=_0x172d8d['getRanges']()['filter'](_0x2a201a=>'$graveyard'!=_0x2a201a['root']['rootName']);_0x356587['every'](_0x336897=>_0x4db36f['containsRange'](_0x336897,!0x0))&&_0x172d8d['discard']();if(_0x356587['some'](_0x18228f=>_0x18228f['containsRange'](_0x4db36f,!0x0))){const _0x350dbf=this['_suggestionFactory']['getSuggestionCallback']('deletion',_0x162f10,'accept');return this['forceDefaultExecution'](()=>_0x350dbf([_0x4db36f],null,_0x5650f5)),null;}}else{const _0x3e4943=_0x4db36f['getIntersection'](_0x172d8d['getFirstRange']());null!==_0x3e4943&&_0x172d8d['_onDiscard']([_0x3e4943],null,_0x5650f5);}}if(_0x4db36f['detach'](),_0x4db36f['isCollapsed']||'$graveyard'==_0x4db36f['root']['rootName'])return null;let _0x5c5a17=null,_0x26a9aa=_0x4db36f['start'],_0x20f30f=_0x4db36f['end'];const _0x49b253=this['_findSuggestions'](_0x4db36f,'deletion');for(const {suggestion:_0x58db44,meta:_0x9bab6a}of _0x49b253){const _0x55b1c4=this['_model']['createRange'](_0x26a9aa,_0x20f30f);if(_0x9bab6a['isOwn']&&(this['_mergeNestedSuggestions']||!_0x9bab6a['containsRangeInObject']&&!_0x9bab6a['isInsideObject'])){if(_0x58db44['isMultiRange']){if(!Yt(_0x58db44,_0x5650f5))continue;let _0x25c14f=!0x0;for(const _0x18b284 of _0x58db44['getRanges']()){if(_0x18b284['containsRange'](_0x55b1c4,!0x0))return _0x58db44;_0x55b1c4['containsRange'](_0x18b284)||(_0x25c14f=!0x1);}_0x25c14f&&_0x58db44['discard']();}else{const _0x364e5d=_0x58db44['getFirstRange']();if(_0x364e5d['containsRange'](_0x55b1c4,!0x0))return _0x58db44;if(!Yt(_0x58db44,_0x5650f5)){_0x55b1c4['containsRange'](_0x364e5d)?_0x58db44['removeMarkers']():_0x364e5d['containsPosition'](_0x26a9aa)?_0x26a9aa=_0x364e5d['end']:_0x364e5d['containsPosition'](_0x20f30f)&&(_0x20f30f=_0x364e5d['start']);continue;}_0x26a9aa=_0x26a9aa['isBefore'](_0x364e5d['start'])?_0x26a9aa:_0x364e5d['start'],_0x20f30f=_0x20f30f['isAfter'](_0x364e5d['end'])?_0x20f30f:_0x364e5d['end'],_0x5650f5=Object['assign']({},_0x58db44['attributes']),_0x5c5a17?_0x364e5d['start']['isBefore'](_0x5c5a17['getFirstRange']()['start'])?(_0x5c5a17['removeMarkers'](),_0x5c5a17=_0x58db44):_0x58db44['removeMarkers']():_0x5c5a17=_0x58db44;}}}if(_0x5c5a17)return this['_setSuggestionRange'](_0x5c5a17,this['_model']['createRange'](_0x26a9aa,_0x20f30f)),_0x5c5a17;{const _0x8132=_0x4ae66e(),_0x32e664=this['_model']['createRange'](_0x26a9aa,_0x20f30f),_0x54d2e1=_0x135288['id'],_0x5e7925=_0x162f10?'deletion:'+_0x162f10:'deletion',_0x30e669=this['_setSuggestionData']({'id':_0x8132,'type':_0x5e7925,'createdAt':new Date(),'authorId':_0x54d2e1,'attributes':_0x5650f5});return this['_addSuggestionMarker'](_0x5e7925,_0x8132,_0x54d2e1,_0x32e664),_0x30e669;}}['markMultiRangeDeletion'](_0x3342f3,_0x2a0f09='multi',_0x3175f9={}){const _0x2d8b11=this['editor']['plugins']['get']('Users')['me'],_0x362a99=_0x3342f3['map'](_0x5406a5=>new _0x13b424(_0x5406a5['start'],_0x5406a5['end'])),_0x641014=new Set();this['_trackingSessionId']&&(_0x3175f9['trackingSessionId']=this['_trackingSessionId']);for(const {suggestion:_0x5e1f81,meta:_0x5515ec}of this['_findSuggestions'](_0x362a99,'insertion'))_0x5515ec['isOwn']&&!_0x5515ec['isNextTo']&&_0x641014['add'](_0x5e1f81);for(const _0x25268b of _0x641014)if(_0x25268b['isMultiRange']){const _0x30b824=_0x25268b['getRanges']();(!_0x25268b['attributes']||!_0x25268b['attributes']['skipNestingCheck'])&&(_0x30b824['every'](_0x579d6a=>_0x362a99['some'](_0x124cae=>_0x124cae['containsRange'](_0x579d6a,!0x0)))&&_0x25268b['discard']());if(_0x362a99['every'](_0x5e4d77=>_0x30b824['some'](_0x125943=>_0x125943['containsRange'](_0x5e4d77,!0x0)))){const _0x5f295c=this['_suggestionFactory']['getSuggestionCallback']('deletion',_0x2a0f09,'accept');return this['forceDefaultExecution'](()=>_0x5f295c(_0x3342f3,null,_0x3175f9)),null;}}else{const _0x532c5f=_0x25268b['getFirstRange']();_0x362a99['some'](_0x9adb10=>_0x9adb10['containsRange'](_0x532c5f,!0x0))&&_0x25268b['discard']();if(_0x362a99['every'](_0x4946ca=>_0x532c5f['containsRange'](_0x4946ca,!0x0))){const _0x7b0823=this['_suggestionFactory']['getSuggestionCallback']('deletion',_0x2a0f09,'accept');return this['forceDefaultExecution'](()=>_0x7b0823(_0x362a99,null,_0x3175f9)),null;}}const _0x19a18b=this['_suggestionFactory']['getSuggestionCallback']('deletion',_0x2a0f09,'join');let _0x4868d6=null;for(const _0x47e69a of this['getSuggestions']())if(_0x47e69a['author']['id']==_0x2d8b11['id']&&_0x47e69a['isInContent']&&'deletion'==_0x47e69a['type']&&_0x47e69a['subType']==_0x2a0f09&&Yt(_0x47e69a,_0x3175f9)&&(_0x19a18b(_0x47e69a['getRanges'](),_0x362a99)||_0x19a18b(_0x362a99,_0x47e69a['getRanges']()))){if(_0x4868d6){if(_0x47e69a['commentThread']&&_0x47e69a['commentThread']['length'])continue;for(const _0x48828e of _0x47e69a['getRanges']())_0x4868d6['isIntersectingWithRange'](_0x48828e)||_0x4868d6['addRange'](_0x48828e);_0x47e69a['removeMarkers']();}else{_0x4868d6=_0x47e69a;for(const _0x119915 of _0x362a99)_0x47e69a['isIntersectingWithRange'](_0x119915)||_0x47e69a['addRange'](_0x119915);}}if(_0x4868d6)return _0x4868d6;_0x641014['clear']();for(const {suggestion:_0x252012,meta:_0x341535}of this['_findSuggestions'](_0x362a99,'deletion'))_0x341535['isOwn']&&(this['_mergeNestedSuggestions']||!_0x341535['containsRangeInObject']&&!_0x341535['isInsideObject'])&&Yt(_0x252012,_0x3175f9)&&_0x641014['add'](_0x252012);for(const _0x3d8e9f of _0x641014){const _0x3371bc=_0x3d8e9f['getRanges']();if(!_0x3175f9||!_0x3175f9['skipNestingCheck']){if(_0x362a99['every'](_0x282012=>_0x3371bc['some'](_0x28df39=>_0x28df39['containsRange'](_0x282012,!0x0))))return _0x3d8e9f;}(!_0x3d8e9f['attributes']||!_0x3d8e9f['attributes']['skipNestingCheck'])&&(_0x3371bc['every'](_0x6f7a24=>_0x362a99['some'](_0x557ad7=>_0x557ad7['containsRange'](_0x6f7a24,!0x0)))&&_0x3d8e9f['discard']());}const _0x2995d6=_0x4ae66e(),_0x3ca068=_0x2d8b11['id'],_0x6f1e06='deletion:'+_0x2a0f09,_0x26f7ce=this['_setSuggestionData']({'id':_0x2995d6,'type':_0x6f1e06,'createdAt':new Date(),'authorId':_0x3ca068,'attributes':_0x3175f9});for(const _0xc919cf of _0x362a99)_0xc919cf['detach'](),_0xc919cf['isCollapsed']||'$graveyard'==_0xc919cf['root']['rootName']||this['_addSuggestionMarker'](_0x6f1e06,_0x2995d6,_0x3ca068,_0xc919cf,o['getMultiRangeId']());return _0x26f7ce;}['markAttributeChange'](_0x3c88c5,_0x153606,_0x1827ec,_0x3d933a,_0xc7bb36){if(_0x3c88c5['isCollapsed'])return[];if('never'===this['_trackFormatChanges'])return[];const _0x15b855=this['editor']['plugins']['get']('Users')['me']['id'],_0x38d706=Array['from'](this['_suggestions']['values']())['filter'](_0x4eb801=>'attribute'==_0x4eb801['type']&&_0x4eb801['data']['key']==_0x153606&&_0x4eb801['isIntersectingWithRange'](_0x3c88c5));if(this['_trackingSessionId']&&(_0xc7bb36['trackingSessionId']=this['_trackingSessionId']),'default'===this['_trackFormatChanges']){const _0x217a21=this['_findSuggestions'](_0x3c88c5,'insertion')['filter'](({meta:_0x2893d7})=>_0x2893d7['isOwn']&&!_0x2893d7['isInsideObject']&&!_0x2893d7['isNextTo'])['map'](({suggestion:_0xa1dffe})=>_0xa1dffe);_0x38d706['unshift'](..._0x217a21);}const _0x33f45c=new Map([[_0x3c88c5,_0x1827ec]]);for(const _0x1475cf of _0x38d706){const _0x349f66='attribute'==_0x1475cf['type']?_0x1475cf['data']['oldValue']:void 0x0,_0x1060c0=_0x1475cf['getFirstRange'](),_0x1e9b8a=Array['from'](_0x33f45c['keys']())['find'](_0x252ec0=>_0x252ec0['isIntersecting'](_0x1060c0));if(!_0x1e9b8a)continue;const _0x1107c1=_0x1e9b8a['getDifference'](_0x1060c0);this['_isBlockAttribute'](_0x153606)&&'insertion'==_0x1475cf['type']&&0x0!=_0x1107c1['length']||(_0x33f45c['delete'](_0x1e9b8a),_0x1107c1['forEach'](_0x5e0420=>{_0x33f45c['set'](_0x5e0420,_0x1827ec);}),'insertion'!=_0x1475cf['type']&&_0x349f66!=_0x3d933a&&_0x33f45c['set'](_0x1e9b8a['getIntersection'](_0x1060c0),_0x349f66));}const _0x336c79=[];for(const [_0x599eb3,_0x13daba]of _0x33f45c){const _0x43a65d=_0x4ae66e(),_0x38aacd={'key':_0x153606,'oldValue':_0x13daba,'newValue':_0x3d933a};_0x153606['length']>0x25&&console['warn']('Creating\x20a\x20suggestion\x20for\x20attribute\x20with\x20too\x20long\x20attribute\x20key.\x20This\x20may\x20lead\x20to\x20errors.\x20Change\x20the\x20attribute\x20key\x20to\x20a\x20value\x20shorter\x20than\x2037\x20characters.',{'key':_0x153606});const _0x58af9f=('attribute:'+(_0x153606+'|'+Kt({'newValue':_0x3d933a})))['substring'](0x0,0x3c),_0x4fa5b8=this['_setSuggestionData']({'id':_0x43a65d,'type':_0x58af9f,'data':_0x38aacd,'createdAt':new Date(),'authorId':_0x15b855,'attributes':_0xc7bb36});_0x336c79['push'](_0x4fa5b8),this['_addSuggestionMarker'](_0x58af9f,_0x43a65d,_0x15b855,_0x599eb3);}return _0x336c79;}['enableDefaultAttributesIntegration'](_0x378358){this['enableCommand'](_0x378358,(_0x32a411,..._0x5abe8b)=>{this['_recordAttributeChanges'](()=>{_0x32a411(..._0x5abe8b);});});}['registerBlockAttribute'](_0xd86a1b){this['_blockAttributeKeys']['add'](_0xd86a1b);}['registerInlineAttribute'](_0x22825b){this['_inlineAttributeKeys']['add'](_0x22825b);}['startTrackingSession'](_0xcb71af){return this['_trackingSessionId']=void 0x0!==_0xcb71af?_0xcb71af:_0x4ae66e(),this['_trackingSessionId'];}['_getAttributeKey'](_0x474b56){return'attribute'==_0x474b56['type']?_0x474b56['subType']['split']('|')[0x0]:null;}['_setSuggestionRange'](_0x1bd3f1,_0x19941b){const _0x3e66bb=_0x1bd3f1['getFirstMarker']();this['_model']['change'](_0x4a3d7e=>{_0x4a3d7e['updateMarker'](_0x3e66bb,{'range':_0x19941b});});}['_addThreadToSuggestion'](_0xdc91ad){const _0x564701=_0xdc91ad['id'],_0x3ab612=this['editor']['config']['get']('collaboration.channelId');this['_commentsRepository']['hasCommentThread'](_0x564701)||this['_commentsRepository']['addCommentThread']({'channelId':_0x3ab612,'threadId':_0x564701,'isResolvable':!0x1,'isSubmitted':!0x0});const _0x4ca3d2=this['_commentsRepository']['getCommentThread'](_0x564701);_0x4ca3d2['unbind']('isRemovable'),_0x4ca3d2['isRemovable']=!0x1,_0xdc91ad['commentThread']=_0x4ca3d2;}['_checkSuggestionCorrectness'](_0x5ae8bd,_0x29abcb,_0xabc941,_0x3de333){if(_0x5ae8bd['type']!=_0x29abcb||_0x5ae8bd['subType']!=_0xabc941||_0x5ae8bd['creator']['id']!=_0x3de333)throw this['editor']['enableReadOnlyMode']('track-changes-suggestion-data-mismatch'),new _0x5a6152('track-changes-suggestion-data-mismatch',this);}['_cutOutSuggestionMarker'](_0x58b07a,_0x301766){const _0x3376cf=_0x58b07a['getFirstRange']();if(_0x301766['isEqual'](_0x3376cf))_0x58b07a['removeMarkers']();else{if(_0x3376cf['containsRange'](_0x301766)){const _0x18f9df=this['_model']['createPositionAt'](_0x301766['start']['nodeBefore'],'end');this['_setSuggestionRange'](_0x58b07a,this['_model']['createRange'](_0x3376cf['start'],_0x18f9df));const _0x6aecb=_0x4ae66e(),_0x34e2cb=_0x58b07a['creator']['id'],_0x31fb64=_0x58b07a['type']+':'+_0x58b07a['subType'];this['_setSuggestionData']({'id':_0x6aecb,'type':_0x31fb64,'createdAt':new Date(),'authorId':_0x34e2cb,'data':_0x58b07a['data'],'attributes':_0x58b07a['attributes']});const _0x256df9=this['_model']['createPositionAt'](_0x301766['end']['parent'],'after'),_0x1cf2ec=this['_model']['createRange'](_0x256df9,_0x3376cf['end']);this['_addSuggestionMarker'](_0x31fb64,_0x6aecb,_0x34e2cb,_0x1cf2ec);}else{if(_0x3376cf['containsPosition'](_0x301766['start'])){const _0x1c96f6=this['_model']['createPositionAt'](_0x301766['start']['nodeBefore'],'end');this['_setSuggestionRange'](_0x58b07a,this['_model']['createRange'](_0x3376cf['start'],_0x1c96f6));}else{const _0x36d37a=this['_model']['createPositionAt'](_0x301766['end']['parent'],'after');this['_setSuggestionRange'](_0x58b07a,this['_model']['createRange'](_0x36d37a,_0x3376cf['end']));}}}}['_rangeIsInLocalUserInsertion'](_0x35a072){for(const {suggestion:_0x296a66,meta:_0x457ab3}of this['_findSuggestions'](_0x35a072,'insertion')){if(!_0x457ab3['isOwn'])continue;const _0x245a03=_0x296a66['getRanges']();for(const _0x257642 of _0x245a03)if(!_0x35a072['getDifference'](_0x257642)['length'])return!0x0;}return!0x1;}['_getAuthorFromId'](_0x43ba0c){const _0x2a37e2=this['editor']['plugins']['get']('Users')['getUser'](_0x43ba0c);if(!_0x2a37e2)throw new _0x5a6152('track-changes-user-not-found',this);return _0x2a37e2;}['_getExternalAuthor'](_0x302978){const _0x57b341=this['editor']['plugins']['get']('Users'),_0x1e4159=_0x201abd('external:'+_0x302978),_0x538ad6=_0x57b341['getUser'](_0x1e4159);return _0x538ad6||_0x57b341['addUser']({'id':_0x1e4159,'name':_0x302978});}['_createSuggestion'](_0x4bc54f,_0x2105e7,_0x462738,_0x30bd62,_0x22946f,_0x390084){const _0x1abd89=this['_getAuthorFromId'](_0x30bd62),_0x4d3be2=this['_suggestionFactory']['buildSuggestion'](_0x4bc54f,_0x2105e7,_0x462738,_0x1abd89,_0x22946f,_0x399136=>{this['_updateSuggestionData'](_0x462738,{'attributes':_0x399136});const _0x5538dc=this['getSuggestion'](_0x462738);this['_joinWithAdjacentSuggestions'](new Set([_0x5538dc])),this['_refreshSuggestionsChain'](new Set([_0x5538dc]));},_0x390084);return this['listenTo'](_0x4d3be2,'accept',()=>{this['_updateSuggestionData'](_0x462738,{'state':'accepted'});},{'priority':'high'}),this['listenTo'](_0x4d3be2,'discard',()=>{this['_updateSuggestionData'](_0x462738,{'state':'rejected'});},{'priority':'high'}),this['_suggestions']['set'](_0x462738,_0x4d3be2),this['_suggestionState']['set'](_0x4d3be2,'notReady'),_0x4d3be2;}['_splitMarkerName'](_0x52dab6){const _0x3da3a5=_0x52dab6['split'](':');return{'group':_0x3da3a5[0x0],'type':_0x3da3a5[0x1],'subType':_0x3da3a5['length']>=0x5?_0x3da3a5[0x2]:null,'id':_0x3da3a5['length']<0x5?_0x3da3a5[0x2]:_0x3da3a5[0x3],'authorId':_0x3da3a5['length']<0x5?_0x3da3a5[0x3]:_0x3da3a5[0x4],'markerCount':0x6==_0x3da3a5['length']?_0x3da3a5[0x5]:null};}['_breakSuggestionMarker'](_0x550a09,_0xbe6a0d,_0x50377a){const _0x4f30e8=_0x550a09['getFirstRange'](),_0x1ee4ce=_0x4f30e8['start'],_0x13bb1c=_0x4f30e8['end'];this['_setSuggestionRange'](_0x550a09,this['_model']['createRange'](_0x1ee4ce,_0xbe6a0d));const _0x3999f0=_0x4ae66e(),_0x4cb2a7=_0x550a09['creator']['id'],_0x3a51ed=_0x550a09['type']+(_0x550a09['subType']?':'+_0x550a09['subType']:'');this['_setSuggestionData']({'id':_0x3999f0,'type':_0x3a51ed,'createdAt':new Date(),'authorId':_0x4cb2a7,'originalSuggestionId':_0x550a09['_originalSuggestionId']||_0x550a09['id'],'attributes':_0x550a09['attributes'],'data':_0x550a09['data']});const _0x125af0=this['_getAttributeKey'](_0x550a09);('formatBlock'==_0x550a09['type']||_0x125af0&&this['_isBlockAttribute'](_0x125af0))&&(_0x50377a=this['_model']['createPositionBefore'](_0x50377a['parent'])),this['_addSuggestionMarker'](_0x3a51ed,_0x3999f0,_0x4cb2a7,this['_model']['createRange'](_0x50377a,_0x13bb1c));}['_findSuggestions'](_0x3998ce,_0x198a28=null){const _0x4f2261=[],_0x22c53d=this['editor']['plugins']['get']('Users')['me'];Array['isArray'](_0x3998ce)||(_0x3998ce=[_0x3998ce]);for(const _0x1f33ea of this['getSuggestions']()){if(!_0x1f33ea['isInContent'])continue;if(_0x198a28&&_0x1f33ea['type']!=_0x198a28)continue;let _0x4f3b0d=!0x1;for(const _0x30d1fe of _0x1f33ea['getRanges']()){for(const _0x2bb091 of _0x3998ce){const _0x591fb8=_0x2bb091['start']['isEqual'](_0x30d1fe['end'])||_0x2bb091['end']['isEqual'](_0x30d1fe['start']);if(_0x591fb8||_0x2bb091['getIntersection'](_0x30d1fe)){const _0x3911d2=_0x2bb091['containsRange'](_0x30d1fe)&&Gt(this['_model']['schema'],_0x30d1fe['start'],_0x2bb091),_0x5c775c=_0x30d1fe['containsRange'](_0x2bb091)&&Gt(this['_model']['schema'],_0x2bb091['start'],_0x30d1fe);_0x4f2261['push']({'suggestion':_0x1f33ea,'meta':{'isOwn':_0x22c53d==_0x1f33ea['author'],'isNextTo':_0x591fb8,'isInsideObject':_0x3911d2,'containsRangeInObject':_0x5c775c}}),_0x4f3b0d=!0x0;break;}}if(_0x4f3b0d)break;}}return _0x4f2261;}['_addSuggestionMarker'](_0x47725e,_0x32b745,_0xf9048,_0x38951d,_0xf0ed69){this['_model']['change'](_0x59484d=>{let _0x421caf='suggestion:'+_0x47725e+':'+_0x32b745+':'+_0xf9048;_0xf0ed69&&(_0x421caf=_0x421caf+':'+_0xf0ed69),_0x59484d['addMarker'](_0x421caf,{'range':_0x38951d,'usingOperation':!0x0,'affectsData':!0x0});});}['_removeSuggestion'](_0x170cf1){const _0x136606=_0x170cf1['previous'],_0x303371=_0x170cf1['next'];_0x170cf1['previous']=null,_0x170cf1['next']=null,null!=_0x136606&&_0x136606['next']==_0x170cf1&&(_0x136606['next']=_0x303371),null!=_0x303371&&_0x303371['previous']==_0x170cf1&&(_0x303371['previous']=_0x136606),'ready'==this['_suggestionState']['get'](_0x170cf1)&&(this['_suggestionState']['set'](_0x170cf1,'removed'),this['fire']('suggestionUnloaded',_0x170cf1,_0x136606,_0x303371));}['_setSuggestionData'](_0x36f6eb){const _0x315236=_0x36f6eb['id'],_0x25dcac=this['addSuggestionData'](_0x36f6eb);if(this['_adapter']&&this['_adapter']['addSuggestion']){const _0x352cfd=this['editor']['plugins']['get']('PendingActions'),_0x27a4eb=_0x25dcac['hasComments'],_0x208ee8=_0x25dcac['subType']?_0x25dcac['type']+':'+_0x25dcac['subType']:_0x25dcac['type'],_0x147f63=this['editor']['locale'],_0x301dec=_0x352cfd['add'](c(_0x147f63,'PENDING_ACTION_SUGGESTION')),_0x241909={'id':_0x315236,'type':_0x208ee8,'hasComments':_0x27a4eb,'data':_0x36f6eb['data']||null,'originalSuggestionId':_0x36f6eb['originalSuggestionId']||null,'attributes':_0x25dcac['attributes']};this['_adapter']['addSuggestion'](_0x241909)['then'](_0x1ae11f=>{_0x25dcac['_saved']=!0x0,_0x352cfd['remove'](_0x301dec),_0x1ae11f&&_0x1ae11f['createdAt']&&(this['_suggestions']['get'](_0x315236)['createdAt']=_0x1ae11f['createdAt']);})['catch'](_0xa417db=>{throw _0x594f32('error-saving-suggestion-data-suggestion-discarded'),this['editor']['model']['enqueueChange']({'isUndoable':!0x1},()=>{_0x25dcac['discard']();}),_0x25dcac['stopListening'](),this['_suggestions']['delete'](_0x25dcac['id']),this['_suggestionState']['delete'](_0x25dcac),_0xa417db;});}return _0x25dcac;}['_isBlockAttribute'](_0xe24e60){return this['_blockAttributeKeys']['has'](_0xe24e60);}['_updateSuggestionData'](_0xf8e32a,_0x1ca9b1){const _0x450526=this['editor']['plugins']['get']('PendingActions'),_0x46b62b=this['getSuggestion'](_0xf8e32a);if(this['_adapter']&&this['_adapter']['updateSuggestion']){if(_0x46b62b['_saved']){const _0x9312e=_0x450526['add'](c(this['editor']['locale'],'PENDING_ACTION_SUGGESTION'));this['_adapter']['updateSuggestion'](_0xf8e32a,_0x1ca9b1)['then'](()=>{_0x450526['remove'](_0x9312e);});}else _0x46b62b['on']('change:_saved',()=>{this['_updateSuggestionData'](_0xf8e32a,_0x1ca9b1);});}}['_getSuggestionData'](_0x422d65){if(!this['_adapter']||!this['_adapter']['getSuggestion'])throw new _0x5a6152('track-changes-adapter-missing-getsuggestion',this);return this['_adapter']['getSuggestion'](_0x422d65);}['_handleNewSuggestionMarker'](_0x13661a){const {id:_0x2180bb,type:_0x3a9082,subType:_0x280838,authorId:_0x3f5278}=this['_splitMarkerName'](_0x13661a),_0x41a618=this['_suggestions']['get'](_0x2180bb)||this['_createSuggestion'](_0x3a9082,_0x280838,_0x2180bb,_0x3f5278,{});switch(this['_checkSuggestionCorrectness'](_0x41a618,_0x3a9082,_0x280838,_0x3f5278),this['_suggestionState']['get'](_0x41a618)){case'notReady':this['_getSuggestionData'](_0x2180bb)['then'](_0x400d38=>{let _0x56e86f=Promise['resolve']();_0x400d38['hasComments']&&(_0x56e86f=this['_commentsRepository']['fetchCommentThread']({'channelId':this['editor']['config']['get']('collaboration.channelId'),'threadId':_0x2180bb})),_0x56e86f['then'](()=>{this['addSuggestionData'](_0x400d38)['_saved']=!0x0;});}),this['_suggestionState']['set'](_0x41a618,'markerReady');break;case'removed':this['_updateSuggestionData'](_0x2180bb,{'state':'open'});case'dataReady':this['_suggestionState']['set'](_0x41a618,'ready'),this['fire']('suggestionLoaded',_0x41a618);break;case'ready':this['fire']('suggestionChanged',_0x41a618);}return _0x41a618['addMarkerName'](_0x13661a),_0x41a618;}['_refreshSuggestionsChain'](_0x349189){const _0x486612=Array['from'](_0x349189),_0x1be881=_0x486612['filter'](_0x3efbb4=>'attribute'==_0x3efbb4['type']);this['_refreshAttributeSuggestionsChain'](_0x1be881);const _0x5916fd=_0x486612['filter'](_0x5e377c=>!_0x5e377c['isMultiRange']&&'attribute'!=_0x5e377c['type']),_0x2feebb=this['getSuggestions']({'skipNotAttached':!0x0})['filter'](_0x454d20=>!_0x454d20['isMultiRange']&&'attribute'!=_0x454d20['type']),_0x30ef4d=_0x2feebb['filter'](_0x987600=>!_0x349189['has'](_0x987600)),_0x492553=new Map(_0x2feebb['map'](_0x5ae38f=>[_0x5ae38f,this['_suggestionFactory']['getSuggestionCallback'](_0x5ae38f['type'],_0x5ae38f['subType'],'chain')])),_0x1f6afd=new Map(_0x2feebb['map'](_0x2716ed=>[_0x2716ed,_0x2716ed['getFirstRange']()])),_0x5b6ce9=new Set(),_0x330f21=new Set();for(let _0x2117d9=0x0;_0x2117d9<_0x5916fd['length'];_0x2117d9++)_0x25671b(_0x5916fd[_0x2117d9],_0x5916fd,_0x2117d9+0x1);for(let _0x14bfae=0x0;_0x14bfae<_0x5916fd['length'];_0x14bfae++)_0x25671b(_0x5916fd[_0x14bfae],_0x30ef4d,0x0);const _0x41d317=new Set();for(let _0xaa749e=0x0;_0xaa749e<_0x5916fd['length'];_0xaa749e++){const _0x1b7668=_0x5916fd[_0xaa749e];!_0x330f21['has'](_0x1b7668)&&_0x1b7668['previous']&&(_0x41d317['add'](_0x1b7668['previous']),_0x1b7668['previous']['next']===_0x1b7668&&(_0x1b7668['previous']['next']=null),_0x1b7668['previous']=null),!_0x5b6ce9['has'](_0x1b7668)&&_0x1b7668['next']&&(_0x41d317['add'](_0x1b7668['next']),_0x1b7668['next']['previous']===_0x1b7668&&(_0x1b7668['next']['previous']=null),_0x1b7668['next']=null);}function _0x25671b(_0x33723b,_0x1692e5,_0x2fe1a1){for(let _0x461406=_0x2fe1a1;_0x461406<_0x1692e5['length'];_0x461406++){const _0x1d2cd5=_0x294fb1(_0x33723b,_0x1692e5[_0x461406]);_0x1d2cd5&&(_0x1d2cd5[0x0]['next']=_0x1d2cd5[0x1],_0x1d2cd5[0x1]['previous']=_0x1d2cd5[0x0],_0x5b6ce9['add'](_0x1d2cd5[0x0]),_0x330f21['add'](_0x1d2cd5[0x1]));}}function _0x294fb1(_0x57aa18,_0x7fb87f){if(_0x57aa18['author']['id']!==_0x7fb87f['author']['id'])return null;const _0x43aaed=_0x492553['get'](_0x57aa18)(_0x57aa18,_0x7fb87f,_0x1f6afd['get'](_0x57aa18),_0x1f6afd['get'](_0x7fb87f));if(!_0x43aaed)return null;return _0x492553['get'](_0x7fb87f)(_0x57aa18,_0x7fb87f,_0x1f6afd['get'](_0x57aa18),_0x1f6afd['get'](_0x7fb87f))?_0x43aaed[0x1]['commentThread']&&_0x43aaed[0x1]['commentThread']['length']?null:_0x43aaed:null;}_0x41d317['size']&&this['_refreshSuggestionsChain'](_0x41d317);}['_refreshAttributeSuggestionsChain'](_0xd22393){if(0x0==_0xd22393['length'])return;const _0x21fe9b=this['getSuggestions']({'skipNotAttached':!0x0})['filter'](_0x1d2402=>'attribute'==_0x1d2402['type']&&_0x1d2402['_isDataLoaded']),_0x5099f7=[],_0x21dd6c=new Map();for(const _0x5a7c63 of _0x21fe9b){const _0x3b499c=_0x201abd(_0x5a7c63['attributes']);_0x21dd6c['has'](_0x3b499c)||(_0x21dd6c['set'](_0x3b499c,_0x5099f7['length']),_0x5099f7['push']([]));const _0xf6d74c=_0x21dd6c['get'](_0x3b499c);_0x5099f7[_0xf6d74c]['push'](_0x5a7c63);}!(function(){_0x5099f7['sort']((_0x282e77,_0x402e28)=>{const _0xb0e55c=_0x282e77[0x0]['createdAt'],_0x3da215=_0x402e28[0x0]['createdAt'];return _0xb0e55c==_0x3da215?_0x282e77[0x0]['attributes']['groupId']<_0x402e28[0x0]['attributes']['groupId']?-0x1:0x1:_0xb0e55c<_0x3da215?-0x1:0x1;});for(const _0x2145d7 of _0x5099f7)_0x2145d7['sort']((_0x4d4d1a,_0x136ceb)=>_0x4d4d1a['id']<_0x136ceb['id']?-0x1:0x1);}());for(let _0x48d51b=0x0;_0x48d51b<_0x5099f7['length'];_0x48d51b++){if(0x0==_0x5099f7[_0x48d51b]['length'])continue;const _0x5d1038=[];for(let _0x3f8869=_0x48d51b+0x1;_0x3f8869<_0x5099f7['length'];_0x3f8869++)0x0!=_0x5099f7[_0x3f8869]['length']&&_0x648b9f(_0x5099f7[_0x48d51b],_0x5099f7[_0x3f8869])&&_0x5d1038['push'](_0x3f8869);for(const _0x25b571 of _0x5d1038)_0x5099f7[_0x48d51b]=_0x5099f7[_0x48d51b]['concat'](_0x5099f7[_0x25b571]),_0x5099f7[_0x25b571]=[];}for(const _0x3a8c4b of _0x5099f7)for(let _0x29a80e=0x0;_0x29a80e<_0x3a8c4b['length'];_0x29a80e++){const _0x3b4cab=_0x3a8c4b[_0x29a80e+0x1]||null;_0x3a8c4b[_0x29a80e]['next']!==_0x3b4cab&&(_0x3a8c4b[_0x29a80e]['next']=_0x3b4cab);}for(const _0x359d0d of _0x5099f7)for(let _0x25944c=0x0;_0x25944c<_0x359d0d['length'];_0x25944c++){const _0x32e477=_0x359d0d[_0x25944c-0x1]||null;_0x359d0d[_0x25944c]['previous']!==_0x32e477&&(_0x359d0d[_0x25944c]['previous']=_0x32e477);}function _0x648b9f(_0x11eb27,_0x5cda80){if(_0x11eb27[0x0]['attributes']['groupId']!==_0x5cda80[0x0]['attributes']['groupId']&&_0x11eb27[0x0]['author']!==_0x5cda80[0x0]['author'])return!0x1;if(!function(_0x475c1f,_0x28c74a){if(!_0x475c1f['hasComments']&&!_0x28c74a['hasComments'])return!0x0;if(_0x475c1f['hasComments']&&_0x28c74a['hasComments'])return!0x1;if(_0x475c1f['hasComments']&&_0x28c74a['createdAt']<_0x475c1f['commentThread']['comments']['get'](0x0)['createdAt'])return!0x0;if(_0x28c74a['hasComments']&&_0x475c1f['createdAt']<_0x28c74a['commentThread']['comments']['get'](0x0)['createdAt'])return!0x0;return!0x1;}(_0x11eb27[0x0],_0x5cda80[0x0]))return!0x1;const _0x56b0ae=Ft(_0x11eb27[0x0]['attributes'],['groupId','trackingSessionId']),_0x2cb140=Ft(_0x5cda80[0x0]['attributes'],['groupId','trackingSessionId']);if(!_0x785288(_0x56b0ae,_0x2cb140))return!0x1;if(_0x11eb27[0x0]['attributes']['groupId']==_0x5cda80[0x0]['attributes']['groupId'])return!0x0;if(_0x11eb27[0x0]['attributes']['trackingSessionId']!==_0x5cda80[0x0]['attributes']['trackingSessionId'])return!0x1;return!!_0x11eb27['every'](_0x3f72d8=>_0x5cda80['some'](_0x30c0f8=>_0x3f72d8['getFirstRange']()['isEqual'](_0x30c0f8['getFirstRange']())))&&_0x5cda80['every'](_0x509c61=>_0x11eb27['some'](_0x2c0ff5=>_0x509c61['getFirstRange']()['isEqual'](_0x2c0ff5['getFirstRange']())));}}['_joinWithAdjacentSuggestions'](_0x52955b){const _0xc263ac=Array['from'](_0x52955b),_0x5a8673=this['getSuggestions']({'skipNotAttached':!0x0}),_0x1aa51d=_0x5a8673['filter'](_0x23d15a=>!_0x52955b['has'](_0x23d15a)),_0x14ad4e=new Map(_0xc263ac['map'](_0x1689ef=>[_0x1689ef,this['_suggestionFactory']['getSuggestionCallback'](_0x1689ef['type'],_0x1689ef['subType'],'join')])),_0xec0e0d=new Map(_0x5a8673['map'](_0xcd9a8d=>[_0xcd9a8d,_0xcd9a8d['getRanges']()]));for(let _0x1fe1b8=0x0;_0x1fe1b8<_0xc263ac['length'];_0x1fe1b8++){if(_0x16878f(this,_0xc263ac[_0x1fe1b8],_0xc263ac,_0x1fe1b8+0x1))return!0x0;}for(let _0x5328b5=0x0;_0x5328b5<_0xc263ac['length'];_0x5328b5++){if(_0x16878f(this,_0xc263ac[_0x5328b5],_0x1aa51d,0x0))return!0x0;}return!0x1;function _0x16878f(_0x55d53f,_0x2b845e,_0x30bf2a,_0x3382bd){for(let _0x35a2f2=_0x3382bd;_0x35a2f2<_0x30bf2a['length'];_0x35a2f2++){const _0x348d5f=_0x30bf2a[_0x35a2f2];if(_0x348d5f['type']!==_0x2b845e['type']||_0x348d5f['author']['id']!==_0x2b845e['author']['id']||_0x348d5f['subType']!==_0x2b845e['subType'])continue;if(!Xt(_0x2b845e,_0x348d5f))continue;if('attribute'==_0x2b845e['type']&&_0x2b845e['data']['oldValue']!=_0x348d5f['data']['oldValue'])continue;if('attribute'==_0x2b845e['type']&&_0x55d53f['_isBlockAttribute'](_0x2b845e['data']['key']))continue;if('formatBlock'==_0x2b845e['type']){const _0x24cc63=_0x55d53f['editor']['model'],_0x37f691=_0x2b845e['getContainedElement']();if(_0x37f691&&(_0x24cc63['schema']['isObject'](_0x37f691)||_0x24cc63['schema']['isLimit'](_0x37f691)))continue;}const _0x25b089=_0x14ad4e['get'](_0x2b845e),_0x5b752c=_0xec0e0d['get'](_0x2b845e),_0x28c64a=_0xec0e0d['get'](_0x348d5f),_0x14cdd5=_0x2b845e['commentThread']&&_0x2b845e['commentThread']['length'],_0x4bb901=_0x348d5f['commentThread']&&_0x348d5f['commentThread']['length'];if(!_0x14cdd5&&_0x25b089(_0x28c64a,_0x5b752c))return _0x55d53f['_joinSuggestions'](_0x348d5f,_0x2b845e),_0xec0e0d['delete'](_0x2b845e),!0x0;if(!_0x4bb901&&_0x25b089(_0x5b752c,_0x28c64a))return _0x55d53f['_joinSuggestions'](_0x2b845e,_0x348d5f),_0xec0e0d['delete'](_0x348d5f),!0x0;}return!0x1;}}['_joinSuggestions'](_0x3fe80a,_0x1dbe0c){if(_0x3fe80a['isMultiRange']){for(const _0x5ce148 of _0x1dbe0c['getRanges']())_0x3fe80a['addRange'](_0x5ce148);}else{const _0x4575b6=_0x1dbe0c['getFirstRange']()['end'];this['_setSuggestionRange'](_0x3fe80a,this['_model']['createRange'](_0x3fe80a['getFirstRange']()['start'],_0x4575b6));}_0x1dbe0c['removeMarkers']();}['_getMarkerAnnouncementText'](_0x50410a,_0x3311c4,_0x2deb34){const _0x2fdcf1=_0x50410a['startsWith']('format')||_0x50410a['startsWith']('attribute')?'FORMATTING':_0x50410a['toUpperCase']();return c(this['editor']['locale'],_0x3311c4+'_'+_0x2fdcf1+'_SUGGESTION_ANNOUNCEMENT',_0x2deb34);}['_initAriaMarkerChangeAnnouncements'](){const _0x984e06=this['editor'];if(!_0x984e06['ui'])return;const {ariaLiveAnnouncer:_0x34476d}=_0x984e06['ui'];_0x41d08b(this['_model'],({left:_0x1a96eb,entered:_0x22e7f2})=>{for(const _0x518115 of _0x1a96eb){const {group:_0x1eddbb,type:_0x3dc0b7}=this['_splitMarkerName'](_0x518115['name']);if('suggestion'===_0x1eddbb){_0x34476d['announce'](this['_getMarkerAnnouncementText'](_0x3dc0b7,'LEAVE'));break;}}for(const _0x40063d of _0x22e7f2){const {group:_0x12bedf,type:_0x2dfdba}=this['_splitMarkerName'](_0x40063d['name']);if('suggestion'===_0x12bedf){_0x34476d['announce'](this['_getMarkerAnnouncementText'](_0x2dfdba,'ENTER',_0x5fba0f(_0x6184a0)));break;}}});}['_processAttributeChanges'](_0xf6871b){if(this['_recordAttributeSuggestions'])return!0x1;const _0x4d2ada=this['editor'],_0xd5647f=_0x4d2ada['model']['document']['differ']['getChanges']();if(0x0==_0xd5647f['length'])return!0x1;const _0x5860b2=[],_0x4be4ff=_0xd5647f['filter'](_0x37af3e=>'attribute'==_0x37af3e['type']),_0x5a26ae=_0xd5647f['filter'](_0x2c7d86=>'insert'==_0x2c7d86['type']&&'$text'!=_0x2c7d86['name']),_0x5a5947=_0xd5647f['filter'](_0x6b0888=>'remove'==_0x6b0888['type']&&'$text'!=_0x6b0888['name']);for(const _0x26be37 of _0x4be4ff)_0x5860b2['push']({'key':_0x26be37['attributeKey'],'newValue':_0x26be37['attributeNewValue'],'oldValue':_0x26be37['attributeOldValue'],'range':zt(_0x26be37['range'],_0x4d2ada['model'])});for(const _0xad1a0e of _0x5a26ae){const _0x39cef3=_0x5a5947['find'](_0x2533e2=>_0x2533e2['position']['isEqual'](_0xad1a0e['position']));_0x39cef3&&_0x5860b2['push']({'key':u,'newValue':_0xad1a0e['name'],'oldValue':_0x39cef3['name'],'range':_0x4d2ada['model']['createRangeOn'](_0xad1a0e['position']['nodeAfter'])});}return 0x0!=_0x5860b2['length']&&this['_reduceExistingSuggestions'](_0xf6871b,_0x5860b2);}['_processAttributeSuggestions'](_0x3d8bb8){let _0x5dd094=!0x1;const _0x5ef960=this['editor']['model']['document']['differ']['getChangedMarkers']()['filter'](_0x1bae1f=>_0x1bae1f['data']['newRange']&&_0x1bae1f['name']['startsWith']('suggestion:attribute:'));for(const _0xc17d58 of _0x5ef960){const {subType:_0x16d3fc,id:_0x2c24c2}=this['_splitMarkerName'](_0xc17d58['name']),_0x4d00db=_0x16d3fc['split']('|')[0x0];for(const _0x47172f of this['getSuggestions']({'skipNotAttached':!0x0}))_0x47172f['id']!=_0x2c24c2&&'attribute'==_0x47172f['type']&&_0x47172f['data']&&_0x47172f['data']['key']==_0x4d00db&&_0x47172f['getFirstRange']()['isIntersecting'](_0xc17d58['data']['newRange'])&&(this['_reduceSuggestionAttributeRange'](_0x47172f,_0xc17d58['data']['newRange'],_0x3d8bb8),_0x5dd094=!0x0);}return _0x5dd094;}['_recordAttributeChanges'](_0x3e2a34){this['_recordAttributeSuggestions']=!0x0,_0x3e2a34();}['_isRegisteredAttribute'](_0x38d538){const _0x21d4df=this['_isBlockAttribute'](_0x38d538),_0xea9be1=this['_inlineAttributeKeys']['has'](_0x38d538);return _0x21d4df||_0xea9be1;}['_reduceExistingSuggestions'](_0x3fc68c,_0x9770e){if(0x0==_0x9770e['length'])return!0x1;let _0xc65c40=!0x1;for(const _0xbf1a49 of _0x9770e){const _0x4565a1=this['_findSuggestions'](_0xbf1a49['range'],'attribute')['filter'](_0x517ebd=>!_0x517ebd['meta']['isNextTo'])['map'](_0x15dc61=>_0x15dc61['suggestion']),_0x60fe68=_0x201abd({'newValue':_0xbf1a49['newValue']});_0x4565a1['filter'](_0x547c10=>{const [_0x9e3833,_0x219823]=_0x547c10['subType']['split']('|');return _0x9e3833==_0xbf1a49['key']&&_0x219823!=_0x60fe68;})['forEach'](_0x373364=>{this['_reduceSuggestionAttributeRange'](_0x373364,_0xbf1a49['range'],_0x3fc68c),_0xc65c40=!0x0;});}return _0xc65c40;}['_reduceSuggestionAttributeRange'](_0x5ac49c,_0x4675d4,_0x3482ba){const _0x5a7dc6=_0x5ac49c['getFirstRange']()['getDifference'](_0x4675d4);0x0!==_0x5a7dc6['length']?0x1!==_0x5a7dc6['length']?this['_breakSuggestionMarker'](_0x5ac49c,_0x4675d4['start'],_0x4675d4['end']):this['_setSuggestionRange'](_0x5ac49c,_0x5a7dc6[0x0]):_0x3482ba['removeMarker'](_0x5ac49c['getFirstMarker']());}}class Pt{['_editor'];['_model'];['_customCallbacks'];['_defaultCallbacks'];constructor(_0x3edfd2){this['_editor']=_0x3edfd2,this['_model']=_0x3edfd2['model'],this['_customCallbacks']=new Map(),this['_defaultCallbacks']=new Map(),this['_registerDefaultCallbacks']();}['buildSuggestion'](_0x5a8711,_0x4a770e,_0x4daafd,_0x5a7523,_0x3c78fe,_0x260ce9,_0x2dbbe0){return new o(this['_model'],{'type':_0x5a8711,'subType':_0x4a770e,'id':_0x4daafd,'originalSuggestionId':_0x2dbbe0,'author':_0x5a7523,'creator':_0x5a7523,'attributes':_0x3c78fe,'onAttributesChange':_0x260ce9,'onAccept':(..._0x1a6898)=>this['getSuggestionCallback'](_0x5a8711,_0x4a770e,'accept')(..._0x1a6898),'onDiscard':(..._0x4e47c0)=>this['getSuggestionCallback'](_0x5a8711,_0x4a770e,'discard')(..._0x4e47c0)});}['registerCustomCallback'](_0xeea21c,_0x240ebb,_0x4d3d95,_0x136c27){const _0x45cb16=_0xeea21c+':'+_0x240ebb+':'+_0x4d3d95;this['_customCallbacks']['set'](_0x45cb16,_0x136c27);}['getSuggestionCallback'](_0x4a9974,_0x223c58,_0x3f2838){const _0x15fcd1=_0x4a9974+':'+_0x223c58+':'+_0x3f2838;return this['_customCallbacks']['get'](_0x15fcd1)||this['_defaultCallbacks']['get'](_0x4a9974+':'+_0x3f2838);}['_registerDefaultCallbacks'](){const _0x42cc81=()=>!0x1,_0x9ec41=_0x2797b5=>{_0x2797b5['sort']((_0x1ad1fc,_0x14cedb)=>_0x1ad1fc['start']['isBefore'](_0x14cedb['start'])?0x1:-0x1),this['_model']['change'](_0x3a7a65=>{for(const _0x446de4 of _0x2797b5){let _0x2f7c4f;_0x2f7c4f=_0x446de4['end']['isAtEnd']&&_0x446de4['end']['parent']==_0x446de4['start']['nodeAfter']?_0x3a7a65['createSelection'](_0x446de4['start']['nodeAfter'],'on'):_0x3a7a65['createSelection'](_0x446de4),this['_model']['deleteContent'](_0x2f7c4f,{'forceDefaultExecution':!0x0,'doNotAutoparagraph':!0x0,'doNotFixSelection':!0x0});}});},_0x32b8e9=(_0x3964fd,_0x6182a6)=>{_0x6182a6&&this['_model']['change'](_0x43f702=>{const {commandName:_0x3ffe6d,commandParams:_0xe221e8=[]}=_0x6182a6,_0x46eb6c=_0x3964fd['map'](_0x2c0e34=>(Lt(_0x2c0e34)&&(_0x2c0e34=this['_model']['createRange'](_0x2c0e34['end'])),_0x2c0e34))['filter'](_0x437ee8=>'$graveyard'!==_0x437ee8['root']['rootName']);if(_0x46eb6c['length']<0x1)return;const _0x4203b1=Array['from'](this['_model']['document']['selection']['getRanges']())['map'](_0x3915cd=>_0x13b424['fromRange'](_0x3915cd));_0x43f702['setSelection'](_0x46eb6c);for(const _0x3f4677 of this['_editor']['commands']['commands']())_0x3f4677['refresh']();_0xe221e8['push']({'forceDefaultExecution':!0x0}),this['_editor']['execute'](_0x3ffe6d,..._0xe221e8);const _0x14131a=_0x4203b1['filter'](_0x40de3c=>'$graveyard'!=_0x40de3c['root']['rootName']);_0x14131a['length']>0x0&&_0x43f702['setSelection'](_0x14131a);for(const _0xd05e07 of _0x4203b1)_0xd05e07['detach']();});},_0x2995e5=(_0x39c7af,_0x3458ed)=>0x1==_0x39c7af['length']&&0x1==_0x3458ed['length']&&_0x39c7af[0x0]['end']['isEqual'](_0x3458ed[0x0]['start']),_0x507555=(_0x926299,_0x3a61aa,_0x5d64c9,_0x3510ce)=>Qt(_0x926299,_0x3a61aa,_0x5d64c9,_0x3510ce)?[_0x926299,_0x3a61aa]:Qt(_0x3a61aa,_0x926299,_0x3510ce,_0x5d64c9)?[_0x3a61aa,_0x926299]:null;this['_defaultCallbacks']['set']('insertion:accept',_0x42cc81),this['_defaultCallbacks']['set']('insertion:discard',_0x9ec41),this['_defaultCallbacks']['set']('insertion:join',_0x2995e5),this['_defaultCallbacks']['set']('insertion:chain',_0x507555),this['_defaultCallbacks']['set']('deletion:accept',_0x9ec41),this['_defaultCallbacks']['set']('deletion:discard',_0x42cc81),this['_defaultCallbacks']['set']('deletion:join',_0x2995e5),this['_defaultCallbacks']['set']('deletion:chain',_0x507555),this['_defaultCallbacks']['set']('formatInline:accept',_0x32b8e9),this['_defaultCallbacks']['set']('formatInline:discard',_0x42cc81),this['_defaultCallbacks']['set']('formatInline:join',_0x2995e5),this['_defaultCallbacks']['set']('formatInline:chain',_0x42cc81),this['_defaultCallbacks']['set']('formatBlock:accept',_0x32b8e9),this['_defaultCallbacks']['set']('formatBlock:discard',_0x42cc81),this['_defaultCallbacks']['set']('formatBlock:join',_0x2995e5),this['_defaultCallbacks']['set']('formatBlock:chain',_0x42cc81),this['_defaultCallbacks']['set']('attribute:accept',_0x42cc81),this['_defaultCallbacks']['set']('attribute:discard',(_0x33a548,_0xcf3f52)=>{if(!_0xcf3f52)return;const _0x52fd6e=this['_editor']['plugins']['get'](p);this['_model']['change'](_0x2b31ad=>{if(_0xcf3f52['key']==u)for(const _0x54c52f of _0x33a548){const _0x2406db=_0x54c52f['start']['nodeAfter'],_0x5bb92a=_0xcf3f52['oldValue'];_0x2b31ad['rename'](_0x2406db,_0x5bb92a);}else{if(_0x52fd6e['_isBlockAttribute'](_0xcf3f52['key'])){for(const _0x4f4866 of _0x33a548)void 0x0!==_0xcf3f52['oldValue']?_0x2b31ad['setAttribute'](_0xcf3f52['key'],_0xcf3f52['oldValue'],_0x4f4866['start']['nodeAfter']):_0x2b31ad['removeAttribute'](_0xcf3f52['key'],_0x4f4866['start']['nodeAfter']);}else{for(const _0x47fd38 of _0x33a548)_0xcf3f52['oldValue']?_0x2b31ad['setAttribute'](_0xcf3f52['key'],_0xcf3f52['oldValue'],_0x47fd38):_0x2b31ad['removeAttribute'](_0xcf3f52['key'],_0x47fd38);}}});}),this['_defaultCallbacks']['set']('attribute:join',_0x2995e5);}}function Gt(_0x68a3a0,_0x597684,_0x49d2b7){for(const _0x2b4ad0 of _0x597684['parent']['getAncestors']({'includeSelf':!0x0,'parentFirst':!0x0})){if(_0x2b4ad0['root']==_0x2b4ad0)return!0x1;if(!_0x49d2b7['containsItem'](_0x2b4ad0))return!0x1;if(_0x68a3a0['isObject'](_0x2b4ad0)||_0x68a3a0['isLimit'](_0x2b4ad0))return!0x0;}return!0x1;}function Lt(_0x27efd1){return _0x27efd1['end']['parent']==_0x27efd1['start']['nodeAfter']&&_0x27efd1['end']['isAtStart'];}function Jt(_0x2fde8d,_0x40934c,_0x2369f2,_0x5497b6){const _0x36bf8c=_0x7158ff=>!_0x7158ff['item']['is']('$textProxy')&&!_0x5497b6['isObject'](_0x7158ff['item']),_0x372714=_0x2fde8d['start']['getLastMatchingPosition'](_0x36bf8c),_0xdc9f97=_0x2fde8d['end']['getLastMatchingPosition'](_0x36bf8c,{'direction':'backward'});return(!_0x2fde8d['start']['isEqual'](_0x372714)||!_0x2fde8d['end']['isEqual'](_0xdc9f97))&&(_0x372714['isBefore'](_0xdc9f97)?_0x2369f2['updateMarker'](_0x40934c,{'range':_0x2369f2['createRange'](_0x372714,_0xdc9f97)}):_0x2369f2['removeMarker'](_0x40934c),!0x0);}function Kt(_0x15f8f3){return _0x201abd(_0x15f8f3);}function Ht(_0x3997a5){const _0x325835=_0x3997a5['start']['nodeAfter'];return _0x325835&&_0x325835['is']('element');}function qt(_0x5d8d9a){return!Lt(_0x5d8d9a)&&!function(_0x5ea89c){return _0x5ea89c['start']['parent']==_0x5ea89c['end']['nodeBefore']&&_0x5ea89c['start']['isAtEnd'];}(_0x5d8d9a);}function zt(_0x5e26b5,_0x36610d){return null==_0x5e26b5['end']['nodeBefore']&&_0x5e26b5['end']['parent']==_0x5e26b5['start']['nodeAfter']?Wt(_0x5e26b5['start']['nodeAfter'],_0x36610d):_0x5e26b5;}function Wt(_0x9bcf3e,_0x57a86f){const _0x19800e=_0x57a86f['schema']['isObject'](_0x9bcf3e)||_0x57a86f['schema']['isSelectable'](_0x9bcf3e);return _0x57a86f['createRange'](_0x57a86f['createPositionAt'](_0x9bcf3e,'before'),_0x19800e?_0x57a86f['createPositionAfter'](_0x9bcf3e):_0x57a86f['createPositionAt'](_0x9bcf3e,'end'));}function Qt(_0x5f2f17,_0x41dcaa,_0x55fb7d,_0x4d916a){return!!Xt(_0x5f2f17,_0x41dcaa)&&_0x55fb7d['end']['isEqual'](_0x4d916a['start']);}function Xt(_0x53efe5,_0x1c0499){if(!_0x53efe5['_isDataLoaded']||!_0x1c0499['_isDataLoaded'])return!0x1;const _0x477ce3=new Set(Object['keys'](_0x53efe5['attributes'])),_0x1092e8=new Set(Object['keys'](_0x1c0499['attributes']));if(_0x477ce3['delete']('groupId'),_0x1092e8['delete']('groupId'),0x0==_0x477ce3['size']&&0x0==_0x1092e8['size'])return!0x0;if(_0x477ce3['size']!=_0x1092e8['size'])return!0x1;const _0x5c9021={..._0x53efe5['attributes']},_0x48720e={..._0x1c0499['attributes']};return delete _0x5c9021['groupId'],delete _0x48720e['groupId'],JSON['stringify'](_0x5c9021)==JSON['stringify'](_0x48720e);}function Yt(_0x47c2ba,_0x2b8049){const _0x8e37f9=Zt(_0x47c2ba['attributes']),_0x2c5f96=Zt(_0x2b8049);if(!_0x47c2ba['_isDataLoaded'])return!0x1;for(const _0x912dc9 of Object['keys'](_0x2c5f96))if(!_0x785288(_0x8e37f9[_0x912dc9],_0x2c5f96[_0x912dc9]))return!0x1;return!0x0;}function Zt(_0xabbfe9){const _0x60e465=Object['assign']({},_0xabbfe9);return delete _0x60e465['skipNestingCheck'],delete _0x60e465['tablePasteChainId'],_0x60e465;}class pe extends/* #__PURE__ -- @preserve */
_0x42b849(){['model'];['view'];['commentThreadController'];['_editor'];['_acceptCommand'];['_discardCommand'];['_pendingAction'];constructor(_0x4b253a,_0x535ecd,_0x53e94c,_0x154486){super(),this['model']=_0x535ecd,this['view']=_0x53e94c,this['commentThreadController']=_0x154486,this['_editor']=_0x4b253a,this['_acceptCommand']=_0x4b253a['commands']['get']('acceptSuggestion'),this['_discardCommand']=_0x4b253a['commands']['get']('discardSuggestion'),this['view']['bind']('isEnabled')['to'](this['_acceptCommand'],this['_discardCommand'],(_0x3a1fc3,_0x37b316)=>_0x3a1fc3||_0x37b316),this['view']['bind']('canAccept')['to'](this['_acceptCommand'],'isEnabled',_0x2a409f=>_0x2a409f&&this['_editor']['model']['canEditAt'](_0x535ecd['getRanges']())),this['view']['bind']('canDiscard')['to'](this['_discardCommand'],'isEnabled',_0x56a4c1=>_0x56a4c1&&this['_editor']['model']['canEditAt'](_0x535ecd['getRanges']())),this['_pendingAction']=null,_0x53e94c['isDirty']&&this['_setPendingAction'](),this['listenTo'](_0x53e94c,'acceptSuggestion',()=>this['acceptSuggestion']()),this['listenTo'](_0x53e94c,'discardSuggestion',()=>this['discardSuggestion']()),this['listenTo'](_0x53e94c,'change:isDirty',()=>{_0x53e94c['isDirty']?this['_setPendingAction']():this['_removePendingAction']();});}['acceptSuggestion'](){this['_acceptCommand']['execute'](this['model']['id']);}['discardSuggestion'](){this['_discardCommand']['execute'](this['model']['id']);}['destroy'](){this['view']['unbind']('isEnabled'),this['view']['unbind']('canAccept'),this['view']['unbind']('canDiscard'),this['stopListening'](),this['commentThreadController']['destroy'](),this['_pendingAction']&&this['_removePendingAction']();}['_setPendingAction'](){const _0x5dd575=c(this['_editor']['locale'],'PENDING_ACTION_SUGGESTION');this['_pendingAction']=this['_editor']['plugins']['get']('PendingActions')['add'](_0x5dd575);}['_removePendingAction'](){null!==this['_pendingAction']&&this['_editor']['plugins']['get']('PendingActions')['remove'](this['_pendingAction']),this['_pendingAction']=null;}}class us extends _0x38c1a4{['commentsListView'];['commentThreadInputView'];['ariaDescriptionView'];['focusables'];['focusTracker'];['keystrokes'];['focusCycler'];['_model'];['_localUser'];['_config'];constructor(_0x109aba,_0x3f7a16,_0x55e330,_0x4f36cd){super(_0x109aba),this['commentsListView']=null,this['commentThreadInputView']=null,this['ariaDescriptionView']=new _0x227ee8(_0x109aba,c(_0x109aba,'SUGGESTION_THREAD_DESCRIPTION')),this['set']('isActive',!0x1),this['set']('authoredAt',_0x3f7a16['authoredAt']),this['bind']('authoredAt')['to'](_0x3f7a16),this['set']('descriptionParts',[]),this['set']('isDirty',!0x1),this['set']('isEnabled',!0x1),this['set']('canAccept',!0x1),this['set']('canDiscard',!0x1),this['bind']('ariaLabel')['to'](this,'length',_0x3f7a16,'authoredAt',this,'descriptionParts',(_0x28c59f,_0x329cd0,_0x78ff17)=>{const _0x212b5c=_0x78ff17['map'](_0x217d1f=>ls(_0x217d1f['content']))['join']('.\x20')+'.';return c(this['locale'],'SUGGESTION_THREAD_ARIA_LABEL',[_0x28c59f-0x1,_0x3f7a16['author']['name'],_0x329cd0?_0x4f36cd['formatDateTime'](_0x329cd0):'',new DOMParser()['parseFromString'](_0x212b5c,'text/html')['body']['textContent']]);}),this['focusables']=new _0x5ad0aa(),this['focusTracker']=new _0x53d760(),this['keystrokes']=new _0xa65db3(),this['focusCycler']=new _0x5856bb({'focusables':this['focusables'],'focusTracker':this['focusTracker'],'keystrokeHandler':this['keystrokes'],'keystrokeHandlerOptions':{'filter':_0x2c1d39=>_0x2c1d39['target']!==this['element']},'actions':{'focusPrevious':'shift+tab','focusNext':'tab'}}),this['_model']=_0x3f7a16,this['_localUser']=_0x55e330,this['_config']=_0x4f36cd,_0x4f36cd['disableComments']?this['set']('length',0x1):this['_createCommentViews']();}['render'](){super['render'](),_0x1868b8(this,this['focusables']);}['focus'](){this['element']['focus']();}['destroy'](){this['commentsListView']&&this['commentsListView']['destroy'](),this['commentThreadInputView']&&this['commentThreadInputView']['destroy'](),super['destroy']();}['_createCommentViews'](){const {CommentsListView:_0x3d47ae}=this['_config'];this['commentsListView']=new _0x3d47ae(this['locale'],this['_model']['commentThread'],Object['assign']({'CommentView':this['_config']['CommentView']},this['_config'])),this['commentsListView']['delegate']('removeComment')['to'](this),this['commentsListView']['delegate']('updateComment')['to'](this),this['commentsListView']['bind']('isActive')['to'](this),this['set']('length',this['commentsListView']['length']+0x1),this['bind']('length')['to'](this['commentsListView'],'length',_0x1ac5a3=>_0x1ac5a3+0x1),this['commentThreadInputView']=this['_createCommentThreadInputView'](),this['on']('removeComment',()=>this['focus']()),this['bind']('isDirty')['to'](this['commentsListView'],'hasDirtyComment',this['commentThreadInputView']['commentInputView'],'value',(_0x5775b1,_0x2d33b5)=>_0x5775b1||!!_0x2d33b5);}['_createCommentThreadInputView'](){const {CommentThreadInputView:_0x211d11}=this['_config'],_0x43ea75=new _0x211d11(this['locale'],this['_localUser'],this['_config']['editorConfig']),_0x59a9c4=_0x43ea75['commentInputView'];return _0x43ea75['bind']('showInput')['to'](this,'isActive',this['_model']['commentThread'],'isReadOnly',_0x59a9c4,'value',(_0x1a298d,_0x3287aa,_0x29efaf)=>!!_0x29efaf||_0x1a298d&&!_0x3287aa),_0x59a9c4['on']('submit',(_0x4bffa5,_0x424396)=>{this['fire']('addComment',_0x424396),_0x59a9c4['editor']['setData']('');}),_0x59a9c4['on']('cancel',()=>this['focus']()),_0x59a9c4['bind']('disabledSubmit')['to'](this['_model']['commentThread'],'isReadOnly'),_0x43ea75;}}class fe extends us{['suggestionView'];['_descriptionElement'];constructor(_0x340011,_0x2b04b3,_0x56095b,_0x3847ff){super(_0x340011,_0x2b04b3,_0x56095b,_0x3847ff),this['set']('type',''),this['bind']('type')['to'](this,'descriptionParts',_0x71b073=>_0x71b073&&_0x71b073[0x0]?_0x71b073[0x0]['type']:''),this['bind']('description')['to'](this,'descriptionParts',this,'isActive',(_0x5e318b,_0x1b7217)=>{let _0x1b18a1='';for(const _0x485b01 of _0x5e318b)_0x1b18a1+='<p>'+ls(_0x485b01['content'],_0x485b01['color'])+'</p>';return _0x1b7217?_0x1b18a1:_0x1125d7(_0x1b18a1,{'limit':0x8c});}),this['_descriptionElement']=null,this['suggestionView']=new _0x3847ff['SuggestionView'](_0x340011,_0x2b04b3,{'formatDateTime':_0x3847ff['formatDateTime']}),this['suggestionView']['bind']('description')['to'](this),this['suggestionView']['delegate']('acceptSuggestion','discardSuggestion')['to'](this),this['suggestionView']['acceptButton']['bind']('isEnabled')['to'](this,'canAccept'),this['suggestionView']['discardButton']['bind']('isEnabled')['to'](this,'canDiscard'),this['focusables']['add'](this['suggestionView']),this['commentsListView']&&this['focusables']['add'](this['commentsListView']),this['commentThreadInputView']&&this['focusables']['add'](this['commentThreadInputView']),this['setTemplate'](this['getTemplate']());}['getTemplate'](){const _0x47887e=this['bindTemplate'],_0x54429f=[this['suggestionView']];return this['commentsListView']&&_0x54429f['push'](this['commentsListView']),this['commentThreadInputView']&&_0x54429f['push'](this['commentThreadInputView']),_0x54429f['push'](this['ariaDescriptionView']),{'tag':'div','attributes':{'class':['ck','ck-rounded-corners','ck-suggestion-wrapper',_0x47887e['if']('isActive','ck-suggestion-wrapper--active'),_0x47887e['to']('type',_0x3f058b=>'ck-suggestion-'+_0x3f058b),this['_config']['disableComments']&&'ck-suggestion--disabled-comments'],'data-suggestion-id':this['_model']['id'],'data-thread-id':this['_model']['commentThread']['id'],'data-author-id':this['_model']['author']['id'],'tabindex':0x0,'role':'listitem','aria-label':_0x47887e['to']('ariaLabel'),'aria-describedby':this['ariaDescriptionView']['id']},'children':_0x54429f};}['render'](){super['render'](),this['commentsListView']&&(this['commentsListView']['delegate']('editorReady')['to'](this),this['commentsListView']['delegate']('editorDestroyed')['to'](this)),this['commentThreadInputView']&&(this['commentThreadInputView']['delegate']('editorReady')['to'](this),this['commentThreadInputView']['delegate']('editorDestroyed')['to'](this));}}class we extends _0x38c1a4{['userView'];['acceptButton'];['discardButton'];['focusables'];['focusTracker'];['keystrokes'];['focusCycler'];['_model'];['_config'];constructor(_0x175421,_0x4046f1,_0x7c002b){super(_0x175421),this['_model']=_0x4046f1,this['_config']=_0x7c002b,this['set']('description',''),this['bind']('authoredAt')['to'](_0x4046f1),this['acceptButton']=this['_createButton'](c(_0x175421,'Accept\x20suggestion'),_0x54f68b,'ck-suggestion--accept','acceptSuggestion','sw'),this['discardButton']=this['_createButton'](c(_0x175421,'Discard\x20suggestion'),_0x5b676e,'ck-suggestion--discard','discardSuggestion','sw'),this['userView']=new _0xe6c335(_0x175421,_0x4046f1['author'],this['getUserViewNotificationText']()),this['userView']['extendTemplate']({'attributes':{'class':['ck-suggestion__user','ck-annotation__user'],'aria-hidden':!0x0}}),this['focusables']=new _0x5ad0aa([this['acceptButton'],this['discardButton']]),this['focusTracker']=new _0x53d760(),this['keystrokes']=new _0xa65db3(),this['focusCycler']=new _0x5856bb({'focusables':this['focusables'],'focusTracker':this['focusTracker'],'keystrokeHandler':this['keystrokes'],'actions':{'focusPrevious':'shift+tab','focusNext':'tab'},'keystrokeHandlerOptions':{'filter':_0x25765a=>_0x25765a['target']!==this['element']}}),this['setTemplate'](this['getTemplate']());}['render'](){super['render']();const _0x5f4d9d=this['element']['querySelector']('.ck-annotation__content-wrapper');_0x5f4d9d['innerHTML']=this['description'],this['on']('change:description',(_0x4a63ac,_0x4c114e,_0x41324c)=>{_0x5f4d9d['innerHTML']=_0x41324c;}),this['_setupKeyboardNavigation']();}['getTemplate'](){const _0x29bda2=this['bindTemplate'],_0x14fc52=[{'tag':'div','attributes':{'class':['ck-suggestion__info','ck-annotation__info']},'children':[{'tag':'span','children':[{'text':this['userView']['name']}],'attributes':{'class':['ck-suggestion__info-name','ck-annotation__info-name'],'data-cke-tooltip-text':this['userView']['name']}},{'tag':'time','attributes':{'datetime':_0x29bda2['to']('authoredAt'),'class':['ck-comment__info-time','ck-annotation__info-time']},'children':[{'text':_0x29bda2['to']('authoredAt',_0x5e5edc=>this['_config']['formatDateTime'](_0x5e5edc))}]}]},{'tag':'div','attributes':{'class':['ck-suggestion__actions','ck-annotation__actions']},'children':[this['acceptButton'],this['discardButton']]},{'tag':'div','attributes':{'class':['ck-annotation__content-wrapper']}}];return this['_model']['isExternal']&&_0x14fc52['push']({'tag':'div','attributes':{'class':['ck-comment__external']},'children':[{'text':this['getExternalSuggestionNote']()}]}),{'tag':'div','attributes':{'class':['ck-suggestion','ck-annotation'],'tabindex':-0x1},'children':[this['userView'],{'tag':'div','attributes':{'class':['ck-suggestion__main','ck-annotation__main'],'role':'presentation'},'children':_0x14fc52}]};}['focus'](){this['element']['focus']();}['getUserViewNotificationText'](){return this['_model']['isExternal']?'importWord'===this['_model']['attributes']['@external']['source']?c(this['locale'],'EXTERNAL_IMPORT_WORD_AVATAR',this['_model']['creator']['name']):c(this['locale'],'EXTERNAL_AVATAR',this['_model']['creator']['name']):null;}['getExternalSuggestionNote'](){return'importWord'===this['_model']['attributes']['@external']['source']?c(this['locale'],'EXTERNAL_IMPORT_WORD_SUGGESTION'):c(this['locale'],'EXTERNAL_SUGGESTION');}['_createButton'](_0x1babc8,_0x40dbf2,_0x4a53f9,_0x29691f,_0xaf24fa){const _0x4c301b=new _0x285790(this['locale']);return _0x4c301b['set']({'label':_0x1babc8,'icon':_0x40dbf2,'tooltip':!0x0,'tooltipPosition':_0xaf24fa}),_0x4c301b['extendTemplate']({'attributes':{'class':_0x4a53f9}}),_0x4c301b['on']('execute',()=>{this['fire'](_0x29691f,this['_model']['id']);}),_0x4c301b;}['_setupKeyboardNavigation'](){const _0x431bfb=this['element'];this['keystrokes']['listenTo'](_0x431bfb);for(const _0x52eb43 of this['focusables'])this['focusTracker']['add'](_0x52eb43['element']),this['keystrokes']['listenTo'](_0x52eb43['element']);this['keystrokes']['set']('enter',(_0x1cd3bd,_0x1b6fd3)=>{_0x431bfb===_0x1cd3bd['target']&&(this['focusCycler']['focusFirst'](),_0x1b6fd3());}),this['keystrokes']['set']('esc',(_0x11bb3f,_0x2ba7cd)=>{_0x431bfb!==_0x11bb3f['target']&&(this['focus'](),_0x2ba7cd());});}}class d extends _0x16d8d0{['licenseKey'];['_licenseKeyCheckInterval'];['_suggestionToController'];['_viewToController'];['_annotationViews'];['_handleControllerBuffer'];['_disableComments'];static get['requires'](){return[p,_0x28be2f,'CommentsRepository','Annotations','EditorAnnotations'];}static get['pluginName'](){return'TrackChangesUI';}static get['isOfficialPlugin'](){return!0x0;}static get['isPremiumPlugin'](){return!0x0;}constructor(_0x3d1db8){super(_0x3d1db8),this['_suggestionToController']=new Map(),this['_viewToController']=new Map(),this['_annotationViews']=new Map(),this['_handleControllerBuffer']=new Map();const _0x21b03d=this['editor']['config'];_0x21b03d['define']('trackChanges.SuggestionThreadView',fe),_0x21b03d['define']('trackChanges.SuggestionView',we),_0x21b03d['define']('trackChanges.disableComments',!0x1),this['_disableComments']=_0x21b03d['get']('trackChanges.disableComments');}['_handleSuggestionControllerDelayed'](_0x5af8f8,_0x566cdb){0x0===this['_handleControllerBuffer']['size']&&setTimeout(()=>{for(const [_0x172757,_0xcda341]of this['_handleControllerBuffer']){const _0x5e8adb=this['_suggestionToController']['has'](_0x172757);_0x5e8adb||_0xcda341?_0x5e8adb&&_0xcda341&&this['_destroyController'](_0x172757):this['_initializeController'](_0x172757);}this['_handleControllerBuffer']['clear'](),this['editor']['plugins']['get']('EditorAnnotations')['refreshSelectedViews'](),this['_refreshActiveMarkers']();},0xa),this['_handleControllerBuffer']['set'](_0x5af8f8,_0x566cdb);}['init'](){const _0x3af31b=this['editor'],_0x5630c9=_0x3af31b['plugins']['get']('TrackChangesEditing'),_0x87f792=_0x3af31b['plugins']['get']('Annotations'),_0x300700=_0x3af31b['plugins']['get']('EditorAnnotations'),_0x3e16a7=_0x3af31b['plugins']['get']('CommentsRepository');this['_addUIComponentsToFactory'](),_0x300700['addSourceCollector'](()=>{const _0x28d4d7=[];for(const [_0x4f6e5a,_0x2b2fcd]of Array['from'](this['_suggestionToController'])){const _0x2ff747=_0x4f6e5a['getAllAdjacentSuggestions'](),_0xb32027=[];for(const _0x224805 of _0x2ff747){if(!_0x224805['isInContent'])continue;if(_0x224805['isMultiRange']){_0xb32027['push'](..._0x224805['getRanges']());continue;}const _0x291ced=_0x224805['getFirstRange']();if(_0xb32027['length']>0x0){const _0x44bfdf=_0xb32027[0x0]['getJoined'](_0x291ced);if(_0x44bfdf){_0xb32027[0x0]=_0x44bfdf;continue;}}_0xb32027['push'](_0x291ced);}_0x28d4d7['push']([_0x2b2fcd['view'],_0xb32027]);}return _0x28d4d7;}),this['listenTo'](_0x5630c9,'suggestionLoaded',(_0x2f4fc5,_0x1d054b)=>{this['listenTo'](_0x1d054b,'change:previous',(_0x16eb4a,_0x1c7972,_0x502532,_0x135d34)=>{_0x1d054b['isInContent']&&(null==_0x502532?(this['_updateController'](_0x135d34['head']),this['_handleSuggestionControllerDelayed'](_0x1d054b,!0x1)):(this['_updateController'](_0x502532['head']),null==_0x135d34&&this['_handleSuggestionControllerDelayed'](_0x1d054b,!0x0)));}),null!==_0x1d054b['previous']?this['_updateController'](_0x1d054b['head']):this['_handleSuggestionControllerDelayed'](_0x1d054b,!0x1);}),this['listenTo'](_0x5630c9,'suggestionUnloaded',(_0xe31e05,_0x1c9a3a,_0x491fd0)=>{this['stopListening'](_0x1c9a3a,'change:previous'),this['_handleControllerBuffer']['delete'](_0x1c9a3a),this['_suggestionToController']['has'](_0x1c9a3a)&&this['_destroyController'](_0x1c9a3a),_0x491fd0&&this['_updateController'](_0x491fd0['head']);}),this['listenTo'](_0x5630c9,'suggestionChanged',(_0x225f50,_0x401b65)=>{this['_updateController'](_0x401b65);}),this['listenTo'](_0x87f792,'change:activeAnnotations',()=>{this['_refreshActiveMarkers']();}),this['listenTo'](_0x3e16a7,'addComment',(_0x1ddc2d,{threadId:_0x5f26fe,isFromAdapter:_0x4b191d})=>{if(_0x4b191d||!_0x5630c9['hasSuggestion'](_0x5f26fe))return;const _0x23af81=_0x5630c9['getSuggestion'](_0x5f26fe);this['_suggestionToController']['get'](_0x23af81)['view']['commentsListView']['focus'](-0x1);},{'priority':'lowest'}),this['licenseKey']=this['editor']['config']['get']('licenseKey');const _0x464e32=this['editor'];this['_licenseKeyCheckInterval']=setInterval(()=>{let _0x415434;for(const _0xd72ac in _0x464e32){const _0xba5987=_0xd72ac,_0x50f405=_0x464e32[_0xba5987];if('trackChangesLicenseKeyValid'==_0x50f405||'trackChangesLicenseKeyInvalid'==_0x50f405||'trackChangesLicenseKeyExpired'==_0x50f405||'trackChangesLicenseKeyDomainLimit'==_0x50f405||'trackChangesLicenseKeyNotAllowed'==_0x50f405||'trackChangesLicenseKeyEvaluationLimit'==_0x50f405||'trackChangesLicenseKeyTrialLimit'==_0x50f405||'trackChangesLicenseKeyUsageLimit'==_0x50f405){delete _0x464e32[_0xba5987],_0x415434=_0x50f405,clearInterval(this['_licenseKeyCheckInterval']),this['_licenseKeyCheckInterval']=void 0x0;break;}}'trackChangesLicenseKeyInvalid'==_0x415434&&_0x464e32['_showLicenseError']('invalid'),'trackChangesLicenseKeyExpired'==_0x415434&&_0x464e32['_showLicenseError']('expired'),'trackChangesLicenseKeyDomainLimit'==_0x415434&&_0x464e32['_showLicenseError']('domainLimit'),'trackChangesLicenseKeyNotAllowed'==_0x415434&&_0x464e32['_showLicenseError']('featureNotAllowed','TrackChanges'),'trackChangesLicenseKeyEvaluationLimit'==_0x415434&&_0x464e32['_showLicenseError']('evaluationLimit'),'trackChangesLicenseKeyTrialLimit'==_0x415434&&_0x464e32['_showLicenseError']('trialLimit'),'trackChangesLicenseKeyUsageLimit'==_0x415434&&_0x464e32['_showLicenseError']('usageLimit');},0x3e8);}['_refreshActiveMarkers'](){const _0x2a9319=this['editor']['plugins']['get']('Annotations'),_0x24d455=this['editor']['plugins']['get']('TrackChangesEditing'),_0x5ad282=Array['from'](_0x2a9319['activeAnnotations'],_0x5b9175=>_0x5b9175['innerView'])['filter'](_0x293c2c=>this['_viewToController']['has'](_0x293c2c)),_0x18cf2a=[];for(const _0x1e201c of _0x5ad282){const _0x253cb8=this['_viewToController']['get'](_0x1e201c)['model']['getAllAdjacentSuggestions']();_0x18cf2a['push'](..._0x253cb8['reduce']((_0x5e6ecd,_0x3d4013)=>[..._0x5e6ecd,..._0x3d4013['getMarkerNames']()],[]));}_0x24d455['activeMarkers']=_0x18cf2a;}['_addUIComponentsToFactory'](){const _0x5eaf59=this['editor'],_0x241085=_0x5eaf59['locale'],_0x2d8580=c(_0x241085,'Track\x20changes'),_0x5722f7=new _0x5ad54a([{'type':'switchbutton','model':new _0x414fe5({'withText':!0x0,'isToggleable':!0x0,'label':_0x2d8580,'commandName':'trackChanges','role':'menuitemcheckbox'})},{'type':'separator'},{'type':'button','model':new _0x414fe5({'withText':!0x0,'label':c(_0x241085,'Accept\x20all\x20suggestions'),'commandName':'acceptAllSuggestions','role':'menuitem'})},{'type':'button','model':new _0x414fe5({'withText':!0x0,'label':c(_0x241085,'Accept\x20all\x20selected\x20suggestions'),'commandName':'acceptSelectedSuggestions','role':'menuitem'})},{'type':'button','model':new _0x414fe5({'withText':!0x0,'label':c(_0x241085,'Discard\x20all\x20suggestions'),'commandName':'discardAllSuggestions','role':'menuitem'})},{'type':'button','model':new _0x414fe5({'withText':!0x0,'label':c(_0x241085,'Discard\x20all\x20selected\x20suggestions'),'commandName':'discardSelectedSuggestions','role':'menuitem'})}]);_0x5eaf59['plugins']['has']('TrackChangesPreview')&&_0x5722f7['addMany']([{'type':'separator'},{'type':'button','model':new _0x414fe5({'withText':!0x0,'label':c(_0x241085,'Preview\x20final\x20content'),'commandName':'previewFinalContent','role':'menuitem'})}]);for(const _0x39940d of _0x5722f7)if(ke(_0x39940d)){const _0x15df13=_0x5eaf59['commands']['get'](_0x39940d['model']['commandName']);_0x39940d['model']['bind']('isOn','isEnabled')['to'](_0x15df13,'value','isEnabled');}_0x5eaf59['ui']['componentFactory']['add']('trackChanges',_0x2071e2=>this['_createToolbarButton'](_0x2071e2,_0x5722f7,_0x2d8580)),_0x5eaf59['ui']['componentFactory']['add']('menuBar:trackChanges',_0xa7fc9f=>this['_createMenuBarMenu'](_0xa7fc9f,_0x5722f7,_0x2d8580));}['_createToolbarButton'](_0x86c899,_0x576681,_0x3e3e9e){const _0xf40f4=_0x349d1c(_0x86c899,_0xa83a62),_0x110a3d=this['editor']['commands']['get']('trackChanges');_0xf40f4['buttonView']['set']({'tooltip':_0x3e3e9e,'label':_0x3e3e9e,'icon':_0x3a75cc}),_0xf40f4['buttonView']['bind']('isOn')['to'](_0x110a3d,'value'),_0xf40f4['buttonView']['on']('execute',()=>{_0x110a3d['execute'](),this['editor']['editing']['view']['focus']();}),_0x31d363(_0xf40f4,_0x576681,{'role':'menu'});const _0x4814e9=[];for(const _0x485098 of _0x576681)ke(_0x485098)&&_0x4814e9['push'](this['editor']['commands']['get'](_0x485098['model']['commandName']));const _0x5f4cd9=_0xf40f4['buttonView'];return _0x5f4cd9['actionView']['unbind']('isEnabled'),_0x5f4cd9['arrowView']['unbind']('isEnabled'),_0x5f4cd9['actionView']['bind']('isEnabled')['to'](_0x110a3d,'isEnabled'),_0x5f4cd9['arrowView']['bind']('isEnabled')['toMany'](_0x4814e9,'isEnabled',(..._0x29bcc8)=>_0x29bcc8['some'](_0x1f86aa=>_0x1f86aa)),_0xf40f4['on']('execute',_0x583fd1=>{this['editor']['execute'](_0x583fd1['source']['commandName']),this['editor']['editing']['view']['focus']();}),_0xf40f4;}['_createMenuBarMenu'](_0x1c9464,_0x376979,_0x2a9f15){const _0x3037fd=new _0x518e52(_0x1c9464),_0xaf8c19=this['editor']['commands']['get']('trackChanges');_0x3037fd['buttonView']['set']({'label':_0x2a9f15,'icon':_0x3a75cc});const _0x5e4085=new _0x2c4a5d(_0x1c9464);for(const _0xdde649 of _0x376979){if('separator'==_0xdde649['type']){_0x5e4085['items']['add'](new _0x5357f4(_0x1c9464));continue;}const _0x413d93=new _0x4c15ba(_0x1c9464,_0x3037fd),_0x3f8a42=new _0xd0d25f(_0x1c9464),_0x4b4659=_0xdde649['model'];_0x3f8a42['bind'](...Object['keys'](_0x4b4659))['to'](_0x4b4659),_0x3f8a42['delegate']('execute')['to'](_0x3037fd),_0x3f8a42['on']('execute',()=>{this['editor']['execute'](_0x4b4659['commandName']),this['editor']['editing']['view']['focus']();}),_0x413d93['children']['add'](_0x3f8a42),_0x5e4085['items']['add'](_0x413d93);}return _0x3037fd['bind']('isEnabled')['to'](_0xaf8c19,'isEnabled'),_0x3037fd['panelView']['children']['add'](_0x5e4085),_0x3037fd;}['_initializeController'](_0x5a8fe9){const _0x1ef5cf=this['editor'],_0x104001=_0x1ef5cf['config'],_0x4c027b=_0x1ef5cf['plugins']['get']('Annotations'),_0x31e77e=_0x1ef5cf['plugins']['get']('CommentsRepository'),_0x1d3a27=_0x1ef5cf['plugins']['get']('EditorAnnotations'),_0x24d872=_0x1ef5cf['plugins']['get'](_0x28be2f)['me'],_0x4a9079=_0x104001['get']('trackChanges')['SuggestionThreadView'],_0x45bd2e=_0x104001['get']('trackChanges')['SuggestionView'],{CommentsListView:_0x2931e1,CommentThreadInputView:_0x260cb4}=_0x1ef5cf['plugins']['get']('CommentsUI');let _0x39e861,_0x3400cf,_0x145d57;this['_annotationViews']['has'](_0x5a8fe9['id'])?(_0x3400cf=this['_annotationViews']['get'](_0x5a8fe9['id']),_0x39e861=_0x3400cf['mainView']):(_0x39e861=new _0x4a9079(_0x1ef5cf['locale'],_0x5a8fe9,_0x24d872,{'disableComments':this['_disableComments'],'editorConfig':{..._0x104001['get']('comments.editorConfig'),'licenseKey':_0x104001['get']('licenseKey')},'maxCommentsWhenCollapsed':_0x104001['get']('comments.maxCommentsWhenCollapsed'),'maxThreadTotalWeight':_0x104001['get']('comments.maxThreadTotalWeight'),'maxCommentCharsWhenCollapsed':_0x104001['get']('comments.maxCommentCharsWhenCollapsed'),'formatDateTime':_0xad9308(_0x104001['get']('locale'),_0x1ef5cf['locale']),'CommentView':_0x104001['get']('comments')['CommentView'],'CommentsListView':_0x2931e1,'CommentThreadInputView':_0x260cb4,'SuggestionView':_0x45bd2e}),_0x39e861['suggestionView']['acceptButton']['on']('execute',()=>{_0x1ef5cf['editing']['view']['focus']();}),_0x39e861['suggestionView']['discardButton']['on']('execute',()=>{_0x1ef5cf['editing']['view']['focus']();}),_0x3400cf=_0x4c027b['createAnnotationView'](this['editor']['locale'],_0x39e861),_0x3400cf['bind']('isDirty')['to'](_0x39e861,'isDirty'),_0x3400cf['bind']('length')['to'](_0x39e861),_0x3400cf['bind']('type')['to'](_0x39e861,'type',_0x80b0de=>'suggestion-'+_0x80b0de),_0x39e861['on']('escape',()=>{_0x145d57['fire']('escape');}),this['_annotationViews']['set'](_0x5a8fe9['id'],_0x3400cf));const _0x4aeddd=_0x31e77e['createCommentThreadController'](_0x5a8fe9['commentThread'],_0x39e861),_0x234924=new pe(_0x1ef5cf,_0x5a8fe9,_0x39e861,_0x4aeddd),_0x50ff94=_0x5a8fe9['getAllAdjacentSuggestions']()['filter'](_0x500d5c=>_0x500d5c['isInContent']);_0x39e861['descriptionParts']=_0x1ef5cf['plugins']['get']('TrackChangesEditing')['descriptionFactory']['getDescriptions'](_0x50ff94),this['_suggestionToController']['set'](_0x5a8fe9,_0x234924),this['_viewToController']['set'](_0x39e861,_0x234924),_0x145d57=_0x4c027b['createAnnotation']({'view':_0x3400cf,'target':()=>{const _0x5e1549=[],_0x48eb10=_0x5a8fe9['getAllAdjacentSuggestions']()['filter'](_0xa3d179=>_0xa3d179['isInContent']);for(const _0x59a9b0 of _0x48eb10)_0x5e1549['push'](..._0x59a9b0['getMarkers']());return _0x2f015c(_0x1ef5cf['editing'],_0x5e1549);},'type':()=>'suggestion-'+_0x234924['view']['type']}),_0x31e77e['_bindAnnotationToEditors'](_0x39e861,_0x145d57),_0x4c027b['add'](_0x145d57),_0x1d3a27['registerAnnotation'](_0x145d57);}['_destroyController'](_0x125749){const _0x3d8e16=this['editor']['plugins']['get']('CommentsRepository'),_0x2e271f=this['editor']['plugins']['get']('Annotations'),_0x2c8549=this['_suggestionToController']['get'](_0x125749),_0x55fdd9=_0x2c8549['view'],_0x12e997=_0x2e271f['getByInnerView'](_0x55fdd9);_0x3d8e16['_unbindEditors'](_0x55fdd9),_0x12e997&&_0x2e271f['remove'](_0x12e997),this['_suggestionToController']['delete'](_0x125749),this['_viewToController']['delete'](_0x55fdd9),_0x2c8549['destroy']();}['_updateController'](_0x27fc01){if(!_0x27fc01['isInContent']||!this['_suggestionToController']['has'](_0x27fc01))return;const _0x3b3d00=this['editor']['plugins']['get']('TrackChangesEditing'),_0x5954c4=this['_suggestionToController']['get'](_0x27fc01),_0x32f014=_0x27fc01['getAllAdjacentSuggestions']();_0x5954c4['view']['descriptionParts']=_0x3b3d00['descriptionFactory']['getDescriptions'](_0x32f014);}['destroy'](){for(const _0x91657a of this['_suggestionToController']['keys']())this['_destroyController'](_0x91657a);for(const _0xe591ca of this['_annotationViews']['values']())_0xe591ca['mainView']['destroy']();super['destroy'](),this['_licenseKeyCheckInterval']&&clearInterval(this['_licenseKeyCheckInterval']);}}function ke(_0xb0b235){return'model'in _0xb0b235;}class k extends _0x16d8d0{static get['requires'](){return[p,d,'Comments'];}static get['pluginName'](){return'TrackChanges';}static get['isOfficialPlugin'](){return!0x0;}static get['isPremiumPlugin'](){return!0x0;}set['adapter'](_0x4d059c){this['editor']['plugins']['get'](p)['adapter']=_0x4d059c;}get['adapter'](){return this['editor']['plugins']['get'](p)['adapter'];}['addSuggestion'](_0x1330e4){return this['editor']['plugins']['get'](p)['addSuggestionData'](_0x1330e4);}['getSuggestions']({skipNotAttached:_0x1775a3=!0x1,toJSON:_0x4075d3=!0x1}={}){return this['editor']['plugins']['get'](p)['getSuggestions']({'skipNotAttached':_0x1775a3,'toJSON':_0x4075d3});}['getSuggestion'](_0x561b7e){return this['editor']['plugins']['get'](p)['getSuggestion'](_0x561b7e);}}const w=['Pagination'];class T extends _0x16d8d0{static get['requires'](){return[p];}static get['pluginName'](){return'TrackChangesData';}static get['isOfficialPlugin'](){return!0x0;}static get['isPremiumPlugin'](){return!0x0;}['init'](){const _0x24af3a=this['editor'];if(_0x24af3a['config']['define']('trackChangesData.editorCreator',_0x3d1f04=>{const _0xda3ebb=_0x24af3a['model']['document']['getRootNames']()['reduce']((_0x45b3ce,_0x553b0a)=>(_0x45b3ce[_0x553b0a]='',_0x45b3ce),{});return _0x24af3a['constructor']['create'](_0xda3ebb,_0x3d1f04);}),'function'!=typeof _0x24af3a['config']['get']('trackChangesData')['editorCreator'])throw new _0x5a6152('track-changes-data-invalid-editor-creator');}['getDataWithAcceptedSuggestions'](_0x5d1527){return N(this['editor'],!0x0,_0x5d1527);}['getDataWithDiscardedSuggestions'](_0x348c1e){return N(this['editor'],!0x1,_0x348c1e);}}class D extends _0x16d8d0{['result'];static get['pluginName'](){return'TrackChangesDataGetter';}static get['isOfficialPlugin'](){return!0x0;}static get['isPremiumPlugin'](){return!0x0;}constructor(_0x29a96a){function _0x137011(_0x5388d7){return _0x5388d7['map'](_0x32960a=>String['fromCharCode'](_0x32960a))['join']('');}super(_0x29a96a),this['result']='end',_0x29a96a[_0x137011([0x65,0x64,0x69,0x74,0x69,0x6e,0x67])][_0x137011([0x76,0x69,0x65,0x77])][_0x137011([0x5f,0x6f,0x76,0x65,0x72,0x6c,0x61,0x79,0x4d,0x6f,0x64,0x65,0x48,0x69,0x6e,0x74])]=_0x137011([0x61,0x75,0x74,0x6f]),_0x29a96a[_0x137011([0x5f,0x73,0x65,0x6e,0x64,0x55,0x73,0x61,0x67,0x65,0x52,0x65,0x71,0x75,0x65,0x73,0x74])]=()=>window[_0x137011([0x50,0x72,0x6f,0x6d,0x69,0x73,0x65])][_0x137011([0x72,0x65,0x73,0x6f,0x6c,0x76,0x65])]({[_0x137011([0x73,0x74,0x61,0x74,0x75,0x73])]:_0x137011([0x6f,0x6b])});}['init'](){this['editor']['plugins']['get']('CommentsRepository')['_adapter']={'addCommentThread':()=>new Promise(()=>{}),'getCommentThread':()=>new Promise(()=>{}),'updateCommentThread':()=>new Promise(()=>{}),'resolveCommentThread':()=>new Promise(()=>{}),'reopenCommentThread':()=>new Promise(()=>{}),'removeCommentThread':()=>new Promise(()=>{}),'addComment':()=>new Promise(()=>{}),'updateComment':()=>new Promise(()=>{}),'removeComment':()=>new Promise(()=>{})},this['editor']['plugins']['get']('TrackChangesEditing')['_adapter']=null;}}function Ge(_0x24dbb4){return void 0x0!==_0x24dbb4['getRootsAttributes'];}async function N(_0x2b71ea,_0x5029f8,_0x4d589b){const _0x3e2464=_0x2827f5(_0x2b71ea,w);_0x3e2464['plugins']['push'](p,D),_0x3e2464['rootsAttributes']=Ge(_0x2b71ea)?_0x2b71ea['getRootsAttributes']():void 0x0;const _0x57b3e9=document['createDocumentFragment'](),_0x1aa089=_0x2b71ea['config']['get']('trackChangesData')['editorCreator'],_0x889232=await _0x1aa089(_0x3e2464,()=>function(_0x48551d){const _0x4dfa3b=document['createElement']('div');return _0x48551d['appendChild'](_0x4dfa3b),_0x4dfa3b;}(_0x57b3e9));!function(_0xa7096a,_0x46f51f){const _0x21de3a=_0xa7096a['model']['document']['getRootNames']()['reduce']((_0x5926be,_0x35cac7)=>(_0x5926be[_0x35cac7]=_0xa7096a['data']['get']({'rootName':_0x35cac7}),_0x5926be),{}),_0x48c3f6=_0xa7096a['plugins']['get']('Users')['users']['map'](_0x3de12a=>({'id':_0x3de12a['id'],'name':_0x3de12a['name']})),_0x4d5fa8=_0xa7096a['plugins']['get']('TrackChangesEditing')['getSuggestions']({'skipNotAttached':!0x0,'toJSON':!0x0}),_0x5358c7=_0xa7096a['plugins']['get']('CommentsRepository')['getCommentThreads']({'skipNotAttached':!0x0,'toJSON':!0x0}),_0x5e9b5a=_0x46f51f['plugins']['get']('Users'),_0x352b4b=_0x46f51f['plugins']['get']('TrackChangesEditing'),_0x56e3fd=_0x46f51f['plugins']['get']('CommentsRepository');for(const _0x2bc052 of _0x56e3fd['getCommentThreads']())_0x2bc052['remove']();for(const _0x2803ce of _0x48c3f6)_0x5e9b5a['getUser'](_0x2803ce['id'])||_0x5e9b5a['addUser'](_0x2803ce);_0x5e9b5a['me']||_0x5e9b5a['useAnonymousUser']();for(const _0x5aa79d of _0x5358c7)_0x56e3fd['addCommentThread'](_0x5aa79d);for(const _0x51e332 of _0x4d5fa8)_0x352b4b['addSuggestionData'](_0x51e332);_0x46f51f['data']['set'](_0x21de3a);}(_0x2b71ea,_0x889232),_0x889232['execute'](_0x5029f8?'acceptAllSuggestions':'discardAllSuggestions');const _0x2a02d2=Ge(_0x889232)?_0x889232['getFullData'](_0x4d589b):_0x889232['data']['get'](_0x4d589b);return await _0x889232['destroy'](),_0x2a02d2;}class Me extends _0x38c1a4{['options'];constructor(_0x134b7f,_0xb4eb82){super(_0x134b7f),this['options']=_0xb4eb82,this['setTemplate']({'tag':'div','attributes':{'class':['ck','ck-reset','ck-track-changes-preview'],'tabindex':-0x1}});}['render'](){super['render'](),this['element']['style']['width']=this['options']['dialogRects']['width']+'px',this['element']['style']['height']=this['options']['dialogRects']['height']+'px';}['setPreviewData'](_0x213c75,_0x36055a){if(!this['element'])return;const _0x942280=[];for(const [_0x113499,_0xcad860]of _0x213c75){const _0x38a7d3=document['createElement']('div');_0x38a7d3['setAttribute']('data-ck-root-name',_0x113499),_0x38a7d3['className']=_0xcad860['classes']+'\x20ck-track-changes-preview__root-container',_0x38a7d3['innerHTML']=_0xcad860['content'],_0x942280['push'](_0x38a7d3);}_0x36055a(this['element'],_0x942280),this['element']['style']['height']='',this['fire']('previewDataReady');}['focus'](){this['element']['focus']();}}class re extends _0x1b73d0{constructor(_0x4c553a){super(_0x4c553a),this['affectsData']=!0x1,this['isEnabled']=!0x0;}['refresh'](){this['isEnabled']=!0x0;}['execute'](){const _0x4254e4=this['editor'],_0x42ad1a=_0x4254e4['locale'],_0x856830=_0x4254e4['plugins']['get']('Dialog');let _0x2192a0;const _0x359dfa=function(_0x49ca12){const _0x2331ec={};if('editables'in _0x49ca12['ui']['view']){for(const [_0x59ee5f,_0x315a26]of Object['entries'](_0x49ca12['ui']['view']['editables']))_0x2331ec[_0x59ee5f]=_0x315a26['element'];}else _0x2331ec[_0x49ca12['model']['document']['getRootNames']()[0x0]]=_0x49ca12['ui']['view']['editable']['element'];return _0x2331ec;}(_0x4254e4),_0x528db2=function(_0x451c41){let _0xc4a080=0x0;for(const _0x286397 of Object['values'](_0x451c41))_0xc4a080=Math['max'](_0xc4a080,_0x286397['getBoundingClientRect']()['width']);let _0x38c217=0x0;for(const _0x2c4aeb of Object['values'](_0x451c41))_0x38c217+=_0x2c4aeb['getBoundingClientRect']()['height'];const _0x35a012=0.8*Math['max'](document['documentElement']['clientHeight'],window['innerHeight']),_0x54f79f=Math['min'](_0x38c217,_0x35a012);return{'width':_0xc4a080,'height':_0x54f79f};}(_0x359dfa);_0x856830['show']({'id':'finalContentPreview','title':c(_0x42ad1a,'Final\x20content\x20preview'),'isModal':!0x0,'className':'ck-track-changes-preview-dialog','content':new Me(_0x42ad1a,{'dialogRects':_0x528db2}),'onHide':()=>{_0x2192a0['detachFromDom']();},'onShow':()=>{_0x4254e4['plugins']['get']('TrackChangesData')['getDataWithAcceptedSuggestions']({...this['_getMergeFieldsData']()})['then'](_0x1e976f=>{const _0xd76ffd=this['_standarizeRootsData'](_0x1e976f,_0x4254e4,_0x359dfa);_0x856830['view']['contentView']['children']['get'](0x0)['setPreviewData'](_0xd76ffd,_0x4254e4['config']['get']('trackChanges.preview.renderFunction'));}),_0x2192a0=new _0x19eef3(_0x42ad1a,[_0x856830['view']]),_0x2192a0['attachToDom'](),_0x2192a0['bodyCollectionContainer']['classList']['remove']('ck-reset_all'),_0x4254e4['once']('destroy',()=>{_0x2192a0['detachFromDom']();});const _0x42cda4=_0x856830['view']['headerView']['class'];_0x856830['view']['headerView']['class']=_0x42cda4?_0x42cda4+'\x20ck-reset_all':'ck-reset_all',_0x856830['view']['contentView']['children']['get'](0x0)['on']('previewDataReady',()=>{_0x856830['view']['updatePosition']();});}});}['_getMergeFieldsData'](){if(!this['editor']['plugins']['has']('MergeFieldsEditing'))return{};const _0x139b48=this['editor']['plugins']['get']('MergeFieldsEditing'),_0x42515d=_0x139b48['previewMode'],_0x74983b={};if('$labels'===_0x42515d){for(const _0x4d38a7 of _0x139b48['getMergeFieldsIds']())_0x74983b[_0x4d38a7]=_0x139b48['getLabel'](_0x4d38a7)||_0x4d38a7;}else{const _0x1c141f='$defaultValues'===_0x42515d?_0x139b48['getDefaultValues']():_0x139b48['getDataSetValues'](_0x42515d,!0x0);for(const _0x2bfb3f of Object['entries'](_0x1c141f)){const [_0x3f69c9,_0x119bd7]=_0x2bfb3f;_0x74983b[_0x3f69c9]=null!==_0x119bd7?_0x119bd7:_0x139b48['getLabel'](_0x3f69c9)||_0x3f69c9;}}return{'mergeFieldsData':_0x74983b};}['_standarizeRootsData'](_0x466e1c,_0x3a2f61,_0x36f3d8){let _0x5902b9;if('string'==typeof _0x466e1c){const _0x597639=_0x3a2f61['model']['document']['getRootNames']()[0x0];_0x5902b9={[_0x597639]:_0x466e1c};}else _0x5902b9=_0x466e1c;const _0x885454=this['_fixMediaEmbeds'](_0x5902b9,_0x3a2f61),_0x37d03f=function(_0x309c9b,_0x545332){for(const [_0x2218bb,_0x4b0107]of _0x309c9b)_0x4b0107['classes']=_0x545332[_0x2218bb]['classList']['value']['replace']('ck-focused','');return _0x309c9b;}(this['_sortRoots'](_0x3a2f61)['reduce']((_0x154a50,_0x226f21)=>(_0x154a50['push']([_0x226f21,{'content':_0x885454[_0x226f21],'classes':''}]),_0x154a50),[]),_0x36f3d8);return _0x37d03f;}['_fixMediaEmbeds'](_0x59c69c,_0x5bd4bb){if(!_0x5bd4bb['plugins']['has']('MediaEmbedEditing'))return _0x59c69c;const _0x57027e=_0x5bd4bb['plugins']['get']('MediaEmbedEditing');for(const [_0x4cc27e,_0x22db22]of Object['entries'](_0x59c69c)){const _0x44b051=document['createElement']('div');_0x44b051['innerHTML']=_0x22db22,(_0x44b051['querySelectorAll']('figure.media')['forEach'](_0x2596b0=>{const _0x41082e=_0x2596b0['querySelector']('oembed');if(_0x41082e){const _0x72e372=_0x41082e['getAttribute']('url');if(_0x72e372){const _0x3cfaad=_0x57027e['registry']['getMediaViewElement'](new _0x3a040f(_0x5bd4bb['editing']['view']['document']),_0x72e372,{'elementName':'','renderForEditingView':!0x0}),_0x4cef02=document['createElement']('div');_0x4cef02['classList']['add']('ck-media__wrapper'),_0x3cfaad['render'](_0x4cef02,_0x5bd4bb['editing']['view']['domConverter']),_0x41082e['replaceWith'](_0x4cef02);}}}),_0x59c69c[_0x4cc27e]=_0x44b051['innerHTML']);}return _0x59c69c;}['_sortRoots'](_0x45df07){if(!function(_0x1cace5){return void 0x0!==_0x1cace5['getRootsAttributes'];}(_0x45df07))return _0x45df07['model']['document']['getRootNames']();const _0x102388=[],_0x5a6086=new Map();for(const _0x21904e of _0x45df07['model']['document']['getRootNames']()){const _0x401c3d=_0x45df07['editing']['view']['getDomRoot'](_0x21904e)['getClientRects']()['item'](0x0);_0x102388['push'](_0x21904e),_0x5a6086['set'](_0x21904e,_0x401c3d);}return _0x102388['sort']((_0xb2e149,_0x4b0115)=>{const _0x5a6c41=_0x5a6086['get'](_0xb2e149),_0x175f9f=_0x5a6086['get'](_0x4b0115);return _0x5a6c41['y']-_0x175f9f['y']||_0x5a6c41['x']-_0x175f9f['x'];}),_0x102388;}}class te extends _0x16d8d0{static get['requires'](){return[T,_0x3667cf];}static get['pluginName'](){return'TrackChangesPreview';}static get['isOfficialPlugin'](){return!0x0;}static get['isPremiumPlugin'](){return!0x0;}constructor(_0x21dacc){super(_0x21dacc),_0x21dacc['commands']['add']('previewFinalContent',new re(this['editor'])),_0x21dacc['config']['define']('trackChanges.preview.renderFunction',(_0x4e7661,_0x249a23)=>{for(const _0x2227ea of _0x249a23)_0x4e7661['appendChild'](_0x2227ea);});}}export{us as BaseSuggestionThreadView,o as Suggestion,fe as SuggestionThreadView,we as SuggestionView,k as TrackChanges,T as TrackChangesData,p as TrackChangesEditing,te as TrackChangesPreview};