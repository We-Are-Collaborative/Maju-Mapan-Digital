/*
 *             Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x51c300=_0x5872;(function(_0x2331d3,_0x520e59){const _0x2461f0=_0x5872,_0x497856=_0x2331d3();while(!![]){try{const _0x2d66b1=parseInt(_0x2461f0(0xd3))/0x1*(parseInt(_0x2461f0(0xcb))/0x2)+parseInt(_0x2461f0(0xbf))/0x3*(-parseInt(_0x2461f0(0x9c))/0x4)+parseInt(_0x2461f0(0xac))/0x5*(parseInt(_0x2461f0(0xae))/0x6)+parseInt(_0x2461f0(0xdc))/0x7*(-parseInt(_0x2461f0(0x93))/0x8)+-parseInt(_0x2461f0(0xd8))/0x9+-parseInt(_0x2461f0(0xa5))/0xa*(parseInt(_0x2461f0(0xc7))/0xb)+parseInt(_0x2461f0(0x94))/0xc;if(_0x2d66b1===_0x520e59)break;else _0x497856['push'](_0x497856['shift']());}catch(_0x812d94){_0x497856['push'](_0x497856['shift']());}}}(_0x111f,0xc3954));function _0x5872(_0x336a36,_0x3f6b5b){const _0x111fa5=_0x111f();return _0x5872=function(_0x587293,_0x3056df){_0x587293=_0x587293-0x93;let _0x28ca3b=_0x111fa5[_0x587293];return _0x28ca3b;},_0x5872(_0x336a36,_0x3f6b5b);}import{IconUploadcareImageUpload as _0x27d08f}from'ckeditor5/src/icons.js';import{ObservableMixin as _0x3326c8}from'ckeditor5/src/utils.js';import{Dialog as _0x50c5bb,DialogViewPosition as _0x1fd56b}from'ckeditor5/src/ui.js';import _0x3a622e from'./uploadcareformview.js';function _0x111f(){const _0x53dc7e=['insertImage','get','removeAllFiles','focus','imageInfo','1484908aKPROc','_api','_formView','element','width','destroy','execute','selection','setSelection','10qbndjj','done-click','_insertAsset','view','image','Insert','Replace','53770BnkwGP','getOutputCollectionState','234DGaMWh','plugins','Local','_initDialog','_dialog','configElement','imageBlock','stopListening','ctxElement','imageInline','detail','show','idle','setCurrentActivity','_type','removeSelectionAttribute','doneFlow','12VXYaHk','stopDelegating','_initListeners','source-list','getSelectedElement','_editing','length','addEventListener','3443627CJLGaJ','allEntries','attributes','text','78XCvbYV','document','uuid','setAttribute','initFlow','status','model','change','33430yPBSnB','editing','isOpen','_insertImage','_editor','13890645vtkdYg','linkHref','EDITOR_TOP_CENTER','hide','316967pqJdQJ','uploadCare','216EgenUN','43702668EyfDYN','getAPI','getLastPosition'];_0x111f=function(){return _0x53dc7e;};return _0x111f();}import{UploadcareSource as _0x204364}from'../uploadcareconfig.js';import{getTranslation as _0xf2e2e8}from'../utils/common-translations.js';import{getImageUrls as _0x36a697,getImageDimension as _0x2abf1a}from'../utils/editingutils.js';import{isAncestor as _0x4145c3}from'../utils/isancestor.js';export default class l extends/* #__PURE__ -- @preserve */
_0x3326c8(){[_0x51c300(0xd7)];[_0x51c300(0xb2)];[_0x51c300(0xc4)];[_0x51c300(0x9d)];[_0x51c300(0xbc)]=null;[_0x51c300(0x9e)]=null;constructor(_0x3dbd7b,_0x346056,_0x780a83){const _0xfdacf4=_0x51c300;super(),this[_0xfdacf4(0xd7)]=_0x3dbd7b,this[_0xfdacf4(0xc4)]=_0x346056,this[_0xfdacf4(0xb2)]=_0x3dbd7b[_0xfdacf4(0xaf)][_0xfdacf4(0x98)](_0x50c5bb),this[_0xfdacf4(0x9d)]=_0x346056[_0xfdacf4(0xb6)][_0xfdacf4(0x95)](),this[_0xfdacf4(0xbc)]=_0x780a83,this[_0xfdacf4(0xc4)][_0xfdacf4(0xb3)][_0xfdacf4(0xce)](_0xfdacf4(0xc2),this[_0xfdacf4(0xbc)]),this[_0xfdacf4(0xb1)](),this[_0xfdacf4(0xc1)](),this[_0xfdacf4(0x9d)][_0xfdacf4(0xcf)]();}[_0x51c300(0xa1)](){const _0x449ea4=_0x51c300;this[_0x449ea4(0x9e)]&&(this[_0x449ea4(0x9e)][_0x449ea4(0xa1)](),this[_0x449ea4(0x9e)]=null),this[_0x449ea4(0x9d)]&&this[_0x449ea4(0x9d)][_0x449ea4(0xbe)](),this[_0x449ea4(0xb5)](),this[_0x449ea4(0xc0)]();}[_0x51c300(0xb1)](){const _0xf14733=_0x51c300,{locale:_0x44b7cb,model:_0x4e17f7}=this[_0xf14733(0xd7)],_0x55b73c=_0x4e17f7[_0xf14733(0xcc)][_0xf14733(0xa3)][_0xf14733(0xc3)](),_0x1bc453=_0x55b73c&&(_0x55b73c['is'](_0xf14733(0x9f),_0xf14733(0xb4))||_0x55b73c['is'](_0xf14733(0x9f),_0xf14733(0xb7)));this[_0xf14733(0x9e)]=new _0x3a622e(_0x44b7cb),this[_0xf14733(0xb2)][_0xf14733(0xb9)]({'id':_0xf14733(0xdd),'icon':_0x27d08f,'title':_0xf2e2e8(_0x44b7cb,this[_0xf14733(0xbc)],_0x1bc453?_0xf14733(0xab):_0xf14733(0xaa))[_0xf14733(0xca)],'content':this[_0xf14733(0x9e)],'position':_0x1fd56b[_0xf14733(0xda)],'isModal':!0x0,'onShow':()=>{const _0x554035=_0xf14733;this[_0x554035(0x9e)][_0x554035(0x9a)]();},'onHide':()=>{const _0x34c72c=_0xf14733;this[_0x34c72c(0x9d)][_0x34c72c(0x99)](),this[_0x34c72c(0xd7)][_0x34c72c(0xd4)][_0x34c72c(0xa8)][_0x34c72c(0x9a)](),this[_0x34c72c(0xa1)]();},'keystrokeHandlerOptions':{'filter':_0xc67a3f=>!_0x4145c3(_0xc67a3f,this[_0xf14733(0x9e)][_0xf14733(0x9f)])}});}[_0x51c300(0xc1)](){const _0x2641e1=_0x51c300;this[_0x2641e1(0xc4)][_0x2641e1(0xb6)][_0x2641e1(0xc6)](_0x2641e1(0xa6),()=>{const _0x21dd82=_0x2641e1,{allEntries:_0x109a3d}=this[_0x21dd82(0x9d)][_0x21dd82(0xad)]();this[_0x21dd82(0xd7)][_0x21dd82(0xd1)][_0x21dd82(0xd2)](_0x5d9e1c=>{const _0x295b58=_0x21dd82,_0x25fc55=_0x109a3d[_0x295b58(0xc5)];for(const _0x480442 of _0x109a3d){const _0x5d7c82=_0x480442===_0x109a3d[_0x25fc55-0x1],{cdnUrl:_0x5e7439,fileInfo:_0x1ba4e3}=_0x480442;if(!_0x5e7439||!_0x1ba4e3)continue;const {width:_0x1533a6,height:_0x519595}=_0x1ba4e3[_0x295b58(0x9b)],_0x1ebffc=_0x2abf1a(_0x5e7439,_0x1533a6,_0x519595),_0x472998=_0x36a697(_0x5e7439,_0x1ebffc[_0x295b58(0xa0)]),_0x5c919d={'id':_0x1ba4e3[_0x295b58(0xcd)],'type':_0x295b58(0xa9),'attributes':{'imageDimension':_0x1ebffc,..._0x472998}};this[_0x295b58(0xa7)](_0x5c919d,_0x5d7c82,_0x5d9e1c);}}),this[_0x21dd82(0xb2)][_0x21dd82(0xdb)]();}),this[_0x2641e1(0xc4)][_0x2641e1(0xb6)][_0x2641e1(0xc6)](_0x2641e1(0xd2),_0x2cfbd7=>{const _0x30358e=_0x2641e1;_0x30358e(0xba)===_0x2cfbd7[_0x30358e(0xb8)][_0x30358e(0xd0)]&&!_0x2cfbd7[_0x30358e(0xb8)][_0x30358e(0xc8)][_0x30358e(0xc5)]&&this[_0x30358e(0xb2)][_0x30358e(0xd5)]&&(this[_0x30358e(0xbc)]===_0x204364[_0x30358e(0xb0)]?this[_0x30358e(0x9d)][_0x30358e(0xbb)](_0x204364[_0x30358e(0xb0)]):this[_0x30358e(0x9d)][_0x30358e(0xcf)]());});}[_0x51c300(0xa7)](_0x55e65a,_0x5d7001,_0x4ea2e6){const _0x1c6078=_0x51c300,_0x66d5db=this[_0x1c6078(0xd7)][_0x1c6078(0xd1)][_0x1c6078(0xcc)][_0x1c6078(0xa3)],_0x1ec8a6=_0x66d5db[_0x1c6078(0xc3)](),_0x55e62e=!(!_0x1ec8a6||!_0x1ec8a6['is'](_0x1c6078(0x9f),_0x1c6078(0xb7)));_0x4ea2e6[_0x1c6078(0xbd)](_0x1c6078(0xd9)),this[_0x1c6078(0xd6)](_0x55e65a,_0x55e62e),_0x5d7001||_0x4ea2e6[_0x1c6078(0xa4)](_0x66d5db[_0x1c6078(0x96)]());}[_0x51c300(0xd6)](_0x1c4b75,_0x241a96){const _0x3ef201=_0x51c300,_0x1ed761=this[_0x3ef201(0xd7)],{imageDimension:_0x2680ad,imageFallbackUrl:_0x472206,imageSources:_0x484824}=_0x1c4b75[_0x3ef201(0xc9)];_0x1ed761[_0x3ef201(0xa2)](_0x3ef201(0x97),{'imageType':_0x241a96?_0x3ef201(0xb7):null,'source':{'uploadcareImageId':_0x1c4b75['id'],'src':_0x472206,'sources':_0x484824,..._0x2680ad}});}}