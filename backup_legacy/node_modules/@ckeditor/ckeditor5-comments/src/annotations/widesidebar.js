/*
 *             Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x39854f=_0xcc60;function _0xcc60(_0x1ab61c,_0x22167c){const _0x50ba18=_0x50ba();return _0xcc60=function(_0xcc608f,_0x5b6e4c){_0xcc608f=_0xcc608f-0x1d7;let _0x95f01b=_0x50ba18[_0xcc608f];return _0x95f01b;},_0xcc60(_0x1ab61c,_0x22167c);}(function(_0x5bf0f2,_0x43a0d0){const _0x1b04fd=_0xcc60,_0x185cf3=_0x5bf0f2();while(!![]){try{const _0x2d7cf4=-parseInt(_0x1b04fd(0x1fc))/0x1+parseInt(_0x1b04fd(0x1db))/0x2+-parseInt(_0x1b04fd(0x1f0))/0x3*(-parseInt(_0x1b04fd(0x1f4))/0x4)+-parseInt(_0x1b04fd(0x1f6))/0x5+-parseInt(_0x1b04fd(0x20d))/0x6+parseInt(_0x1b04fd(0x213))/0x7*(parseInt(_0x1b04fd(0x1f2))/0x8)+parseInt(_0x1b04fd(0x1dc))/0x9;if(_0x2d7cf4===_0x43a0d0)break;else _0x185cf3['push'](_0x185cf3['shift']());}catch(_0x30735e){_0x185cf3['push'](_0x185cf3['shift']());}}}(_0x50ba,0x52ddf));import{ContextPlugin as _0x3862c9,Context as _0x201e3b}from'ckeditor5/src/core.js';import _0x669ace from'./annotationsuis.js';function _0x50ba(){const _0x18ab0c=['EditorAnnotations','8NIjqJR','remove','23132Xxrttd','activeAnnotation','2404055zloOOa','setActiveAnnotation','_refreshPositioningDebounced','WideSidebar','isAttached','has','566611wResOp','addAnnotation','off','rearrange','stop','widesidebar-detach-not-attached','register','listenTo','attach','init','isOfficialPlugin','hasDomSelection','_detachFromContainer','pluginName','destroy','set:container','focus','18006CCbAVk','stopListening','widesidebar-attach-already-attached','cancel','container','ck-sidebar--wide','1964109gnKpnb','_integrateWithEditorAnnotations','addEventListener','detach','_activeAnnotation','requires','updateTargetRect','high','_attachToContainer','set','_destroyEditorAnnotationsIntegration','annotations','get','215624etfWIq','7711848aHTSgb','ready','from','_editorAnnotations','context','blur','getOrderedSelectedAnnotations','uiUpdate','add','wideSidebar','refreshPositioning','resize','change:container','plugins','refresh','removeEventListener','_annotations','isPremiumPlugin','switchTo','editors','75yMRwVP'];_0x50ba=function(){return _0x18ab0c;};return _0x50ba();}import _0x4f22e8 from'./sidebar.js';import{CKEditorError as _0x3e094d,Collection as _0x2e1cb9}from'ckeditor5/src/utils.js';import{debounce as _0x2292e8}from'es-toolkit/compat';export default class e extends _0x3862c9{[_0x39854f(0x1fa)];[_0x39854f(0x1d9)];[_0x39854f(0x1df)];[_0x39854f(0x1f8)];static get[_0x39854f(0x218)](){return[_0x4f22e8,_0x669ace];}static get[_0x39854f(0x209)](){const _0x5e4b9f=_0x39854f;return _0x5e4b9f(0x1f9);}static get[_0x39854f(0x206)](){return!0x0;}static get[_0x39854f(0x1ed)](){return!0x0;}constructor(_0x1ff94b){const _0x3cbefc=_0x39854f;super(_0x1ff94b),this[_0x3cbefc(0x1fa)]=!0x1,this[_0x3cbefc(0x1d7)](_0x3cbefc(0x1f5),null),this[_0x3cbefc(0x1d9)]=null,this[_0x3cbefc(0x1df)]=new _0x2e1cb9(),this[_0x3cbefc(0x1f8)]=_0x2292e8(()=>{const _0x188b23=_0x3cbefc;this[_0x188b23(0x1d9)][_0x188b23(0x1e6)]();},0xfa,{'leading':!0x1});}[_0x39854f(0x205)](){const _0x36e268=_0x39854f,_0x10b9cd=this[_0x36e268(0x1e0)][_0x36e268(0x1e9)][_0x36e268(0x1da)](_0x669ace),_0x2d899e=this[_0x36e268(0x1e0)][_0x36e268(0x1e9)][_0x36e268(0x1da)](_0x4f22e8);_0x10b9cd[_0x36e268(0x202)](_0x36e268(0x1e5),this),_0x2d899e[_0x36e268(0x211)]&&_0x10b9cd[_0x36e268(0x1ee)](_0x36e268(0x1e5));}[_0x39854f(0x1f7)](_0x41bea4){const _0x11b882=_0x39854f;if(_0x41bea4===this[_0x11b882(0x1f5)])return;const _0x7d241b=this[_0x11b882(0x1e0)][_0x11b882(0x1e9)][_0x11b882(0x1da)](_0x4f22e8);_0x7d241b[_0x11b882(0x217)]=_0x41bea4;const _0x3d316b=this[_0x11b882(0x1f5)];_0x7d241b[_0x11b882(0x1ea)]({'blurredAnnotation':_0x3d316b,'activatedAnnotation':_0x41bea4}),this[_0x11b882(0x1f5)]=_0x41bea4;}[_0x39854f(0x204)](_0x534e9b){const _0x298c08=_0x39854f;this[_0x298c08(0x1d9)]=_0x534e9b;const _0x26dc73=this[_0x298c08(0x1e0)][_0x298c08(0x1e9)][_0x298c08(0x1da)](_0x4f22e8);if(_0x26dc73[_0x298c08(0x1ec)]=_0x534e9b,this[_0x298c08(0x1fa)])throw new _0x3e094d(_0x298c08(0x20f),this);this[_0x298c08(0x1fa)]=!0x0,this[_0x298c08(0x203)](_0x26dc73,_0x298c08(0x20b),()=>{const _0x29fbf0=_0x298c08;this[_0x29fbf0(0x216)](),this[_0x29fbf0(0x203)](_0x26dc73,_0x29fbf0(0x1e8),_0x3df3a7=>{const _0x88c3ae=_0x29fbf0;_0x3df3a7[_0x88c3ae(0x1fe)](),this[_0x88c3ae(0x204)](_0x534e9b);});}),_0x26dc73[_0x298c08(0x21b)]({'viewClass':_0x298c08(0x212)});const _0x2ec392=_0x228556=>{const _0x188c05=_0x298c08;_0x228556[_0x188c05(0x219)](),_0x26dc73[_0x188c05(0x1fd)](_0x228556);};for(const _0x153a12 of _0x534e9b)_0x2ec392(_0x153a12);this[_0x298c08(0x203)](_0x534e9b,_0x298c08(0x1e4),(_0x1464aa,_0x3f326a)=>{_0x2ec392(_0x3f326a);}),this[_0x298c08(0x203)](_0x534e9b,_0x298c08(0x1f3),(_0x52d4e0,_0xfb6fd4,_0x208d51)=>{const _0x10ae98=_0x298c08;_0x26dc73[_0x10ae98(0x1ff)]({'removedAnnotation':_0xfb6fd4,'previousAnnotation':_0x534e9b[_0x10ae98(0x1da)](_0x208d51-0x1),'nextAnnotation':_0x534e9b[_0x10ae98(0x1da)](_0x208d51+0x1)}),_0xfb6fd4===this[_0x10ae98(0x1f5)]&&this[_0x10ae98(0x1f7)](null);},{'priority':_0x298c08(0x21a)}),this[_0x298c08(0x203)](_0x534e9b,_0x298c08(0x20c),(_0x59cb5b,_0x1d43fd)=>{const _0x4b7de6=_0x298c08;this[_0x4b7de6(0x1f7)](_0x1d43fd);}),this[_0x298c08(0x203)](_0x534e9b,_0x298c08(0x1e1),()=>{const _0x5b50de=_0x298c08;this[_0x5b50de(0x1f7)](null);});const _0x4219b8=this[_0x298c08(0x1e0)]instanceof _0x201e3b?this[_0x298c08(0x1e0)][_0x298c08(0x1ef)]:new _0x2e1cb9([this[_0x298c08(0x1e0)]]);for(const _0x1bab3e of _0x4219b8)this[_0x298c08(0x214)](_0x1bab3e);this[_0x298c08(0x203)](_0x4219b8,_0x298c08(0x1e4),(_0x481ee0,_0x23670e)=>{const _0x5298da=_0x298c08;this[_0x5298da(0x203)](_0x23670e,_0x5298da(0x1dd),()=>{const _0x1b54a0=_0x5298da;this[_0x1b54a0(0x214)](_0x23670e);});}),this[_0x298c08(0x203)](_0x4219b8,_0x298c08(0x1f3),(_0xa0607e,_0x44926e)=>{const _0x3a43bd=_0x298c08;_0x44926e[_0x3a43bd(0x1e9)][_0x3a43bd(0x1fb)](_0x3a43bd(0x1f1))&&this[_0x3a43bd(0x1d8)](_0x44926e[_0x3a43bd(0x1e9)][_0x3a43bd(0x1da)](_0x3a43bd(0x1f1)));}),window[_0x298c08(0x215)](_0x298c08(0x1e7),this[_0x298c08(0x1f8)]),this[_0x298c08(0x1d9)][_0x298c08(0x1e6)]();}[_0x39854f(0x216)](){const _0x24b418=_0x39854f;if(!this[_0x24b418(0x1fa)])throw new _0x3e094d(_0x24b418(0x201),this);this[_0x24b418(0x1f7)](null);const _0x5ac3dd=this[_0x24b418(0x1e0)][_0x24b418(0x1e9)][_0x24b418(0x1da)](_0x4f22e8);_0x5ac3dd[_0x24b418(0x208)](this[_0x24b418(0x1d9)]),this[_0x24b418(0x20e)](_0x5ac3dd),this[_0x24b418(0x20e)](this[_0x24b418(0x1d9)]),this[_0x24b418(0x1e0)]instanceof _0x201e3b&&this[_0x24b418(0x20e)](this[_0x24b418(0x1e0)][_0x24b418(0x1ef)]);for(const _0x19498a of Array[_0x24b418(0x1de)](this[_0x24b418(0x1df)]))this[_0x24b418(0x1d8)](_0x19498a);window[_0x24b418(0x1eb)](_0x24b418(0x1e7),this[_0x24b418(0x1f8)]),this[_0x24b418(0x1f8)][_0x24b418(0x210)](),this[_0x24b418(0x1f5)]=null,this[_0x24b418(0x1fa)]=!0x1,this[_0x24b418(0x1d9)]=null;}[_0x39854f(0x20a)](){const _0xac2291=_0x39854f;this[_0xac2291(0x1fa)]&&this[_0xac2291(0x216)]();}[_0x39854f(0x214)](_0x41ad0b){const _0x4c71e6=_0x39854f;if(!_0x41ad0b[_0x4c71e6(0x1e9)][_0x4c71e6(0x1fb)](_0x4c71e6(0x1f1)))return;const _0x638f66=_0x41ad0b[_0x4c71e6(0x1e9)][_0x4c71e6(0x1da)](_0x4c71e6(0x1f1)),_0x808b84=()=>{const _0x521b5e=_0x4c71e6,_0x4b46ec=_0x638f66[_0x521b5e(0x1e2)]({'annotations':this[_0x521b5e(0x1d9)],'activeAnnotation':this[_0x521b5e(0x1f5)]});this[_0x521b5e(0x1f7)](_0x4b46ec[0x0]||null);};this[_0x4c71e6(0x203)](_0x638f66,_0x4c71e6(0x1ea),_0x808b84),this[_0x4c71e6(0x203)](_0x638f66,_0x4c71e6(0x1e1),(_0x3747fe,{isAnnotationTracked:_0x3b1cd2})=>{const _0x321aa3=_0x4c71e6;this[_0x321aa3(0x1f5)]&&_0x3b1cd2(this[_0x321aa3(0x1f5)])&&this[_0x321aa3(0x1f7)](null);}),this[_0x4c71e6(0x203)](_0x638f66,_0x4c71e6(0x1e3),()=>{const _0x59ce9c=_0x4c71e6;this[_0x59ce9c(0x1f8)]();}),this[_0x4c71e6(0x203)](this[_0x4c71e6(0x1d9)],_0x4c71e6(0x1e1),_0x142a8e=>{const _0x19f6ab=_0x4c71e6;_0x638f66[_0x19f6ab(0x207)]()&&(_0x808b84(),_0x142a8e[_0x19f6ab(0x200)]());},{'priority':_0x4c71e6(0x21a)}),this[_0x4c71e6(0x1df)][_0x4c71e6(0x1e4)](_0x638f66);}[_0x39854f(0x1d8)](_0x297e95){const _0x10780d=_0x39854f;this[_0x10780d(0x20e)](_0x297e95),this[_0x10780d(0x1df)][_0x10780d(0x1f3)](_0x297e95);}}