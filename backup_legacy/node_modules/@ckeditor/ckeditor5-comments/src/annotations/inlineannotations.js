/*
 *             Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0xd3352c=_0xb541;(function(_0x1a3c20,_0xe96015){const _0x445b7c=_0xb541,_0xe8c5eb=_0x1a3c20();while(!![]){try{const _0x39fcd2=parseInt(_0x445b7c(0x103))/0x1*(-parseInt(_0x445b7c(0x12d))/0x2)+parseInt(_0x445b7c(0xf9))/0x3*(-parseInt(_0x445b7c(0xff))/0x4)+-parseInt(_0x445b7c(0x11f))/0x5+-parseInt(_0x445b7c(0xe5))/0x6+-parseInt(_0x445b7c(0xfc))/0x7+-parseInt(_0x445b7c(0x12c))/0x8*(-parseInt(_0x445b7c(0xdb))/0x9)+parseInt(_0x445b7c(0x132))/0xa;if(_0x39fcd2===_0xe96015)break;else _0xe8c5eb['push'](_0xe8c5eb['shift']());}catch(_0x1e741d){_0xe8c5eb['push'](_0xe8c5eb['shift']());}}}(_0x4c71,0x76333));import{Plugin as _0x3c66b4}from'ckeditor5/src/core.js';import _0x228477 from'./annotationsuis.js';import _0x401f17 from'./editorannotations.js';import{ContextualBalloon as _0x2c18e2}from'ckeditor5/src/ui.js';import{MouseObserver as _0x9aed71}from'ckeditor5/src/engine.js';import{CKEditorError as _0x23b20,Rect as _0x4fc98a}from'ckeditor5/src/utils.js';function _0x4c71(){const _0x2a7945=['1736700IOhPRn','from','_manuallyClosed','targetRect','change:height','listenTo','inlineannotations-attach-already-attached','map','delete','_addedAnnotations','_setSelectedAnnotations','_removeAnnotationFromBalloon','context','collapse','add','afterInit','inlineannotations-detach-not-attached','InlineAnnotations','showStack','update','3sHtugO','change:isFocused','isFocused','5111687YqOehg','_forceRefresh','hasActive','2977016yDjWDP','isPremiumPlugin','includes','detach','146389agWvdv','right','fromRect','switchTo','annotations','destroy','_getBalloonTargetForAnnotation','mousedown','updatePosition','left','width','viewRangeToDom','inline','document','view','hasView','editableElement','getClientRects','isActive','editor','keystrokes','plugins','_closeAnnotation','remove','change:visibleView','Esc','isOfficialPlugin','getOrderedSelectedAnnotations','2379840auNmFz','requires','domConverter','every','setActiveAnnotation','push','_selectedAnnotations','length','blur','find','activeAnnotation','refresh','focusTracker','8BpqJtY','4SvVLhn','visibleView','selection','_addAnnotationToBalloon','attach','22000160tXGlaZ','pluginName','editing','clear','_balloon','register','getBoundingClientRect','getFirstRange','stopListening','focus','getByView','inlineannotations-not-allowed-with-context','7351398sKkPmp','target','set','addObserver','isAttached','get','init','bottom','top','has'];_0x4c71=function(){return _0x2a7945;};return _0x4c71();}import'./../../theme/annotation-inline.css';export default class c extends _0x3c66b4{[_0xd3352c(0xdf)];[_0xd3352c(0x107)];[_0xd3352c(0xe7)];[_0xd3352c(0x136)];[_0xd3352c(0xee)];[_0xd3352c(0x125)];[_0xd3352c(0xfd)];static get[_0xd3352c(0x120)](){return[_0x401f17,_0x2c18e2,_0x228477];}static get[_0xd3352c(0x133)](){const _0x262b48=_0xd3352c;return _0x262b48(0xf6);}static get[_0xd3352c(0x11d)](){return!0x0;}static get[_0xd3352c(0x100)](){return!0x0;}constructor(_0x5e69cd){const _0x2807c7=_0xd3352c;super(_0x5e69cd),_0x5e69cd[_0x2807c7(0x134)][_0x2807c7(0x111)][_0x2807c7(0xde)](_0x9aed71),this[_0x2807c7(0xdf)]=!0x1,this[_0x2807c7(0xdd)](_0x2807c7(0x129),null),this[_0x2807c7(0x107)]=null,this[_0x2807c7(0xe7)]=new Set(),this[_0x2807c7(0x136)]=_0x5e69cd[_0x2807c7(0x118)][_0x2807c7(0xe0)](_0x2c18e2),this[_0x2807c7(0xee)]=new Set(),this[_0x2807c7(0x125)]=[],this[_0x2807c7(0xfd)]=!0x1;}[_0xd3352c(0xe1)](){const _0x4711bc=_0xd3352c,_0x71db74=this[_0x4711bc(0x116)][_0x4711bc(0x118)][_0x4711bc(0xe0)](_0x228477);_0x71db74[_0x4711bc(0xf1)]===this[_0x4711bc(0x116)]&&(_0x71db74[_0x4711bc(0xd4)](_0x4711bc(0x10f),this),this[_0x4711bc(0x116)][_0x4711bc(0x117)][_0x4711bc(0xdd)](_0x4711bc(0x11c),(_0x28c280,_0x8971d5)=>{const _0x2ac2db=_0x4711bc,_0x5df313=this[_0x2ac2db(0x136)];if(this[_0x2ac2db(0xdf)]&&_0x5df313[_0x2ac2db(0x12e)]){const _0x2c69d2=this[_0x2ac2db(0x107)][_0x2ac2db(0xd9)](_0x5df313[_0x2ac2db(0x12e)]);_0x2c69d2&&this[_0x2ac2db(0x119)](_0x2c69d2),_0x8971d5();}}));}[_0xd3352c(0xf4)](){const _0x10194b=_0xd3352c,_0x47dc49=this[_0x10194b(0x116)][_0x10194b(0x118)][_0x10194b(0xe0)](_0x228477);_0x47dc49[_0x10194b(0xf1)]===this[_0x10194b(0x116)]&&(_0x47dc49[_0x10194b(0xfe)]()||_0x47dc49[_0x10194b(0x106)](_0x10194b(0x10f)));}[_0xd3352c(0x123)](_0x56a336){const _0x345b8d=_0xd3352c;_0x56a336!==this[_0x345b8d(0x129)]&&(this[_0x345b8d(0x129)]&&(this[_0x345b8d(0x129)][_0x345b8d(0x115)]=!0x1),_0x56a336&&this[_0x345b8d(0x116)]['ui'][_0x345b8d(0x12b)][_0x345b8d(0xfb)]&&(this[_0x345b8d(0x107)][_0x345b8d(0xe4)](_0x56a336)&&this[_0x345b8d(0x130)](_0x56a336,!0x0),_0x56a336[_0x345b8d(0x115)]=!0x0),_0x56a336||this[_0x345b8d(0xef)]([]),this[_0x345b8d(0x129)]=_0x56a336);}[_0xd3352c(0x131)](_0x1b67a7){const _0x632b2e=_0xd3352c;this[_0x632b2e(0x107)]=_0x1b67a7;const _0x5448ad=this[_0x632b2e(0x116)][_0x632b2e(0x118)][_0x632b2e(0xe0)](_0x228477),_0x92a2ef=this[_0x632b2e(0x136)];if(this[_0x632b2e(0xdf)])throw new _0x23b20(_0x632b2e(0xeb),this);if(_0x5448ad[_0x632b2e(0xf1)]!==this[_0x632b2e(0x116)])throw new _0x23b20(_0x632b2e(0xda),this);const _0x21971b=this[_0x632b2e(0x116)][_0x632b2e(0x118)][_0x632b2e(0xe0)](_0x401f17);this[_0x632b2e(0xea)](_0x21971b,_0x632b2e(0x12a),()=>{const _0x5a853b=_0x632b2e,_0x1f1df5=_0x21971b[_0x5a853b(0x11e)]({'annotations':this[_0x5a853b(0x107)],'activeAnnotation':this[_0x5a853b(0x129)]});var _0x543b61,_0x2b8fcc;!this[_0x5a853b(0xfd)]&&(_0x543b61=_0x1f1df5,_0x2b8fcc=this[_0x5a853b(0x125)],_0x543b61[_0x5a853b(0x126)]===_0x2b8fcc[_0x5a853b(0x126)]&&_0x543b61[_0x5a853b(0x122)](_0x1b7ad9=>_0x2b8fcc[_0x5a853b(0x101)](_0x1b7ad9)))||(this[_0x5a853b(0xfd)]=!0x1,this[_0x5a853b(0xef)](_0x1f1df5),this[_0x5a853b(0x123)](_0x1f1df5[0x0]||null));}),this[_0x632b2e(0xea)](_0x21971b,_0x632b2e(0x127),(_0x265f31,{isAnnotationTracked:_0x4dd3be})=>{const _0xfe9470=_0x632b2e;this[_0xfe9470(0x129)]&&_0x4dd3be(this[_0xfe9470(0x129)])&&(this[_0xfe9470(0xef)]([]),this[_0xfe9470(0x123)](null));}),this[_0x632b2e(0xea)](this[_0x632b2e(0x116)]['ui'][_0x632b2e(0x12b)],_0x632b2e(0xfa),(_0x42c770,_0x58e0d8,_0x46ad18)=>{const _0x52f71c=_0x632b2e;_0x46ad18||this[_0x52f71c(0x123)](null);}),this[_0x632b2e(0xea)](_0x1b67a7,_0x632b2e(0x11a),(_0xa67684,_0x524bdc)=>{const _0x437e52=_0x632b2e;this[_0x437e52(0xf0)](_0x524bdc),_0x524bdc===this[_0x437e52(0x129)]&&this[_0x437e52(0x123)](null);}),this[_0x632b2e(0xea)](_0x92a2ef,_0x632b2e(0x11b),(_0x46211d,_0x352ff0,_0x25ff51,_0x5300b6)=>{const _0x2a8f13=_0x632b2e;_0x5300b6&&this[_0x2a8f13(0xd7)](_0x5300b6);const _0x227db1=_0x1b67a7[_0x2a8f13(0xd9)](_0x25ff51);_0x25ff51&&_0x227db1&&(this[_0x2a8f13(0xea)](_0x25ff51,_0x2a8f13(0xe9),()=>{const _0x203e76=_0x2a8f13;_0x92a2ef[_0x203e76(0x10b)]();}),this[_0x2a8f13(0xea)](_0x25ff51,_0x2a8f13(0x11c),()=>{const _0x4a10a9=_0x2a8f13;this[_0x4a10a9(0x119)](_0x227db1),this[_0x4a10a9(0x116)][_0x4a10a9(0x134)][_0x4a10a9(0x111)][_0x4a10a9(0xd8)]();}),this[_0x2a8f13(0x129)]!==_0x227db1&&this[_0x2a8f13(0x123)](_0x227db1));}),this[_0x632b2e(0xea)](this[_0x632b2e(0x116)]['ui'],_0x632b2e(0xf8),()=>{const _0x59d71f=_0x632b2e;_0x92a2ef[_0x59d71f(0x12e)]&&(_0x1b67a7[_0x59d71f(0xd9)](_0x92a2ef[_0x59d71f(0x12e)])&&_0x92a2ef[_0x59d71f(0x10b)]());}),this[_0x632b2e(0xea)](this[_0x632b2e(0x116)][_0x632b2e(0x134)][_0x632b2e(0x111)][_0x632b2e(0x110)],_0x632b2e(0x10a),()=>{const _0x4c648f=_0x632b2e;this[_0x4c648f(0xfd)]=!0x0,this[_0x4c648f(0xe7)][_0x4c648f(0x135)]();}),this[_0x632b2e(0x116)][_0x632b2e(0x134)][_0x632b2e(0x111)][_0x632b2e(0x110)][_0x632b2e(0x12f)][_0x632b2e(0x113)]&&this[_0x632b2e(0x116)][_0x632b2e(0x134)][_0x632b2e(0x111)][_0x632b2e(0xd8)](),this[_0x632b2e(0xdf)]=!0x0;}[_0xd3352c(0x102)](){const _0x4def6a=_0xd3352c;if(!this[_0x4def6a(0xdf)])throw new _0x23b20(_0x4def6a(0xf5),this);this[_0x4def6a(0x123)](null);for(const _0x2a76f3 of this[_0x4def6a(0xee)])this[_0x4def6a(0xf0)](_0x2a76f3);this[_0x4def6a(0xd7)](),this[_0x4def6a(0xdf)]=!0x1,this[_0x4def6a(0x107)]=null;}[_0xd3352c(0x108)](){const _0x3c538c=_0xd3352c;this[_0x3c538c(0xdf)]&&this[_0x3c538c(0x102)]();}[_0xd3352c(0xef)](_0x1a29ff){const _0x18ec67=_0xd3352c;for(const _0x33ca95 of this[_0x18ec67(0x125)])_0x1a29ff[_0x18ec67(0x101)](_0x33ca95)||this[_0x18ec67(0xe7)][_0x18ec67(0xed)](_0x33ca95);for(const _0x3383d4 of this[_0x18ec67(0x107)])_0x1a29ff[_0x18ec67(0x101)](_0x3383d4)||this[_0x18ec67(0xf0)](_0x3383d4);if(this[_0x18ec67(0x116)]['ui'][_0x18ec67(0x12b)][_0x18ec67(0xfb)]){for(const _0x2ca168 of _0x1a29ff)this[_0x18ec67(0x130)](_0x2ca168);}this[_0x18ec67(0x125)]=_0x1a29ff;}[_0xd3352c(0x130)](_0x10861a,_0x1bc2cf=!0x1){const _0x36e20d=_0xd3352c;this[_0x36e20d(0xe7)][_0x36e20d(0xe4)](_0x10861a)||(this[_0x36e20d(0xee)][_0x36e20d(0xe4)](_0x10861a)||this[_0x36e20d(0x136)][_0x36e20d(0x112)](_0x10861a[_0x36e20d(0x111)])||(this[_0x36e20d(0xee)][_0x36e20d(0xf3)](_0x10861a),this[_0x36e20d(0x136)][_0x36e20d(0xf3)]({'stackId':_0x10861a[_0x36e20d(0x111)]['id'],'view':_0x10861a[_0x36e20d(0x111)],'position':{'target':()=>this[_0x36e20d(0x109)](_0x10861a)}})),_0x1bc2cf&&this[_0x36e20d(0x136)][_0x36e20d(0xf7)](_0x10861a[_0x36e20d(0x111)]['id']));}[_0xd3352c(0x109)](_0x190a8a){const _0x46de7e=_0xd3352c,_0x58532d=_0x190a8a[_0x46de7e(0xdc)],_0x336369=this[_0x46de7e(0x116)][_0x46de7e(0x134)][_0x46de7e(0x111)],_0x1ab7f1=_0x336369[_0x46de7e(0x110)][_0x46de7e(0x12f)][_0x46de7e(0xd6)](),_0x7cc384=_0x336369[_0x46de7e(0x121)][_0x46de7e(0x10e)](_0x1ab7f1);if(_0x7cc384[_0x46de7e(0xf2)](!0x0),_0x58532d){if(_0x58532d instanceof _0x4fc98a)return _0x58532d;let _0x222a1c=[];for(const _0x16a650 of _0x58532d)_0x222a1c[_0x46de7e(0x124)](...B(_0x16a650[_0x46de7e(0x114)]()));_0x222a1c=function(_0xafdbdd){const _0x306832=_0x46de7e,_0x45c4e5=[];let _0x146e70=_0xafdbdd[0x0];for(let _0x4698e1=0x1;_0x4698e1<_0xafdbdd[_0x306832(0x126)];_0x4698e1++)F(_0x146e70,_0xafdbdd[_0x4698e1])?_0x146e70[_0x306832(0x10d)]+=_0xafdbdd[_0x4698e1][_0x306832(0x10d)]:(_0x45c4e5[_0x306832(0x124)](_0x146e70),_0x146e70=_0xafdbdd[_0x4698e1]);return _0x45c4e5[_0x306832(0x124)](_0x146e70),_0x45c4e5;}(_0x222a1c);const _0x2b9b98=_0x7cc384[_0x46de7e(0xd5)]();return _0x222a1c[_0x46de7e(0x128)](_0x4ad83b=>_0x4ad83b[_0x46de7e(0xe3)]<=_0x2b9b98[_0x46de7e(0xe3)]&&_0x4ad83b[_0x46de7e(0xe2)]>=_0x2b9b98[_0x46de7e(0xe2)]&&_0x4ad83b[_0x46de7e(0x10c)]<=_0x2b9b98[_0x46de7e(0x10c)]&&_0x4ad83b[_0x46de7e(0x104)]>=_0x2b9b98[_0x46de7e(0x104)])||_0x222a1c[0x0];}return _0x190a8a[_0x46de7e(0xe8)]||_0x7cc384;}[_0xd3352c(0xf0)](_0x4f0413){const _0x31f80e=_0xd3352c;this[_0x31f80e(0xee)][_0x31f80e(0xe4)](_0x4f0413)&&this[_0x31f80e(0x136)][_0x31f80e(0x112)](_0x4f0413[_0x31f80e(0x111)])&&(this[_0x31f80e(0xee)][_0x31f80e(0xed)](_0x4f0413),this[_0x31f80e(0x136)][_0x31f80e(0x11a)](_0x4f0413[_0x31f80e(0x111)]));}[_0xd3352c(0x119)](_0x259b85){const _0x485d58=_0xd3352c;this[_0x485d58(0xe7)][_0x485d58(0xf3)](_0x259b85),this[_0x485d58(0xf0)](_0x259b85);}}function _0xb541(_0x5cfff2,_0x3b3dd2){const _0x4c71f9=_0x4c71();return _0xb541=function(_0xb5414a,_0x120d35){_0xb5414a=_0xb5414a-0xd4;let _0x11d96c=_0x4c71f9[_0xb5414a];return _0x11d96c;},_0xb541(_0x5cfff2,_0x3b3dd2);}function B(_0x55eb9d){const _0x1dc23f=_0xd3352c;return Array[_0x1dc23f(0xe6)](_0x55eb9d)[_0x1dc23f(0xec)](DOMRect[_0x1dc23f(0x105)]);}function F(_0xad94d6,_0x598ed4){const _0x37fb55=_0xd3352c;return _0xad94d6[_0x37fb55(0xe3)]===_0x598ed4[_0x37fb55(0xe3)]&&_0xad94d6[_0x37fb55(0xe2)]===_0x598ed4[_0x37fb55(0xe2)]&&_0xad94d6[_0x37fb55(0x104)]===_0x598ed4[_0x37fb55(0x10c)];}