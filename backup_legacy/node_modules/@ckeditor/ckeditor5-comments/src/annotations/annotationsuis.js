/*
 *             Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x5194ea=_0x4656;function _0x4656(_0x3be0e6,_0x2b61de){const _0x237bcb=_0x237b();return _0x4656=function(_0x4656c9,_0x55b3e1){_0x4656c9=_0x4656c9-0x82;let _0x2b7e81=_0x237bcb[_0x4656c9];return _0x2b7e81;},_0x4656(_0x3be0e6,_0x2b61de);}function _0x237b(){const _0x1b18f2=['deactivate','filter','function','51018IvTPuX','attach','length','delete','change:activeAnnotation','105OoEADG','AnnotationsUIs','get','annotationsuis-register-invalid-interface','isOfficialPlugin','uisData','4080716DLsaHy','from','find','15NiPJTf','activeAnnotations','annotationsuis-register-already-registered','_assertAnnotationDoesNotBelongToMultipleUIs','type','init','destroy','3163404vHiWMa','remove','hasActive','add','_removeActiveAnnotation','_visibleAnnotations','pluginName','10877409oGeuVk','requires','listenTo','_uis','defaultFilter','_activateAnnotation','collection','isPremiumPlugin','isActive','context','setActiveAnnotation','register','_deactivateAllAnnotations','set','53762VVxWSn','plugins','refilterAnnotations','size','activate','activeUIs','has','stopListening','_addActiveAnnotation','2321205vuMayJ','6558264mpaMpX','switchTo','push','annotationsuis-missing-ui','annotationsuis-annotation-mismatch','_setSelectedAnnotations','deactivateAll','detach'];_0x237b=function(){return _0x1b18f2;};return _0x237b();}(function(_0x2f4ce2,_0x7a67da){const _0x4d22a6=_0x4656,_0x46d58e=_0x2f4ce2();while(!![]){try{const _0x23002d=-parseInt(_0x4d22a6(0xaa))/0x1*(-parseInt(_0x4d22a6(0x87))/0x2)+parseInt(_0x4d22a6(0xb1))/0x3+parseInt(_0x4d22a6(0xa7))/0x4+parseInt(_0x4d22a6(0x90))/0x5+parseInt(_0x4d22a6(0x9c))/0x6*(-parseInt(_0x4d22a6(0xa1))/0x7)+-parseInt(_0x4d22a6(0x91))/0x8+-parseInt(_0x4d22a6(0xb8))/0x9;if(_0x23002d===_0x7a67da)break;else _0x46d58e['push'](_0x46d58e['shift']());}catch(_0x33ed2e){_0x46d58e['push'](_0x46d58e['shift']());}}}(_0x237b,0xbfefe));import{ContextPlugin as _0x422f6d}from'ckeditor5/src/core.js';import{CKEditorError as _0x246059}from'ckeditor5/src/utils.js';import _0x3204f4,{bindAnnotationCollections as _0x68bde0}from'./annotationcollection.js';import _0x5a88f0 from'./annotations.js';export default class M extends _0x422f6d{[_0x5194ea(0x8c)];[_0x5194ea(0xa6)];[_0x5194ea(0xbb)];static get[_0x5194ea(0xb9)](){return[_0x5a88f0];}static get[_0x5194ea(0xb7)](){const _0x18ebd2=_0x5194ea;return _0x18ebd2(0xa2);}static get[_0x5194ea(0xa5)](){return!0x0;}static get[_0x5194ea(0xbf)](){return!0x0;}constructor(_0x472735){const _0x24ad77=_0x5194ea;super(_0x472735),this[_0x24ad77(0x8c)]=new Set(),this[_0x24ad77(0xbb)]=new Map(),this[_0x24ad77(0xa6)]=new Map();}[_0x5194ea(0xaf)](){const _0x211c30=_0x5194ea,_0x2d8980=this[_0x211c30(0x82)][_0x211c30(0x88)][_0x211c30(0xa3)](_0x5a88f0);this[_0x211c30(0xba)](_0x2d8980,_0x211c30(0xbd),(_0x19aecc,_0x57fabe)=>{const _0x5d3160=_0x211c30;for(const _0x2a15b3 of this[_0x5d3160(0x8c)]){const _0x3964d2=this[_0x5d3160(0xbb)][_0x5d3160(0xa3)](_0x2a15b3);(0x0,this[_0x5d3160(0xa6)][_0x5d3160(0xa3)](_0x2a15b3)[_0x5d3160(0x9a)])(_0x57fabe)&&_0x3964d2[_0x5d3160(0x83)](_0x57fabe);}}),this[_0x211c30(0xba)](_0x2d8980,_0x211c30(0x85),()=>{const _0x4f0345=_0x211c30;for(const _0x3d0028 of this[_0x4f0345(0x8c)]){this[_0x4f0345(0xbb)][_0x4f0345(0xa3)](_0x3d0028)[_0x4f0345(0x83)](null);}}),this[_0x211c30(0xba)](_0x2d8980[_0x211c30(0xb6)],_0x211c30(0xb4),(_0x24b111,_0x422565)=>{const _0x1f5bfa=_0x211c30;this[_0x1f5bfa(0xad)](_0x422565);});}[_0x5194ea(0xb3)](){const _0x54595c=_0x5194ea;return this[_0x54595c(0x8c)][_0x54595c(0x8a)]>0x0;}[_0x5194ea(0xc0)](_0x3cacac){const _0x2181a4=_0x5194ea;return this[_0x2181a4(0x8c)][_0x2181a4(0x8d)](_0x3cacac);}[_0x5194ea(0x8b)](_0x4d4917,_0x5f0f46=this[_0x5194ea(0xbc)]){const _0x2cc813=_0x5194ea,_0x40867a=this[_0x2cc813(0x82)][_0x2cc813(0x88)][_0x2cc813(0xa3)](_0x5a88f0);if(!this[_0x2cc813(0xbb)][_0x2cc813(0x8d)](_0x4d4917))throw new _0x246059(_0x2cc813(0x94),this,{'uiName':_0x4d4917});this[_0x2cc813(0xc0)](_0x4d4917)&&this[_0x2cc813(0x99)](_0x4d4917),this[_0x2cc813(0x8c)][_0x2cc813(0xb4)](_0x4d4917);const _0x261163=new _0x3204f4(),_0x11ac39=_0x40867a[_0x2cc813(0xb6)];_0x68bde0({'source':_0x11ac39,'target':_0x261163,'filter':_0x5f0f46}),this[_0x2cc813(0xa6)][_0x2cc813(0x86)](_0x4d4917,{'collection':_0x261163,'filter':_0x5f0f46});const _0x3c6c4e=this[_0x2cc813(0xbb)][_0x2cc813(0xa3)](_0x4d4917);_0x3c6c4e[_0x2cc813(0x9d)](_0x261163),this[_0x2cc813(0xba)](_0x3c6c4e,_0x2cc813(0xa0),(_0x19398e,_0x24b05d,_0x112053,_0x1aa723)=>{const _0x2ff1e9=_0x2cc813;_0x1aa723&&_0x40867a[_0x2ff1e9(0xb5)](_0x1aa723),_0x112053&&_0x40867a[_0x2ff1e9(0x8f)](_0x112053);});}[_0x5194ea(0x99)](_0x29c2ff){const _0x2dc6ab=_0x5194ea;if(this[_0x2dc6ab(0x8c)][_0x2dc6ab(0x9f)](_0x29c2ff),!this[_0x2dc6ab(0xbb)][_0x2dc6ab(0x8d)](_0x29c2ff))throw new _0x246059(_0x2dc6ab(0x94),this,{'uiName':_0x29c2ff});const _0x506f5e=this[_0x2dc6ab(0xbb)][_0x2dc6ab(0xa3)](_0x29c2ff);_0x506f5e[_0x2dc6ab(0x98)](),this[_0x2dc6ab(0x8e)](_0x506f5e),this[_0x2dc6ab(0xa6)][_0x2dc6ab(0xa3)](_0x29c2ff)[_0x2dc6ab(0xbe)][_0x2dc6ab(0xb0)](),this[_0x2dc6ab(0xa6)][_0x2dc6ab(0x9f)](_0x29c2ff);}[_0x5194ea(0x92)](_0x56d6ed){const _0x5d2ffd=_0x5194ea;if(!this[_0x5d2ffd(0xbb)][_0x5d2ffd(0x8d)](_0x56d6ed))throw new _0x246059(_0x5d2ffd(0x94),this,{'uiName':_0x56d6ed});const _0x2a177f=this[_0x5d2ffd(0x82)][_0x5d2ffd(0x88)][_0x5d2ffd(0xa3)](_0x5a88f0),_0x12043c=Array[_0x5d2ffd(0xa8)](_0x2a177f[_0x5d2ffd(0xab)])[0x0]||null;this[_0x5d2ffd(0x97)](),this[_0x5d2ffd(0x8b)](_0x56d6ed);const _0x259a5f=this[_0x5d2ffd(0xbb)][_0x5d2ffd(0xa3)](_0x56d6ed);_0x259a5f[_0x5d2ffd(0x83)](_0x12043c),_0x259a5f[_0x5d2ffd(0x96)]&&_0x12043c&&_0x259a5f[_0x5d2ffd(0x96)]([_0x12043c]);}[_0x5194ea(0x97)](){const _0x54c92d=_0x5194ea;for(const _0x42e34e of this[_0x54c92d(0x8c)])this[_0x54c92d(0x99)](_0x42e34e);}[_0x5194ea(0x84)](_0x1b9f09,_0x3f49f9){const _0x487e1f=_0x5194ea;if(this[_0x487e1f(0xbb)][_0x487e1f(0x8d)](_0x1b9f09))throw new _0x246059(_0x487e1f(0xac));if(_0x487e1f(0x9b)!=typeof _0x3f49f9[_0x487e1f(0x9d)]||_0x487e1f(0x9b)!=typeof _0x3f49f9[_0x487e1f(0x98)]||_0x487e1f(0x9b)!=typeof _0x3f49f9[_0x487e1f(0x83)])throw new _0x246059(_0x487e1f(0xa4),null);this[_0x487e1f(0xbb)][_0x487e1f(0x86)](_0x1b9f09,_0x3f49f9);}[_0x5194ea(0x89)](){const _0xe656c=_0x5194ea,_0x2d5ab1=this[_0xe656c(0x82)][_0xe656c(0x88)][_0xe656c(0xa3)](_0x5a88f0)[_0xe656c(0xbe)],_0x47de09=new Map(),_0x36d351=Array[_0xe656c(0xa8)](this[_0xe656c(0x8c)]);for(const _0x2bfaa7 of this[_0xe656c(0x8c)]){const _0x5d2c5c=this[_0xe656c(0xa6)][_0xe656c(0xa3)](_0x2bfaa7)[_0xe656c(0xbe)];for(const _0x27331e of _0x5d2c5c)_0x47de09[_0xe656c(0x86)](_0x27331e,_0x2bfaa7);}for(const _0x5f3cff of _0x2d5ab1){const _0x3a7f35=_0x47de09[_0xe656c(0xa3)](_0x5f3cff);this[_0xe656c(0xad)](_0x5f3cff);const _0x25fcc2=_0x36d351[_0xe656c(0xa9)](_0x67b829=>this[_0xe656c(0xa6)][_0xe656c(0xa3)](_0x67b829)[_0xe656c(0x9a)](_0x5f3cff));_0x3a7f35!==_0x25fcc2&&(_0x3a7f35&&this[_0xe656c(0xa6)][_0xe656c(0xa3)](_0x3a7f35)[_0xe656c(0xbe)][_0xe656c(0xb2)](_0x5f3cff),_0x25fcc2&&this[_0xe656c(0xa6)][_0xe656c(0xa3)](_0x25fcc2)[_0xe656c(0xbe)][_0xe656c(0xb4)](_0x5f3cff));}}[_0x5194ea(0xb0)](){const _0xd31df9=_0x5194ea;this[_0xd31df9(0x97)](),super[_0xd31df9(0xb0)]();}[_0x5194ea(0xbc)](){return!0x0;}[_0x5194ea(0xad)](_0x3ea8e9){const _0x36db03=_0x5194ea,_0x1392d8=[];for(const _0x4139f6 of this[_0x36db03(0x8c)]){(0x0,this[_0x36db03(0xa6)][_0x36db03(0xa3)](_0x4139f6)[_0x36db03(0x9a)])(_0x3ea8e9)&&_0x1392d8[_0x36db03(0x93)](_0x4139f6);}if(_0x1392d8[_0x36db03(0x9e)]>0x1)throw new _0x246059(_0x36db03(0x95),null,{'matchedUIs':_0x1392d8,'annotationType':_0x3ea8e9[_0x36db03(0xae)]});}}