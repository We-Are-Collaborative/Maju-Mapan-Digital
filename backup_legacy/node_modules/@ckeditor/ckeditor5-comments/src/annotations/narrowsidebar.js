/*
 *             Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x436011=_0x332a;function _0x332a(_0x100d56,_0x458a21){const _0x3f5363=_0x3f53();return _0x332a=function(_0x332a06,_0x3fdeae){_0x332a06=_0x332a06-0x196;let _0x2a279c=_0x3f5363[_0x332a06];return _0x2a279c;},_0x332a(_0x100d56,_0x458a21);}(function(_0x562726,_0x1a7e60){const _0x38b50a=_0x332a,_0x56ecf7=_0x562726();while(!![]){try{const _0x100832=parseInt(_0x38b50a(0x1dc))/0x1*(-parseInt(_0x38b50a(0x19c))/0x2)+-parseInt(_0x38b50a(0x1ac))/0x3+-parseInt(_0x38b50a(0x201))/0x4*(parseInt(_0x38b50a(0x1a8))/0x5)+parseInt(_0x38b50a(0x1c2))/0x6*(-parseInt(_0x38b50a(0x1f1))/0x7)+-parseInt(_0x38b50a(0x1e0))/0x8*(-parseInt(_0x38b50a(0x200))/0x9)+parseInt(_0x38b50a(0x1dd))/0xa+parseInt(_0x38b50a(0x1a3))/0xb*(parseInt(_0x38b50a(0x1e2))/0xc);if(_0x100832===_0x1a7e60)break;else _0x56ecf7['push'](_0x56ecf7['shift']());}catch(_0x4c0b23){_0x56ecf7['push'](_0x56ecf7['shift']());}}}(_0x3f53,0x4d53f));import{ContextPlugin as _0x5dd334,Context as _0x155ba3}from'ckeditor5/src/core.js';import _0x8061ae from'./annotationsuis.js';function _0x3f53(){const _0x26ac81=['_domEmitter','attach','keydown','addAnnotation','isOfficialPlugin','annotations','number','bodyCollection','destroy','cancel','find','isAttached','detach','length','set','_attachListeners','locale','listenTo','4eASMNh','attachToDom','resize','_annotations','content','plugins','northArrowSouthWest','72413PkHbpx','hasDomSelection','_refreshPositioning','_editorAnnotations','addEventListener','14030KGLxQV','editors','change:height','from','874932XNlztj','balloonPanelView','element','context','_integrateWithEditorAnnotations','init','set:container','bind','getOrderedSelectedAnnotations','delete','_setSelectedAnnotations','_detachFromContainer','_manuallyClosedAnnotationViews','esc','_showBalloon','_attachToContainer','refresh','has','southArrowNorth','southArrowNorthEast','_updateBalloonPosition','getSidebarItemView','400410IaEpPv','isVisible','blur','remove','stopListening','activeAnnotation','pin','removeEventListener','off','uiUpdate','annotationType','_destroyEditorAnnotationsIntegration','southArrowNorthWest','narrowsidebar-detach-not-attached','isDirty','ck-sidebar--narrow','pluginName','create','low','register','northArrowSouth','isPremiumPlugin','detachFromDom','focusableElements','get','add','302835vKAvKo','5266430bpeiaI','execute','unpin','422496KlvfrI','clear','2352wIFUFC','stopPropagation','stop','northArrowSouthEast','setActiveAnnotation','values','narrowSidebar','NarrowSidebar','defaultPositions','_annotationToNarrowView','mousedown','change:container','view','contains','Esc','28ZHfigI','rearrange','refreshPositioning','focus','high','ready','includes','preventDefault','EditorAnnotations','_detachListeners','_refreshPositioningDebounced','getByView','_hideBalloon','_selectedAnnotations','keyCode','36PlCQOM','780EVyoPR','narrowsidebar-attach-already-attached','type','target','first','preventClosingBalloon','requires'];_0x3f53=function(){return _0x26ac81;};return _0x3f53();}import _0x60f070 from'./sidebar.js';import _0x4aba59 from'./view/annotationcounterbuttonview.js';import{BalloonPanelView as _0x3b03a5,BodyCollection as _0x16d189}from'ckeditor5/src/ui.js';import{CKEditorError as _0xcaa047,DomEmitterMixin as _0x33e448,keyCodes as _0x166d7d,Collection as _0x55b306}from'ckeditor5/src/utils.js';import'../../theme/sidebar-narrow.css';import{debounce as _0x4742c8}from'es-toolkit/compat';export default class n extends _0x5dd334{[_0x436011(0x213)];[_0x436011(0x20d)];[_0x436011(0x1b8)];[_0x436011(0x208)];[_0x436011(0x1eb)];[_0x436011(0x1fe)];[_0x436011(0x1a6)];[_0x436011(0x1fb)];static get[_0x436011(0x207)](){return[_0x60f070,_0x8061ae];}static get[_0x436011(0x1d2)](){const _0xfd63c5=_0x436011;return _0xfd63c5(0x1e9);}static get[_0x436011(0x20c)](){return!0x0;}static get[_0x436011(0x1d7)](){return!0x0;}constructor(_0x47df0b){const _0xcb9ed1=_0x436011;super(_0x47df0b),this[_0xcb9ed1(0x213)]=!0x1,this[_0xcb9ed1(0x1b8)]=new Set(),this[_0xcb9ed1(0x208)]=Object[_0xcb9ed1(0x1d3)](_0x33e448),this[_0xcb9ed1(0x1eb)]=new Map(),this[_0xcb9ed1(0x198)](_0xcb9ed1(0x1c7),null),this[_0xcb9ed1(0x20d)]=null,this[_0xcb9ed1(0x1fe)]=[],this[_0xcb9ed1(0x1a6)]=new _0x55b306(),this[_0xcb9ed1(0x1fb)]=_0x4742c8(()=>{const _0x10438e=_0xcb9ed1;this[_0x10438e(0x1a5)]();},0xfa,{'leading':!0x1});}[_0x436011(0x1b1)](){const _0xea559=_0x436011;this[_0xea559(0x1af)][_0xea559(0x1a1)][_0xea559(0x1da)](_0x8061ae)[_0xea559(0x1d5)](_0xea559(0x1e8),this),this[_0xea559(0x20f)]=new _0x16d189(this[_0xea559(0x1af)][_0xea559(0x19a)]),this[_0xea559(0x1ad)]=new _0x3b03a5(this[_0xea559(0x1af)][_0xea559(0x19a)]),this[_0xea559(0x20f)][_0xea559(0x19d)](),this[_0xea559(0x20f)][_0xea559(0x1db)](this[_0xea559(0x1ad)]);}[_0x436011(0x209)](_0xa890c1){const _0x20bdab=_0x436011;this[_0x20bdab(0x20d)]=_0xa890c1;const _0x12c67a=this[_0x20bdab(0x1af)][_0x20bdab(0x1a1)][_0x20bdab(0x1da)](_0x60f070),_0x26cbbd=this[_0x20bdab(0x1ad)];if(_0x12c67a[_0x20bdab(0x19f)]=_0xa890c1,this[_0x20bdab(0x213)])throw new _0xcaa047(_0x20bdab(0x202),this);this[_0x20bdab(0x213)]=!0x0,this[_0x20bdab(0x19b)](_0x12c67a,_0x20bdab(0x1b2),()=>{const _0x2ca951=_0x20bdab;this[_0x2ca951(0x196)](),this[_0x2ca951(0x19b)](_0x12c67a,_0x2ca951(0x1ed),_0x9f063b=>{const _0x1bc7db=_0x2ca951;_0x9f063b[_0x1bc7db(0x1ca)](),this[_0x1bc7db(0x209)](_0xa890c1);});}),_0x12c67a[_0x20bdab(0x1bb)]({'viewClass':_0x20bdab(0x1d1),'spaceBetweenItems':0x5});const _0x41d698=_0x438e92=>{const _0x10eba7=_0x20bdab,_0xbe2dc6=new _0x4aba59(this[_0x10eba7(0x1af)][_0x10eba7(0x19a)]);_0x12c67a[_0x10eba7(0x20b)](_0x438e92,_0xbe2dc6),this[_0x10eba7(0x1eb)][_0x10eba7(0x198)](_0x438e92,_0xbe2dc6),_0xbe2dc6[_0x10eba7(0x1b3)](_0x10eba7(0x1d0),_0x10eba7(0x1cc),_0x10eba7(0x20e))['to'](_0x438e92[_0x10eba7(0x1ee)],_0x10eba7(0x1d0),_0x10eba7(0x203),_0x10eba7(0x197)),_0xbe2dc6['on'](_0x10eba7(0x1de),()=>{const _0x41c3e4=_0x10eba7;this[_0x41c3e4(0x1b8)][_0x41c3e4(0x1e1)](),_0x26cbbd[_0x41c3e4(0x1a0)][_0x41c3e4(0x205)]!==_0x438e92[_0x41c3e4(0x1ee)]?(this[_0x41c3e4(0x1ba)](_0x438e92),_0x438e92[_0x41c3e4(0x1ee)][_0x41c3e4(0x1ae)][_0x41c3e4(0x1f4)](),this[_0x41c3e4(0x1e6)](_0x438e92)):this[_0x41c3e4(0x1e6)](null);});};for(const _0x58cb90 of _0xa890c1)_0x41d698(_0x58cb90);this[_0x20bdab(0x19b)](_0xa890c1,_0x20bdab(0x1db),(_0x13b08e,_0x2a89f0)=>{_0x41d698(_0x2a89f0);}),this[_0x20bdab(0x19b)](_0xa890c1,_0x20bdab(0x1c5),(_0x5f036e,_0x3fa383,_0x362c13)=>{const _0x3a27a5=_0x20bdab;this[_0x3a27a5(0x1eb)][_0x3a27a5(0x1da)](_0x3fa383)[_0x3a27a5(0x210)](),this[_0x3a27a5(0x1eb)][_0x3a27a5(0x1b5)](_0x3fa383),_0x12c67a[_0x3a27a5(0x1f2)]({'removedAnnotation':_0x3fa383,'previousAnnotation':_0xa890c1[_0x3a27a5(0x1da)](_0x362c13-0x1),'nextAnnotation':_0xa890c1[_0x3a27a5(0x1da)](_0x362c13+0x1)}),_0x3fa383===this[_0x3a27a5(0x1c7)]&&this[_0x3a27a5(0x1e6)](null);},{'priority':_0x20bdab(0x1d4)}),this[_0x20bdab(0x19b)](_0xa890c1,_0x20bdab(0x1f4),(_0x151e8e,_0xbe1b31)=>{const _0x44deea=_0x20bdab;this[_0x44deea(0x1e6)](_0xbe1b31);}),this[_0x20bdab(0x19b)](_0xa890c1,_0x20bdab(0x1c4),()=>{const _0x16634f=_0x20bdab;this[_0x16634f(0x1e6)](null);}),this[_0x20bdab(0x208)][_0x20bdab(0x19b)](document,_0x20bdab(0x20a),(_0x5a08fb,_0x430395)=>{const _0x182e3f=_0x20bdab;_0x430395[_0x182e3f(0x1ff)]===_0x166d7d[_0x182e3f(0x1b9)]&&_0x26cbbd[_0x182e3f(0x1c3)]&&(this[_0x182e3f(0x1b8)][_0x182e3f(0x1db)](_0x26cbbd[_0x182e3f(0x1a0)][_0x182e3f(0x205)]),this[_0x182e3f(0x1fd)](),_0x430395[_0x182e3f(0x1e3)](),_0x430395[_0x182e3f(0x1f8)]());}),this[_0x20bdab(0x208)][_0x20bdab(0x19b)](document,_0x20bdab(0x1ec),(_0x1194d9,_0x379cf2)=>{const _0x540311=_0x20bdab,_0x31270e=_0x379cf2[_0x540311(0x204)];_0x26cbbd[_0x540311(0x1c3)]&&_0x26cbbd[_0x540311(0x1ae)][_0x540311(0x1ef)](_0x31270e)||_0x12c67a[_0x540311(0x1ee)][_0x540311(0x1ae)][_0x540311(0x1ef)](_0x31270e)||_0x1194d9[_0x540311(0x206)]||this[_0x540311(0x1c7)]&&this[_0x540311(0x1c7)][_0x540311(0x1d9)][_0x540311(0x212)](_0xb27dfd=>_0xb27dfd[_0x540311(0x1ef)](_0x31270e))||(this[_0x540311(0x1b8)][_0x540311(0x1e1)](),this[_0x540311(0x1fd)](),this[_0x540311(0x1e6)](null));});const _0x33542f=this[_0x20bdab(0x1af)]instanceof _0x155ba3?this[_0x20bdab(0x1af)][_0x20bdab(0x1a9)]:new _0x55b306([this[_0x20bdab(0x1af)]]);for(const _0x56ecb7 of _0x33542f)this[_0x20bdab(0x1b0)](_0x56ecb7);this[_0x20bdab(0x19b)](_0x33542f,_0x20bdab(0x1db),(_0x5bd0ba,_0x56c278)=>{const _0x1a8b5a=_0x20bdab;this[_0x1a8b5a(0x19b)](_0x56c278,_0x1a8b5a(0x1f6),()=>{const _0x11affb=_0x1a8b5a;this[_0x11affb(0x1b0)](_0x56c278);});}),this[_0x20bdab(0x19b)](_0x33542f,_0x20bdab(0x1c5),(_0x5b8dd4,_0x328277)=>{const _0x22c78c=_0x20bdab;_0x328277[_0x22c78c(0x1a1)][_0x22c78c(0x1bd)](_0x22c78c(0x1f9))&&this[_0x22c78c(0x1cd)](_0x328277[_0x22c78c(0x1a1)][_0x22c78c(0x1da)](_0x22c78c(0x1f9)));}),window[_0x20bdab(0x1a7)](_0x20bdab(0x19e),this[_0x20bdab(0x1fb)]),this[_0x20bdab(0x1a5)]();}[_0x436011(0x1e6)](_0x450814){const _0x2c7768=_0x436011;if(_0x450814===this[_0x2c7768(0x1c7)])return;const _0x5468bd=this[_0x2c7768(0x1af)][_0x2c7768(0x1a1)][_0x2c7768(0x1da)](_0x60f070);if(_0x5468bd[_0x2c7768(0x1bc)]({'blurredAnnotation':this[_0x2c7768(0x1c7)],'activatedAnnotation':_0x450814,'disableAnimationOnActivatedAnnotation':!0x0}),_0x450814)_0x5468bd[_0x2c7768(0x1c1)](_0x450814)?this[_0x2c7768(0x1ba)](_0x450814):this[_0x2c7768(0x1fd)]();else this[_0x2c7768(0x1fd)]();this[_0x2c7768(0x1c7)]=_0x450814;}[_0x436011(0x196)](){const _0x28a9d8=_0x436011;if(!this[_0x28a9d8(0x213)])throw new _0xcaa047(_0x28a9d8(0x1cf),this);this[_0x28a9d8(0x1e6)](null);const _0x1769a5=this[_0x28a9d8(0x1af)][_0x28a9d8(0x1a1)][_0x28a9d8(0x1da)](_0x60f070);this[_0x28a9d8(0x1fd)](),Array[_0x28a9d8(0x1ab)](this[_0x28a9d8(0x1eb)][_0x28a9d8(0x1e7)](),_0x2e40d8=>_0x2e40d8[_0x28a9d8(0x210)]()),this[_0x28a9d8(0x1eb)][_0x28a9d8(0x1e1)](),_0x1769a5[_0x28a9d8(0x1b7)](this[_0x28a9d8(0x20d)]),this[_0x28a9d8(0x1c6)](),this[_0x28a9d8(0x208)][_0x28a9d8(0x1c6)](),this[_0x28a9d8(0x1af)]instanceof _0x155ba3&&this[_0x28a9d8(0x1c6)](this[_0x28a9d8(0x1af)][_0x28a9d8(0x1a9)]);for(const _0x2236a0 of Array[_0x28a9d8(0x1ab)](this[_0x28a9d8(0x1a6)]))this[_0x28a9d8(0x1cd)](_0x2236a0);window[_0x28a9d8(0x1c9)](_0x28a9d8(0x19e),this[_0x28a9d8(0x1fb)]),this[_0x28a9d8(0x1fb)][_0x28a9d8(0x211)](),this[_0x28a9d8(0x1fe)]=[],this[_0x28a9d8(0x213)]=!0x1,this[_0x28a9d8(0x20d)]=null;}[_0x436011(0x210)](){const _0x39cce8=_0x436011;this[_0x39cce8(0x213)]&&this[_0x39cce8(0x196)](),this[_0x39cce8(0x20f)][_0x39cce8(0x1d8)]();}[_0x436011(0x1b0)](_0x507f78){const _0x542b67=_0x436011;if(!_0x507f78[_0x542b67(0x1a1)][_0x542b67(0x1bd)](_0x542b67(0x1f9)))return;const _0xd4869b=_0x507f78[_0x542b67(0x1a1)][_0x542b67(0x1da)](_0x542b67(0x1f9)),_0x14c1d2=this[_0x542b67(0x1af)][_0x542b67(0x1a1)][_0x542b67(0x1da)](_0x60f070),_0x180cea=this[_0x542b67(0x20d)],_0x482012=this[_0x542b67(0x1ad)],_0x32b1cf=()=>{const _0x30a925=_0x542b67,_0x5a54c6=_0xd4869b[_0x30a925(0x1b4)]({'annotations':this[_0x30a925(0x20d)],'activeAnnotation':this[_0x30a925(0x1c7)]});this[_0x30a925(0x1b6)](_0x5a54c6),this[_0x30a925(0x1e6)](_0x5a54c6[0x0]||null);};this[_0x542b67(0x19b)](_0xd4869b,_0x542b67(0x1bc),_0x32b1cf),this[_0x542b67(0x19b)](_0xd4869b,_0x542b67(0x1c4),(_0x2b83eb,{isAnnotationTracked:_0x7a75f3})=>{const _0x2a0c16=_0x542b67;this[_0x2a0c16(0x1c7)]&&_0x7a75f3(this[_0x2a0c16(0x1c7)])&&(this[_0x2a0c16(0x1b6)]([]),this[_0x2a0c16(0x1e6)](null));}),this[_0x542b67(0x19b)](_0xd4869b,_0x542b67(0x1cb),()=>{const _0x131d93=_0x542b67;this[_0x131d93(0x1fb)]();}),this[_0x542b67(0x19b)](_0x180cea,_0x542b67(0x1c4),_0x36a34d=>{const _0x13040b=_0x542b67;_0xd4869b[_0x13040b(0x1a4)]()&&_0x36a34d[_0x13040b(0x1e4)]();},{'priority':_0x542b67(0x1f5)}),this[_0x542b67(0x19b)](this[_0x542b67(0x208)],_0x542b67(0x1ec),(_0x4e0d5c,_0x37cb4b)=>{const _0x21e6ff=_0x542b67,_0x4b0094=_0x37cb4b[_0x21e6ff(0x204)];_0x482012[_0x21e6ff(0x1c3)]&&_0x482012[_0x21e6ff(0x1ae)][_0x21e6ff(0x1ef)](_0x4b0094)||_0x14c1d2[_0x21e6ff(0x1ee)][_0x21e6ff(0x1ae)][_0x21e6ff(0x1ef)](_0x4b0094)||this[_0x21e6ff(0x1c7)]&&_0xd4869b[_0x21e6ff(0x1a4)]()&&(_0x32b1cf(),_0x4e0d5c[_0x21e6ff(0x206)]=!0x0);},{'priority':_0x542b67(0x1f5)}),this[_0x542b67(0x1a6)][_0x542b67(0x1db)](_0xd4869b);}[_0x436011(0x1cd)](_0x323b0c){const _0x5d14b2=_0x436011;_0x323b0c&&(this[_0x5d14b2(0x1c6)](_0x323b0c),this[_0x5d14b2(0x1a6)][_0x5d14b2(0x1c5)](_0x323b0c));}[_0x436011(0x1b6)](_0x562469){const _0x524b22=_0x436011;for(const _0x5d26a1 of this[_0x524b22(0x1fe)])_0x562469[_0x524b22(0x1f7)](_0x5d26a1)||this[_0x524b22(0x1b8)][_0x524b22(0x1b5)](_0x5d26a1[_0x524b22(0x1ee)]);this[_0x524b22(0x1fe)]=_0x562469;}[_0x436011(0x1a5)](){const _0x12cbe4=_0x436011,_0x959168=this[_0x12cbe4(0x1ad)];this[_0x12cbe4(0x20d)][_0x12cbe4(0x1f3)](),_0x959168[_0x12cbe4(0x1c3)]&&this[_0x12cbe4(0x1c0)]();}[_0x436011(0x1ba)](_0x2e0f7c){const _0x20d070=_0x436011;if(this[_0x20d070(0x1b8)][_0x20d070(0x1bd)](_0x2e0f7c[_0x20d070(0x1ee)]))return;const _0x1d77e6=this[_0x20d070(0x1ad)][_0x20d070(0x1a0)][_0x20d070(0x205)];_0x1d77e6!==_0x2e0f7c[_0x20d070(0x1ee)]?(_0x1d77e6&&this[_0x20d070(0x1fa)](_0x1d77e6),this[_0x20d070(0x199)](_0x2e0f7c[_0x20d070(0x1ee)]),this[_0x20d070(0x1ad)][_0x20d070(0x1a0)][_0x20d070(0x1e1)](),this[_0x20d070(0x1ad)][_0x20d070(0x1a0)][_0x20d070(0x1db)](_0x2e0f7c[_0x20d070(0x1ee)]),this[_0x20d070(0x1c0)]()):this[_0x20d070(0x1c0)]();}[_0x436011(0x1c0)](){const _0x5f49ed=_0x436011,_0x201f94=this[_0x5f49ed(0x1ad)][_0x5f49ed(0x1a0)][_0x5f49ed(0x205)],_0x323ac2=_0x201f94&&this[_0x5f49ed(0x20d)][_0x5f49ed(0x1fc)](_0x201f94);if(!_0x323ac2||!this[_0x5f49ed(0x1eb)][_0x5f49ed(0x1bd)](_0x323ac2))return;const _0x583b42=this[_0x5f49ed(0x1eb)][_0x5f49ed(0x1da)](_0x323ac2)[_0x5f49ed(0x1ae)],_0x4ab2e7=(function(){const _0x983319=_0x5f49ed,_0x52aa6a=_0x3b03a5[_0x983319(0x1ea)];return[_0x52aa6a[_0x983319(0x1bf)],_0x52aa6a[_0x983319(0x1e5)],_0x52aa6a[_0x983319(0x1be)],_0x52aa6a[_0x983319(0x1d6)],_0x52aa6a[_0x983319(0x1ce)],_0x52aa6a[_0x983319(0x1a2)]];}());this[_0x5f49ed(0x1ad)][_0x5f49ed(0x1c8)]({'target':_0x583b42,'positions':_0x4ab2e7});}[_0x436011(0x1fd)](){const _0x51b180=_0x436011,_0x17a5d9=this[_0x51b180(0x1ad)],_0xf73414=_0x17a5d9[_0x51b180(0x1a0)][_0x51b180(0x205)];_0xf73414&&(this[_0x51b180(0x1fa)](_0xf73414),_0x17a5d9[_0x51b180(0x1df)](),_0x17a5d9[_0x51b180(0x1a0)][_0x51b180(0x1e1)]());}[_0x436011(0x199)](_0x229fa2){const _0x2ec395=_0x436011;this[_0x2ec395(0x19b)](_0x229fa2,_0x2ec395(0x1aa),()=>this[_0x2ec395(0x1c0)]()),this[_0x2ec395(0x19b)](_0x229fa2,_0x2ec395(0x1f0),(_0x30d2cf,_0x5e69c8)=>{const _0x21a391=_0x2ec395;this[_0x21a391(0x1b8)][_0x21a391(0x1db)](_0x229fa2),this[_0x21a391(0x1fd)](),_0x5e69c8();});}[_0x436011(0x1fa)](_0x224cb6){const _0x5bcbb4=_0x436011;this[_0x5bcbb4(0x1c6)](_0x224cb6);}}