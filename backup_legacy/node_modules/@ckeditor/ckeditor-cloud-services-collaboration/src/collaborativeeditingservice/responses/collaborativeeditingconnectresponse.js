/*
 *             Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import _0x353f81 from'./../../message.js';import _0x4e620c from'./../helpers/operationmetadatahelpers.js';import _0x139700 from'../descriptors/operationmetadatadescriptor.js';export default class CollaborativeEditingConnectResponse extends _0x353f81{['channel'];['version'];['buffers'];['types'];['offset'];['metadata'];['initData'];['sessionId'];['lastOperationId'];['sessionCreatedAt'];static ['DESCRIPTOR_NAME']='CollaborativeEditingConnectResponse';static ['DESCRIPTOR']=((()=>({'fields':{'channel':{'type':'string','id':0x1},'offset':{'type':'uint32','id':0x2},'version':{'type':'uint32','id':0x3},'buffers':{'rule':'repeated','type':'bytes','id':0x4},'types':{'rule':'repeated','type':'uint32','id':0x5},'metadata':{'rule':'repeated','type':_0x139700['DESCRIPTOR_NAME'],'id':0x7},'initData':{'type':'string','id':0x8},'isInitialized':{'type':'bool','id':0x9},'sessionId':{'type':'string','id':0xa},'lastOperationId':{'type':'string','id':0xb},'sessionCreatedAt':{'type':'string','id':0xc}}}))());constructor(_0x37cee7,_0x77c00c,_0x29a9b9=[],_0x6e1e0=[],_0x291006=0x0,_0x13abcf=[],_0x9c05f3=null,_0x4b64b6='',_0x5b7f24='',_0x108de6=null){super(),this['channel']=_0x37cee7,this['version']=_0x77c00c,this['buffers']=_0x29a9b9,this['types']=_0x6e1e0,this['offset']=_0x291006,this['metadata']=_0x13abcf,this['initData']=_0x9c05f3,this['sessionId']=_0x4b64b6,this['lastOperationId']=_0x5b7f24,this['sessionCreatedAt']=_0x108de6;}get['data'](){return{'buffers':this['buffers'],'types':this['types'],'baseVersion':this['version']-this['types']['length'],'lastOperationId':this['lastOperationId'],'sessionCreatedAt':this['sessionCreatedAt']};}get['wereChangesApplied'](){return!this['types']?.['length']&&null===this['initData'];}['toJSON'](){return{'channel':this['channel'],'version':this['version'],'sessionId':this['sessionId'],'buffers':this['buffers'],'types':this['types'],'offset':this['offset'],'metadata':_0x4e620c['removeUnnecessaryMetadata'](this['types'],this['metadata'])['map'](_0x139700['toJSON']),'initData':this['initData']??'','isInitialized':'string'==typeof this['initData'],'lastOperationId':this['lastOperationId'],'sessionCreatedAt':this['sessionCreatedAt']?this['sessionCreatedAt']['toISOString']():null};}static['create'](_0x4ef256){return new CollaborativeEditingConnectResponse(_0x4ef256['channel'],_0x4ef256['version'],_0x4ef256['buffers'],_0x4ef256['types'],_0x4ef256['offset'],_0x4ef256['metadata'],_0x4ef256['initData'],_0x4ef256['sessionId'],_0x4ef256['lastOperationId'],_0x4ef256['sessionCreatedAt']);}static['fromJSON'](_0x360e45){let _0x78669b=null;return!0x0===_0x360e45['isInitialized']?_0x78669b=_0x360e45['initData']??'':'boolean'!=typeof _0x360e45['isInitialized']&&_0x360e45['initData']&&(_0x78669b=_0x360e45['initData']),CollaborativeEditingConnectResponse['create']({'channel':_0x360e45['channel'],'version':_0x360e45['version'],'buffers':_0x360e45['buffers'],'types':_0x360e45['types'],'offset':_0x360e45['offset'],'metadata':_0x4e620c['prepareMetadataForOperations'](_0x360e45['types'],_0x360e45['metadata'])['map'](_0x139700['fromJSON']),'initData':_0x78669b,'sessionId':_0x360e45['sessionId'],'lastOperationId':_0x360e45['lastOperationId'],'sessionCreatedAt':_0x360e45['sessionCreatedAt']?new Date(_0x360e45['sessionCreatedAt']):null});}}