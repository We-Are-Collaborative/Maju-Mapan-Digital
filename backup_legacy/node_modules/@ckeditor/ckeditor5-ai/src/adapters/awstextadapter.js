/*
 *             Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0xb17ef8=_0x1205;(function(_0x539f4d,_0x4fc930){const _0x5f0216=_0x1205,_0x44aca3=_0x539f4d();while(!![]){try{const _0x9a04e9=parseInt(_0x5f0216(0x175))/0x1*(-parseInt(_0x5f0216(0x13a))/0x2)+-parseInt(_0x5f0216(0x149))/0x3+-parseInt(_0x5f0216(0x145))/0x4+parseInt(_0x5f0216(0x143))/0x5+-parseInt(_0x5f0216(0x15c))/0x6*(-parseInt(_0x5f0216(0x162))/0x7)+parseInt(_0x5f0216(0x172))/0x8+-parseInt(_0x5f0216(0x13d))/0x9*(-parseInt(_0x5f0216(0x13f))/0xa);if(_0x9a04e9===_0x4fc930)break;else _0x44aca3['push'](_0x44aca3['shift']());}catch(_0x2fbbe1){_0x44aca3['push'](_0x44aca3['shift']());}}}(_0x3710,0xac13a));import{default as _0x1b9a2d}from'./aitextadapter.js';function _0x3710(){const _0x4aa09d=['preparePrompt','_prepareRequestParameters','config','_processAWSRequest','pluginName','\x0a\x0aAssistant:','generations','test','7593304GYtLrT','completion','ai.aws.apiUrl','32767LbbeCp','Your\x20task\x20is\x20to\x20generate\x20HTML\x20content\x20accordingly\x20to\x20the\x20given\x20instruction.\x20Never\x20include\x20<img>\x20tag\x20in\x20your\x20response\x20even\x20if\x20asked\x20for.\x20Your\x20answer\x20must\x20be\x20a\x20well-structured\x20and\x20properly\x20formatted\x20HTML\x20code.\x20Answer\x20only\x20with\x20the\x20generated\x20HTML\x20content.\x20Do\x20not\x20add\x20any\x20additional\x20remarks\x20or\x20notes.\x20Do\x20not\x20act\x20like\x20a\x20chatbot\x20or\x20a\x20real\x20person.','_prepareRequestHeaders','filter','_requestHeaders','getModelFamily','cohere.command','completions','split','editor','_readStaticResponse','Instruction:\x0a','bedrock-2023-05-31','_getGeneratedText','send','anthropic.claude-v2','define','_readStreamableResponse','ai.aws.requestHeaders','application/json','ai.aws.requestParameters','body','from','resolve','22FQNhDu','decode','ai21.j2','45HUcdhN','generation','620780pziQjn','meta.llama','join','data','4122750SdKPjH','parse','2442884EkDeXV','_requestParameters','\x0a<</SYS>>\x0a[INST]\x0a','abortController','3861702nWdIbH','Human:\x0a','toString','locale','AI_ERROR_UNSUPPORTED_MODEL','text','sendRequest','bytes','_readAsyncIterableResponse','POST','Your\x20task\x20is\x20to\x20execute\x20the\x20instruction\x20using\x20the\x20provided\x20HTML\x20content.\x20Follow\x20the\x20instruction\x20closely.\x20Your\x20answer\x20must\x20be\x20a\x20properly\x20formatted\x20HTML\x20code.\x20Do\x20not\x20add\x20any\x20additional\x20remarks\x20or\x20notes.\x20Do\x20not\x20act\x20like\x20a\x20chatbot\x20or\x20a\x20real\x20person.','map','anthropic.claude','chunk','\x0a[/INST]','get','AWSTextAdapter','json','_bedrockClientConfig','5466lEIFSY','_apiUrl','ai.aws.bedrockClientConfig','utf-8','utf8','<<SYS>>\x0a','6755yWwtQE','read','\x0aYou\x20must\x20keep\x20the\x20text\x20formatting.\x0a\x0aContent:\x0a','_processProxyRequest','getReader','length','stringify','signal'];_0x3710=function(){return _0x4aa09d;};return _0x3710();}import{AIRequestError as _0x458f9b}from'./aiadapter.js';function _0x1205(_0x554e5c,_0xb3653c){const _0x3710af=_0x3710();return _0x1205=function(_0x1205e7,_0x2d2d2e){_0x1205e7=_0x1205e7-0x127;let _0x18027c=_0x3710af[_0x1205e7];return _0x18027c;},_0x1205(_0x554e5c,_0xb3653c);}import{BedrockRuntimeClient as _0x2e1b42,InvokeModelCommand as _0x5aae5a,InvokeModelWithResponseStreamCommand as _0xd5e71b}from'@aws-sdk/client-bedrock-runtime';import{getTranslation as _0x2b543e}from'../utils/common-translations.js';export default class D extends _0x1b9a2d{[_0xb17ef8(0x15d)];[_0xb17ef8(0x179)];[_0xb17ef8(0x15b)];[_0xb17ef8(0x146)];static get[_0xb17ef8(0x16e)](){const _0x125c84=_0xb17ef8;return _0x125c84(0x159);}constructor(_0x385f9c){const _0x1da85c=_0xb17ef8;super(_0x385f9c),_0x385f9c[_0x1da85c(0x16c)][_0x1da85c(0x158)](_0x1da85c(0x136))||_0x385f9c[_0x1da85c(0x16c)][_0x1da85c(0x132)](_0x1da85c(0x136),{'model':_0x1da85c(0x131),'max_tokens_to_sample':0x7d0,'temperature':0x1,'top_p':0x1,'top_k':0xfa,'anthropic_version':_0x1da85c(0x12e),'stream':!0x0}),this[_0x1da85c(0x15d)]=_0x385f9c[_0x1da85c(0x16c)][_0x1da85c(0x158)](_0x1da85c(0x174)),this[_0x1da85c(0x15b)]=_0x385f9c[_0x1da85c(0x16c)][_0x1da85c(0x158)](_0x1da85c(0x15e)),this[_0x1da85c(0x179)]=_0x385f9c[_0x1da85c(0x16c)][_0x1da85c(0x158)](_0x1da85c(0x134)),this[_0x1da85c(0x146)]=_0x385f9c[_0x1da85c(0x16c)][_0x1da85c(0x158)](_0x1da85c(0x136));}async[_0xb17ef8(0x14f)]({query:_0x2a5b06,context:_0x29826d,onData:_0x527ae6,actionId:_0xe6604e}){const _0xf29d37=_0xb17ef8,{model:_0xf6c78,stream:_0x1729d1,..._0x555f20}=await this[_0xf29d37(0x16b)](this[_0xf29d37(0x146)],_0xe6604e),_0x25cba0={'prompt':await this[_0xf29d37(0x16a)](_0x2a5b06,_0x29826d,_0xf6c78,_0xe6604e),..._0x555f20};this[_0xf29d37(0x15d)]?await this[_0xf29d37(0x165)](_0x25cba0,_0xf6c78,_0x1729d1,_0x527ae6,_0xe6604e):await this[_0xf29d37(0x16d)](_0x25cba0,_0xf6c78,_0x1729d1,_0x527ae6);}async[_0xb17ef8(0x16a)](_0x1ddd1a,_0x354b85,_0x321947,_0x19bc63){const _0x255d64=_0xb17ef8;let _0x3f69af,_0x5b8f8c;return _0x354b85?(_0x3f69af=_0x255d64(0x153),_0x5b8f8c=_0x255d64(0x12d)+_0x1ddd1a+_0x255d64(0x164)+_0x354b85):(_0x3f69af=_0x255d64(0x176),_0x5b8f8c=_0x1ddd1a),_0x255d64(0x140)==this[_0x255d64(0x127)](_0x321947)?_0x255d64(0x161)+_0x3f69af+_0x255d64(0x147)+_0x5b8f8c+_0x255d64(0x157):_0x255d64(0x14a)+_0x3f69af+'\x0a'+_0x5b8f8c+_0x255d64(0x16f);}[_0xb17ef8(0x127)](_0x2e201b){const _0x25581d=_0xb17ef8;if(/^anthropic\.claude/[_0x25581d(0x171)](_0x2e201b))return _0x25581d(0x155);if(/^ai21\.j2/[_0x25581d(0x171)](_0x2e201b))return _0x25581d(0x13c);if(/^cohere\.command/[_0x25581d(0x171)](_0x2e201b))return _0x25581d(0x128);if(/^meta\.llama/[_0x25581d(0x171)](_0x2e201b))return _0x25581d(0x140);throw new _0x458f9b(_0x2b543e(this[_0x25581d(0x12b)][_0x25581d(0x14c)],_0x25581d(0x14d),_0x2e201b));}async[_0xb17ef8(0x165)](_0x3808cd,_0x1e91be,_0x2f34b7,_0x53d550,_0x146a15){const _0x6bd07c=_0xb17ef8,_0x40c05a={'method':_0x6bd07c(0x152),'headers':await this[_0x6bd07c(0x177)](this[_0x6bd07c(0x179)],_0x146a15),'body':JSON[_0x6bd07c(0x168)]({..._0x3808cd,'model':_0x1e91be,'stream':_0x2f34b7}),'signal':this[_0x6bd07c(0x148)][_0x6bd07c(0x169)]},_0x474ded=await fetch(this[_0x6bd07c(0x15d)],_0x40c05a);_0x2f34b7?await this[_0x6bd07c(0x133)](_0x474ded,_0x1e91be,_0x53d550):await this[_0x6bd07c(0x12c)](_0x474ded,_0x1e91be,_0x53d550);}async[_0xb17ef8(0x16d)](_0x143139,_0xdc528c,_0x3cac1a,_0x29ca5f){const _0x7909cd=_0xb17ef8,_0x172f55=new _0x2e1b42(this[_0x7909cd(0x15b)]),_0x266f5e={'body':JSON[_0x7909cd(0x168)](_0x143139),'contentType':_0x7909cd(0x135),'accept':_0x7909cd(0x135),'modelId':_0xdc528c};let _0x3ab6ad;if(_0x3cac1a){const _0x12a121=new _0xd5e71b(_0x266f5e);_0x3ab6ad=await _0x172f55[_0x7909cd(0x130)](_0x12a121,{'abortSignal':this[_0x7909cd(0x148)][_0x7909cd(0x169)]}),await this[_0x7909cd(0x151)](_0x3ab6ad,_0xdc528c,_0x29ca5f);}else{const _0x416411=new _0x5aae5a(_0x266f5e);_0x3ab6ad=await _0x172f55[_0x7909cd(0x130)](_0x416411,{'abortSignal':this[_0x7909cd(0x148)][_0x7909cd(0x169)]}),await this[_0x7909cd(0x12c)](_0x3ab6ad,_0xdc528c,_0x29ca5f);}}async[_0xb17ef8(0x151)](_0x17b6ec,_0x12f330,_0xa40dd7){const _0x307242=_0xb17ef8,_0x42b9a7=_0x17b6ec[_0x307242(0x137)],_0x329fad=new TextDecoder(_0x307242(0x15f));let _0x220140='';for await(const _0x50a7d2 of _0x42b9a7)if(_0x50a7d2[_0x307242(0x156)]){const _0x749c86=_0x329fad[_0x307242(0x13b)](_0x50a7d2[_0x307242(0x156)][_0x307242(0x150)]),_0x416c3a=JSON[_0x307242(0x144)](_0x749c86);_0x220140+=this[_0x307242(0x12f)](_0x416c3a,_0x12f330),_0xa40dd7(_0x220140);}return Promise[_0x307242(0x139)]();}async[_0xb17ef8(0x133)](_0x45ee37,_0x1b4da3,_0x512e89){const _0x382328=_0xb17ef8,_0x5cad71=_0x45ee37[_0x382328(0x137)],_0x2693d8=new TextDecoder(_0x382328(0x15f)),_0x520f4b=_0x5cad71[_0x382328(0x166)]();let _0x7661f8='',_0x241cf1='',_0x37088c=!0x1;for(;!_0x37088c;){const {done:_0x2fe902,value:_0x526fe5}=await _0x520f4b[_0x382328(0x163)]();if(_0x37088c=_0x2fe902,_0x37088c)break;const _0x3679bc=(_0x7661f8+_0x2693d8[_0x382328(0x13b)](_0x526fe5))[_0x382328(0x12a)]('\x0a')[_0x382328(0x154)](_0x5e7566=>{const _0x37023b=_0x382328;try{return _0x7661f8='',JSON[_0x37023b(0x144)](_0x5e7566);}catch{return _0x7661f8=_0x5e7566,null;}})[_0x382328(0x178)](_0x1ac8d8=>null!==_0x1ac8d8);_0x3679bc[_0x382328(0x167)]&&(_0x241cf1+=_0x3679bc[_0x382328(0x154)](_0x26c07f=>this[_0x382328(0x12f)](_0x26c07f,_0x1b4da3))[_0x382328(0x141)](''),_0x512e89(_0x241cf1));}return Promise[_0x382328(0x139)]();}async[_0xb17ef8(0x12c)](_0x5c8259,_0x690592,_0x4b1381){const _0x56b410=_0xb17ef8;let _0x2a3154;return _0x2a3154=_0x5c8259 instanceof Response?await _0x5c8259[_0x56b410(0x15a)]():JSON[_0x56b410(0x144)](Buffer[_0x56b410(0x138)](_0x5c8259[_0x56b410(0x137)])[_0x56b410(0x14b)](_0x56b410(0x160))),(_0x4b1381(this[_0x56b410(0x12f)](_0x2a3154,_0x690592)),Promise[_0x56b410(0x139)]());}[_0xb17ef8(0x12f)](_0x572fae,_0x3b27d7){const _0x543669=_0xb17ef8;switch(this[_0x543669(0x127)](_0x3b27d7)){case _0x543669(0x155):return _0x572fae[_0x543669(0x173)];case _0x543669(0x13c):return _0x572fae[_0x543669(0x129)][0x0][_0x543669(0x142)][_0x543669(0x14e)];case _0x543669(0x128):return _0x572fae[_0x543669(0x170)][0x0][_0x543669(0x14e)];case _0x543669(0x140):return _0x572fae[_0x543669(0x13e)];}}}